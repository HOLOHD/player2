(this.webpackJsonpapp2=this.webpackJsonpapp2||[]).push([[0],{100:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(29),l=a.n(s),o=(a(100),a(2)),c=a.n(o),i=a(6),m=a(5),d=a(1),u=a(42),p=a(11),f=function(e){var t=e.children;return r.a.createElement(p.a,null,r.a.createElement(u.b,{render:function(e){var a=e.location,n=a.pathname,s=a.search,l=a.hash;return"/"!==n&&"/"===n.slice(-1)?r.a.createElement(u.a,{to:"".concat(n.slice(0,-1)).concat(s).concat(l)}):t}}))};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Invalid IP address";return this.matches(/(^(\d{1,3}\.){3}(\d{1,3})$)/,{message:e,excludeEmptyString:!0}).test("ip",e,(function(e){return void 0===e||""===e.trim()||void 0===e.split(".").find((function(e){return parseInt(e,10)>255}))}))}var y=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7e3;return Promise.race([fetch(e,t),new Promise((function(e,t){return setTimeout((function(){return t(new Error("timeout"))}),a)}))])},h=function(){var e=Object(i.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled(t.map(function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("http://".concat(t,":8000/api/status"),{headers:new Headers({Authorization:"Basic ".concat(a)})},5e3);case 2:if(!(n=e.sent).ok){e.next=10;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",Object.assign(r.data,{ipAddress:t,authorized:!0}));case 10:return e.abrupt("return",Object.assign({},{ipAddress:t,authorized:!1}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,r=n.filter((function(e){return"fulfilled"===e.status})).map((function(e){return e.value})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(e){return Array.isArray(e)&&e.length},b=function(e,t){var a=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(a.length!==n.length)return!1;for(var r=0;r<a.length;r++){var s=a[r];if(e[s]!==t[s])return!1}return!0},E=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"s";return"".concat(e," ").concat(t).concat(1!==e?a:"")},v=function e(t,a){return Object.keys(a).every((function(n){return"object"==typeof a[n]?e(t[n],a[n]):a[n]===t[n]}))},w=function(e){return e.match(/.{1,4}/g).join("-")},N=function(e){var t=e.split(/(\d+)/);return"".concat(t[0]," ").concat(t[1])},k=function(e){return e.split(".")[0]},j=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],r=t[1];return[a,function(){r(!a)}]},O=function(e,t){Object(n.useEffect)((function(){var a=function(a){e.current&&!e.current.contains(a.target)&&t(a)};return document.addEventListener("click",a),document.addEventListener("touchstart",a),function(){document.removeEventListener("click",a),document.removeEventListener("touchstart",a)}}),[e,t])},S=Object(n.createContext)({players:[],title:""}),T=Object(n.createContext)(null),A=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}))},C=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))},L=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))},P=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}))},I=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t},r.a.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))},z=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t},r.a.createElement("path",{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"}))},F=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"}))},_=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"}))},D=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}))},H=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t},r.a.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"}))},R=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t},r.a.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}))},M=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t},r.a.createElement("path",{d:"M4.555 5.168A1 1 0 003 6v8a1 1 0 001.555.832L10 11.202V14a1 1 0 001.555.832l6-4a1 1 0 000-1.664l-6-4A1 1 0 0010 6v2.798l-5.445-3.63z"}))},U=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t},r.a.createElement("path",{d:"M8.445 14.832A1 1 0 0010 14v-2.798l5.445 3.63A1 1 0 0017 14V6a1 1 0 00-1.555-.832L10 8.798V6a1 1 0 00-1.555-.832l-6 4a1 1 0 000 1.664l6 4z"}))},B=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"}))},W=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))},q=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}))},V=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))},Y=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))},X=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"}))},J=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}))},K=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"}))},G=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"}))},Z=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"}))},$=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}))},Q=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"}))},ee=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}))},te=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:t},r.a.createElement("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"}))},ae=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}))},ne=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"}))},re=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"}))},se=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))},le=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"}))},oe=function(e){var t=e.className;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:t},r.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"}))},ce=function(e){var t,a=e.title,n=e.onClick,s=e.icon,l=e.className,o=e.label,c=e.type,i=e.isProcessing,m=e.disabled,d=void 0!==m&&m;switch(c){case"primary":t="border-transparent text-white bg-indigo-600 hover:bg-indigo-500 focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700";break;case"secondary":t="border-transparent text-indigo-700 bg-indigo-100 hover:bg-indigo-50 focus:border-indigo-300 focus:shadow-outline-indigo active:bg-indigo-200";break;case"tertiary":t="border-gray-300 text-cool-gray-700 bg-white hover:text-cool-gray-500 focus:border-blue-300 focus:shadow-outline-blue active:text-cool-gray-800 active:bg-cool-gray-50";break;case"destructive":t="border-transparent text-white bg-red-500 hover:bg-red-400 focus:border-red-300 focus:shadow-outline-red  active:bg-red-600"}return r.a.createElement("button",{type:"submit",className:"".concat(i?"cursor-not-allowed":""," inline-flex space-x-2 items-center px-2.5 py-1.5 sm:px-3 sm:py-2 border text-base leading-4 font-normal rounded focus:outline-none ").concat(t," transition ease-in-out duration-150 ").concat(l),"aria-label":o,onClick:n,disabled:d},i?r.a.createElement(se,{className:"animate-spin h-4 w-4 text-white"}):s||null,"onlyIcon"===c?null:r.a.createElement("span",{className:"text-sm"},i?"Processing":a))},ie=a(22),me=a(7),de=function(e){var t=e.label,a=Object(ie.a)(e,["label"]),n=Object(me.d)(a),s=Object(m.a)(n,2),l=s[0],o=s[1];return r.a.createElement("div",{className:"col-span-6 sm:col-span-4"},r.a.createElement("label",{htmlFor:a.id||a.name,className:"block text-sm font-medium leading-5 text-gray-700"},t),r.a.createElement("select",Object.assign({className:"mt-1 form-select block w-full pl-2 pr-10 py-2 text-base leading-6 border-gray-300 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 sm:text-sm sm:leading-5 ".concat(o.touched&&o.error?"border-red-300 focus:border-red-300 focus:shadow-outline-red":"focus:shadow-outline-blue focus:border-blue-300")},l,a)),o.touched&&o.error?r.a.createElement("p",{className:"error text-sm text-red-600 mt-1"},o.error):null)},ue=function(e){var t=e.isShowing,a=e.title,n=void 0===a?"Something went wrong":a,s=e.info,l=void 0===s?"Check your interent connection and try again":s;return t?r.a.createElement("div",{className:"w-full h-full flex items-center justify-center"},r.a.createElement("div",{className:"rounded-md bg-red-50 p-4 shadow"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"flex-shrink-0"},r.a.createElement(V,{className:"h-5 w-5 mr-1 text-red-400"})),r.a.createElement("div",{className:"ml-3"},r.a.createElement("h3",{className:"text-sm leading-5 font-medium text-red-800"},n),r.a.createElement("div",{className:"mt-2 text-sm leading-5 text-red-700"},l))))):null},pe=function(e){var t=e.field,a=t.name,n=t.value,s=t.onChange,l=t.onBlur,o=e.id,c=e.label,i=(e.className,Object(ie.a)(e,["field","id","label","className"]));return r.a.createElement("div",{className:"flex items-center my-1"},r.a.createElement("input",Object.assign({id:o,name:a,type:"radio",value:o,checked:o===n,onChange:s,onBlur:l,className:"form-radio h-4 w-4 text-indigo-600 transition ease-in-out duration-150 cursor-pointer"},i)),r.a.createElement("label",{htmlFor:o,className:"ml-2 cursor-pointer"},r.a.createElement("span",{className:"block text-sm leading-5 font-medium text-gray-500"},c)))},fe=function(e){var t=e.label,a=e.children,n=e.className;return r.a.createElement("fieldset",{className:"col-span-3"},r.a.createElement("legend",{className:"block text-sm font-medium leading-5 text-gray-700"},t),r.a.createElement("div",{className:"flex justify-between flex-col items-start mt-1 ".concat(n)},a))},ge=function(e){var t=e.label,a=e.actionName,n=e.actionIcon,s=e.handleAction,l=e.helpText,o=void 0===l?"":l,c=e.className,i=Object(ie.a)(e,["label","actionName","actionIcon","handleAction","helpText","className"]),d=Object(me.d)(i),u=Object(m.a)(d,2),p=u[0],f=u[1];return r.a.createElement("div",{className:"col-span-6 sm:col-span-4 ".concat(c)},r.a.createElement("label",{htmlFor:i.id||i.name,className:"block text-sm font-medium leading-5 text-cool-gray-700"},t),n?r.a.createElement("div",{className:"flex rounded-md mt-1"},r.a.createElement("div",{className:"relative flex-grow"},r.a.createElement("input",Object.assign({className:"form-input text-input text-sm leading-5 block w-full py-2 px-3 border border-gray-300 rounded-l-md rounded-r-none shadow-sm focus:outline-none transition ease-in-out duration-150 ".concat(i.disabled&&"cursor-not-allowed rounded-none"," ").concat(f.touched&&f.error?"border-red-300 text-red-900 focus:border-red-300 focus:shadow-outline-red":"focus:shadow-outline-blue focus:border-blue-300")},p,i))),r.a.createElement("button",{className:"-ml-px relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium leading-5 text-cool-gray-700 rounded-r-md bg-cool-gray-50 hover:text-cool-gray-500 hover:bg-white focus:outline-none focus:shadow-outline-blue focus:border-blue-300 active:bg-cool-gray-100 transition ease-in-out duration-150",type:"button",onClick:s},n,a?r.a.createElement("span",{className:"ml-2"},a):null)):r.a.createElement("input",Object.assign({className:"mt-1 form-input text-input text-sm leading-5 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150 ".concat(i.disabled&&"pt-0 pl-0 pb-0 text-cool-gray-500 border-none shadow-none"," ").concat(f.touched&&f.error?"border-red-300 text-red-900 focus:border-red-300 focus:shadow-outline-red":"focus:shadow-outline-blue focus:border-blue-300")},p,i)),f.touched&&f.error?r.a.createElement("p",{className:"text-sm text-red-600 error mt-1"},f.error):null,r.a.createElement("p",{className:"text-sm text-cool-gray-500"},o))},ye=function(e){var t=e.setIsMenuOpen,a=Object(n.useContext)(S);return r.a.createElement("header",{className:"z-5 h-16 bg-white border-b border-gray-200 flex items-center px-1 py-4 sm:px-6 lg:px-8"},r.a.createElement(ce,{type:"onlyIcon",icon:r.a.createElement(P,{className:"h-6 w-6 text-cool-gray-900"}),className:"md:hidden h-12 w-12 border-transparent",label:"Open sidebar",onClick:function(){return t(!0)}}),a.title)},he=a(73),xe=a.n(he),be=function(e){var t=e.type,a=void 0===t?"TailSpin":t,n=e.isLoading,s=e.height,l=void 0===s?45:s,o=e.width,c=void 0===o?45:o,i=e.color,m=void 0===i?"#5a67d8":i;return n&&r.a.createElement("div",{className:"h-full flex items-center justify-center"},r.a.createElement(xe.a,{type:a,color:m,height:l,width:c}))},Ee=a(19),ve=a(87),we=r.a.createContext({parent:{}});function Ne(e){var t=e.show,a=e.enter,n=void 0===a?"":a,s=e.enterFrom,l=void 0===s?"":s,o=e.enterTo,c=void 0===o?"":o,i=e.leave,m=void 0===i?"":i,d=e.leaveFrom,u=void 0===d?"":d,p=e.leaveTo,f=void 0===p?"":p,g=e.appear,y=e.children,h=n.split(" ").filter((function(e){return e.length})),x=l.split(" ").filter((function(e){return e.length})),b=c.split(" ").filter((function(e){return e.length})),E=m.split(" ").filter((function(e){return e.length})),v=u.split(" ").filter((function(e){return e.length})),w=f.split(" ").filter((function(e){return e.length}));function N(e,t){var a;t.length&&(a=e.classList).add.apply(a,Object(Ee.a)(t))}function k(e,t){var a;t.length&&(a=e.classList).remove.apply(a,Object(Ee.a)(t))}return r.a.createElement(ve.a,{appear:g,unmountOnExit:!0,in:t,addEndListener:function(e,t){e.addEventListener("transitionend",t,!1)},onEnter:function(e){N(e,[].concat(Object(Ee.a)(h),Object(Ee.a)(x)))},onEntering:function(e){k(e,x),N(e,b)},onEntered:function(e){k(e,[].concat(Object(Ee.a)(b),Object(Ee.a)(h)))},onExit:function(e){N(e,[].concat(Object(Ee.a)(E),Object(Ee.a)(v)))},onExiting:function(e){k(e,v),N(e,w)},onExited:function(e){k(e,[].concat(Object(Ee.a)(w),Object(Ee.a)(E)))}},y)}var ke=function(e){var t=e.show,a=e.appear,s=Object(ie.a)(e,["show","appear"]),l=Object(n.useContext)(we).parent,o=function(){var e=Object(n.useRef)(!0);return Object(n.useEffect)((function(){e.current=!1}),[]),e.current}();return void 0===t?r.a.createElement(Ne,Object.assign({appear:l.appear||!l.isInitialRender,show:l.show},s)):r.a.createElement(we.Provider,{value:{parent:{show:t,isInitialRender:o,appear:a}}},r.a.createElement(Ne,Object.assign({appear:a,show:t},s)))},je=function(e){var t=e.isLoading,a=e.loadingIcon,n=void 0===a?"TailSpin":a,s=e.loadingTitle,l=void 0===s?"Loading":s;return r.a.createElement(ke,{show:t},r.a.createElement("div",{className:"fixed bottom-0 inset-x-0 px-4 pb-4 sm:inset-0 sm:flex sm:items-center sm:justify-center"},r.a.createElement(ke,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"},r.a.createElement("div",{className:"fixed inset-0 transition-opacity"},r.a.createElement("div",{className:"absolute inset-0 bg-cool-gray-500 opacity-75"}))),r.a.createElement(ke,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},r.a.createElement("div",{className:"relative flex items-center justify-start bg-indigo-600 rounded-lg px-4 pt-5 pb-4 overflow-hidden shadow-xl transform transition-all sm:max-w-lg sm:w-full sm:p-10",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},r.a.createElement(xe.a,{type:n,color:"#ffffff",height:45,width:45}),r.a.createElement("h3",{className:"sm:text-xl text-lg leading-6 ml-6 font-medium text-white",id:"modal-headline"},l,"...")))))},Oe=function(e){var t=e.isShowing,a=e.hide,n=e.modalTitle,s=e.modalContent,o=e.icon,c=e.handleClose,i=void 0===c?a:c,m=e.color,d=void 0===m?"indigo":m;return l.a.createPortal(r.a.createElement(ke,{show:t},r.a.createElement("div",{className:"h-screen fixed bottom-0 flex items-end justify-center inset-x-0 px-4 pb-4 sm:inset-0 sm:items-center sm:justify-center"},r.a.createElement(ke,{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"},r.a.createElement("div",{className:"fixed inset-0 transition-opacity"},r.a.createElement("div",{className:"absolute inset-0 bg-cool-gray-500 opacity-75"}))),r.a.createElement(ke,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},r.a.createElement("div",{className:"max-h-full relative bg-white rounded-lg px-4 pt-5 pb-4 overflow-y-auto shadow-xl transform transition-all sm:max-w-lg sm:w-full sm:p-6",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},r.a.createElement("div",{className:"block absolute top-0 right-0 pt-4 pr-4"},r.a.createElement("button",{type:"button",className:"text-cool-gray-400 hover:text-cool-gray-500 focus:outline-none focus:text-cool-gray-500 transition ease-in-out duration-150","aria-label":"Close",onClick:i},r.a.createElement(L,{className:"h-6 w-6 currentColor"}))),r.a.createElement("div",{className:"sm:flex sm:items-start"},r.a.createElement("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-".concat(d,"-100 sm:mx-0 sm:h-10 sm:w-10")},o),r.a.createElement("div",{className:"flex flex-col w-full"},r.a.createElement("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},r.a.createElement("h3",{className:"text-lg leading-6 font-medium text-cool-gray-900 truncate",id:"modal-headline"},n)),r.a.createElement("div",{className:"mt-2 sm:pl-4"},s))))))),document.body)},Se=function(e){var t=e.ipAddress,a=e.currentPlayingFile,n=e.currentPlaylist,s=e.playlistOn,l=e.cpuSerialNumber,o=e.index,c=e.authorized;return r.a.createElement(p.b,{to:{pathname:"/players/player".concat(o+1,"/overview"),state:{ipAddress:t}},className:"block hover:bg-cool-gray-50 focus:outline-none focus:bg-cool-gray-50 transition duration-150 ease-in-out full ".concat(c?"":"cursor-not-allowed"),onClick:c?null:function(e){return e.preventDefault()}},r.a.createElement("div",{className:"flex items-center px-2 sm:px-4 py-4 sm:py-6"},r.a.createElement("div",{className:"min-w-0 flex-1 flex items-center"},r.a.createElement("div",{className:"h-13 w-13  min-w-0 flex-1 pl-5 pr-h-5 3sm: sm:px-5 md:grid md:grid-cols-2 md:gap-4"},r.a.createElement("div",{className:"h-full flex flex-col justify-between"},r.a.createElement("div",{className:"flex items-center space-x-3"},r.a.createElement("span",{"aria-label":"Player playlist status",className:"h-4 w-4 ".concat(c?s?"bg-green-100":"bg-red-100":"bg-cool-gray-100","  rounded-full flex items-center justify-center")},r.a.createElement("span",{className:"h-2 w-2 ".concat(c?s?"bg-green-400":"bg-red-400":"bg-cool-gray-400"," rounded-full")})),r.a.createElement("span",{className:"block"},r.a.createElement("h2",{className:"text-sm font-medium leading-5 capitalize truncate"},"Player ".concat(o+1),!c&&r.a.createElement("span",{className:"text-cool-gray-600 text-sm ml-1"},"(Unauthorized)")))),r.a.createElement("p",{className:"flex space-x-2 lining-nums text-sm leading-5 text-cool-gray-500 font-medium truncate uppercase tracking-wider"},r.a.createElement("span",null,t))),r.a.createElement("div",{className:"hidden md:flex md:flex-col md:justify-between"},r.a.createElement("div",{className:"flex items-center text-sm leading-5 text-cool-gray-500 space-x-2 group-hover:text-cool-gray-900"},s?"Playing":"Unknown",!!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mx-2 max-w-sm truncate font-medium text-cool-gray-900"},c?a:"_____"),"from",r.a.createElement("div",{className:"ml-2 max-w-sm truncate font-medium text-cool-gray-900"},c?n:"_____"))),r.a.createElement("p",{className:"flex space-x-2 text-sm leading-5 text-cool-gray-500 font-medium truncate uppercase tracking-wider"},r.a.createElement("span",null,w(c?l:"XXXXXXXXXXXXXXXX")))))),r.a.createElement("div",null,r.a.createElement(B,{className:"h-5 w-5 text-cool-gray-400 sm:mr-4"}))))};function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ae(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ce=r.a.createElement("defs",null),Le=r.a.createElement("g",{fill:"#5a67d8"},r.a.createElement("path",{d:"M27.1 1.1C14.1 3.6 3.5 14.4 1 27.5c-1.6 8.7-.9 136.6.8 141.7 3.1 9.2 12.4 18.3 21.5 21 6.1 1.9 139.3 1.9 145.4 0 9.1-2.7 18.4-11.8 21.5-21 1.7-5.1 2.4-133 .8-141.7C188.4 14 177.9 3.6 164.1 1c-6.6-1.2-130.6-1.2-137 .1zm78.5 34.4c14.9 3.5 27.3 13.1 33.3 25.8 19.7 41.5-23.7 84-64.8 63.3-2.9-1.4-5.5-2.6-5.7-2.6-.2 0-.4 7.7-.4 17.1v17.1l-2.9 2.9c-3.1 3.1-6.8 3.7-11.6 1.9-5.2-2-5.5-4.6-5.5-44.7 0-20.2.4-39.4 1-42.5 2.9-18.3 17.8-33.6 36.9-38.3 7.4-1.8 12.3-1.8 19.7 0z"}),r.a.createElement("path",{d:"M85.1 54.9C75.9 58.6 69.4 66.5 67 76.7c-1.4 6-.3 12.8 3.1 19.4 2.4 4.9 2 7.2-2 11.6l-3 3.3h3.3c1.8 0 5.4-.6 8-1.4 4.2-1.3 5.2-1.2 10.1.5 16.6 5.8 33.6-3.7 38.1-21.2 1.9-7.4.8-14.6-3.2-21.6-6.9-12-23.4-17.6-36.3-12.4z"})),Pe=function(e){var t=e.svgRef,a=e.title,n=Ae(e,["svgRef","title"]);return r.a.createElement("svg",Te({viewBox:"0 0 192 192",ref:t},n),a?r.a.createElement("title",null,a):null,Ce,Le)},Ie=r.a.forwardRef((function(e,t){return r.a.createElement(Pe,Te({svgRef:t},e))})),ze=(a.p,a(8)),Fe=a.n(ze),_e=[{id:111,title:"Dashboard",icon:r.a.createElement(A,{className:"h-6 w-6 mr-3"})},{id:222,title:"Settings",icon:r.a.createElement(C,{className:"h-6 w-6 mr-3"})}],De=[{id:888,title:"Help",url:"https://help.pisignage.com"},{id:999,title:"Pisignage.com",url:"https://pisignage.com"}],He=function(){return r.a.createElement("span",{className:"font-mono flex text-2xl items-center bg-white justify-start ml-6 select-none"},r.a.createElement(Ie,{className:"w-10 h-10 mr-2",title:"PiSignage logo"}),r.a.createElement("h3",{className:" font-medium"},"pi"),r.a.createElement("h3",{className:"font-semibold"},"signage"))},Re=function(e){var t=e.navItems,a=Object(n.useContext)(S),s=Object(n.useContext)(T),l=Object(u.g)();Object(n.useEffect)((function(){var e=!1;return function(){var t=Object(i.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{x(a.players)&&((n=a.players).forEach((function(e){return void 0===e.isOpen?e.isOpen=!1:e.isOpen})),e||s({type:"SET_PLAYERS",payload:n}))}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[a.players,s]);var o=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),r=a.players.map((function(e,t){return n===t?Object(d.a)(Object(d.a)({},e),{},{isOpen:!e.isOpen}):Object(d.a)(Object(d.a)({},e),{},{isOpen:!1})})),e.next=4,Fe.a.setItem("players",r);case 4:s({type:"SET_PLAYERS",payload:r});case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(c.a.mark((function e(t,a,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(t,n),l.push({pathname:"/players/player".concat(n+1,"/overview"),state:{ipAddress:a.ipAddress}});case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();return r.a.createElement("nav",{className:"px-4 space-y-1"},t.map((function(e){return r.a.createElement(p.c,{key:e.id,to:"/".concat(e.title.toLowerCase()),activeClassName:"bg-cool-gray-100 text-cool-gray-900",className:"group w-full text-cool-gray-500 flex items-center leading-5 font-medium text-sm rounded-md pl-2 py-2 hover:text-cool-gray-900 hover:bg-cool-gray-50 focus:outline-none focus:bg-cool-gray-100 transition ease-in-out duration-150"},e.icon,e.title)})),r.a.createElement(qe,{players:a.players,handlePlayer:m}))},Me=function(e){var t=e.footerItems;return r.a.createElement("footer",{className:"flex flex-col justify-between items-start border-t border-gray-200 p-4 md:pb-0"},t.map((function(e){return r.a.createElement("a",{className:"px-1 w-full text-xs font-normal py-1 tracking-widest text-cool-gray-400 rounded-md hover:text-cool-gray-800 focus:outline-none focus:bg-cool-gray-100 focus:text-cool-gray-800 uppercase",key:e.id,id:"pisignage-details",href:e.url,target:"_blank",rel:"noopener noreferrer"},e.title)})))},Ue=function(e){var t=e.isMenuOpen,a=e.setIsMenuOpen;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"md:hidden"},r.a.createElement(ke,{show:t},r.a.createElement("div",{className:"fixed inset-0 flex z-40"},r.a.createElement(ke,{enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0"},r.a.createElement("div",{className:"fixed inset-0"},r.a.createElement("div",{className:"absolute inset-0 bg-cool-gray-600 opacity-75"}))),r.a.createElement(ke,{enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full"},r.a.createElement("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white"},r.a.createElement("div",{className:"absolute top-0 right-0 -mr-14 p-1"},r.a.createElement(ce,{type:"onlyIcon",label:"Close sidebar",onClick:function(){return a(!1)},icon:r.a.createElement(L,{className:"h-6 w-6 text-white"}),className:"h-12 w-12 rounded-full border-transparent focus:outline-none"})),r.a.createElement("div",{className:"py-4"},r.a.createElement(He,null)),r.a.createElement("div",{className:"h-0 flex-1 flex flex-col overflow-y-auto"},r.a.createElement(Re,{navItems:_e})),r.a.createElement(Me,{footerItems:De}))),r.a.createElement("div",{className:"flex-shrink-0 w-14"})))),r.a.createElement("div",{className:"hidden md:flex md:flex-shrink-0"},r.a.createElement("div",{className:"flex flex-col w-64 border-r border-gray-200 pb-4 bg-white"},r.a.createElement("div",{className:"py-4"},r.a.createElement(He,null)),r.a.createElement("div",{className:"h-0 flex-1 flex flex-col overflow-y-auto"},r.a.createElement(Re,{navItems:_e})),r.a.createElement(Me,{footerItems:De}))))},Be=function(e){var t,a,n=e.appearance,s=e.title,l=e.info,o=e.onDismiss;switch(n){case"success":t="green",a=r.a.createElement(W,{className:"h-6 w-6 currentColor text-".concat(t,"-500")});break;case"error":t="red",a=r.a.createElement(q,{className:"h-6 w-6 currentColor text-".concat(t,"-500")});break;case"warning":t="yellow",a=r.a.createElement(Y,{className:"h-6 w-6 currentColor text-".concat(t,"-500")});break;case"info":t="blue",a=r.a.createElement(V,{className:"h-6 w-6 currentColor text-".concat(t,"-500")})}return r.a.createElement("div",{className:"fixed inset-0 flex items-end justify-center px-4 py-6 pointer-events-none sm:p-6 sm:items-start sm:justify-end"},r.a.createElement("div",{className:"max-w-sm w-full bg-".concat(t,"-50 shadow-lg rounded-lg pointer-events-auto")},r.a.createElement("div",{className:"rounded-lg overflow-hidden sm:w-96"},r.a.createElement("div",{className:"p-4"},r.a.createElement("div",{className:"flex items-start"},r.a.createElement("div",{className:"flex-shrink-0"},a),r.a.createElement("div",{className:"ml-3 w-0 flex-1 pt-0.5"},r.a.createElement("p",{className:"text-sm leading-5 font-medium text-".concat(t,"-800")},s),r.a.createElement("p",{className:"mt-1 text-sm leading-5 text-".concat(t,"-500")},l)),r.a.createElement("div",{className:"ml-4 flex-shrink-0 flex"},r.a.createElement("button",{className:"inline-flex text-cool-gray-400 focus:outline-none focus:text-cool-gray-500 transition ease-in-out duration-150",onClick:o},r.a.createElement(L,{className:"h-5 w-5 currentColor"}))))))))},We=[{id:111,title:"Settings"},{id:222,title:"Assets"}],qe=function(e){var t=e.players,a=e.handlePlayer;return r.a.createElement("div",{className:"mt-4"},r.a.createElement("h3",{className:"select-none mt-8 px-2 text-xs flex items-center font-semibold text-cool-gray-500 uppercase tracking-wider"},"Players",r.a.createElement("span",{className:"ml-2 inline-block py-0.5 px-3 text-xs text-cool-gray-800 leading-4 font-medium rounded-full bg-cool-gray-100 transition ease-in-out duration-150"},t.length)),r.a.createElement("nav",{className:"mt-3 space-y-1"},t.map((function(e,t){return r.a.createElement(n.Fragment,{key:e.ipAddress},r.a.createElement(p.c,{to:{pathname:"/players/player".concat(t+1,"/overview"),state:{ipAddress:e.ipAddress}},onClick:e.authorized?function(n){return a(n,e,t)}:function(e){return e.preventDefault()},activeClassName:"".concat(e.authorized?"bg-cool-gray-100 text-cool-gray-900":""),className:"group w-full flex items-center pl-2 py-2 text-sm leading-5 font-medium rounded-md bg-white text-cool-gray-500 hover:text-cool-gray-900 hover:bg-cool-gray-50 focus:outline-none focus:text-cool-gray-900 focus:bg-cool-gray-100 transition ease-in-out duration-150 ".concat(e.authorized?"":"cursor-not-allowed")},r.a.createElement("span",{"aria-label":"Player playlist status",className:"mx-1 h-4 w-4  ".concat(e.authorized?e.playlistOn?"bg-green-100":"bg-red-100":"bg-cool-gray-100","  rounded-full flex items-center justify-center")},r.a.createElement("span",{className:"h-2 w-2 ".concat(e.authorized?e.playlistOn?"bg-green-400":"bg-red-400":"bg-cool-gray-400"," rounded-full")})),r.a.createElement("span",{className:"ml-3"},"Player ",t+1),r.a.createElement("svg",{className:"".concat(e.isOpen?"rotate-90 text-cool-gray-900":""," ml-auto h-5 w-5 transform text-cool-gray-400 transition-colors ease-in-out duration-150"),viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M6 6L14 10L6 14V6Z",fill:"currentColor"}))),r.a.createElement(ke,{show:e.isOpen,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},r.a.createElement("nav",{className:"sm:pt-0"},We.map((function(a){return r.a.createElement(p.c,{key:a.id,to:{pathname:"/players/player".concat(t+1,"/").concat(a.title.toLowerCase()),state:{ipAddress:e.ipAddress}},activeClassName:"bg-cool-gray-100 text-cool-gray-900",className:"group w-full my-1 flex items-center pl-9 pr-2 py-1 text-sm leading-5 font-medium text-cool-gray-500 rounded-md hover:text-cool-gray-900 hover:bg-cool-gray-50 focus:outline-none focus:text-cool-gray-900 focus:bg-cool-gray-100 transition ease-in-out duration-150"},r.a.createElement("span",{className:"ml-2"},a.title))})))))}))))},Ve=function(e){var t=e.button,a=e.options,s=e.onOptionSelect,l=e.position,o=e.offset,c=void 0===o?0:o,i=e.forceOpen,d=void 0!==i&&i,u=Object(n.useRef)(),p=Object(n.useState)(!1),f=Object(m.a)(p,2),g=f[0],y=f[1];return O(u,(function(){return y(!1)})),r.a.createElement("div",{className:"relative inline-block text-left"},r.a.createElement("div",{onClick:function(){return y(!g)}},t),r.a.createElement(ke,{show:g,enter:"transition ease-out duration-100 transform",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75 transform",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95"},r.a.createElement("div",{ref:u,className:"absolute ".concat(l,"-0 mt-").concat(c," w-48 rounded-md shadow-lg z-10")},r.a.createElement("div",{className:"rounded-md bg-white shadow-xs"},s?r.a.createElement("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},a.map((function(e,t){return r.a.createElement("div",{key:e+t,className:"truncate space-x-2 normal-case text-left font-normal cursor-pointer px-4 py-2 text-sm leading-5 text-gray-500 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900",role:"menuItem",onClick:function(t){s(e),y(!!d||!g)}},e)}))):r.a.createElement("div",{className:"py-1",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},a.map((function(e,t){return r.a.createElement("div",{key:e+t,role:"menuItem",onClick:function(e){y(!g)}},e)})))))))},Ye=function(e){var t=e.button,a=e.handleAsset,s=e.assets,l=e.asset,o=e.index,d=Object(n.useRef)(),u=Object(n.useState)(!1),p=Object(m.a)(u,2),f=p[0],g=p[1];return O(d,(function(){g(!1)})),r.a.createElement("div",{className:"relative inline-flex justify-center"},r.a.createElement("div",{onClick:Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(l.name,"play");case 2:g(!0);case 3:case"end":return e.stop()}}),e)})))},t),r.a.createElement(ke,{show:f,enter:"transition ease-out duration-100 transform",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75 transform",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95"},r.a.createElement("div",{ref:d,className:"absolute mt-8 w-48 rounded-md shadow-lg z-10"},r.a.createElement("div",{className:"rounded-md bg-white shadow-xs"},r.a.createElement("div",{className:"p-2 flex flex-col items-center",role:"menu","aria-orientation":"vertical"},r.a.createElement("div",{className:"flex items-center text-xs leading-5 text-gray-500 space-x-2 group-hover:text-gray-900 truncate max-w-48"},r.a.createElement("div",{className:"flex flex-col items-center mb-2"},r.a.createElement("span",{className:"capitalize"},s[o].status),r.a.createElement("div",{className:"mx-2 w-40 text-center truncate font-medium text-gray-900"},s[o].name))),r.a.createElement("div",null,r.a.createElement("span",{className:"relative z-0 inline-flex shadow-sm"},r.a.createElement("button",{type:"button",className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-900 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150","aria-label":"Pause/Play",onClick:function(){return a(l.name,"stopped"===s[o].status||"paused"===s[o].status?"play":"pause")}},r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{className:"h-6 w-6 ".concat("playing"===s[o].status?"visible":"hidden")}),r.a.createElement(H,{className:"h-6 w-6 ".concat("paused"===s[o].status||"stopped"===s[o].status?"visible":"hidden")}))),r.a.createElement("button",{type:"button",className:"-ml-px relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-900 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150","aria-label":"Stop",onClick:Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(l.name,"stop");case 2:g(!1);case 3:case"end":return e.stop()}}),e)})))},r.a.createElement(ne,{className:"h-6 w-6"})))))))))},Xe=function(e){var t=e.item,a=e.isLast;Object(ie.a)(e,["item","isLast"]);return a?r.a.createElement("h1",{className:"breadcrumb-item sm:ml-0 capitalize text-sm sm:text-lg font-medium leading-6 text-gray-900 truncate"},t.label):r.a.createElement(p.b,{to:t.to,className:"breadcrumb-item sm:ml-0 capitalize text-sm sm:text-lg font-medium leading-6 text-gray-500 hover:text-gray-900"},t.label)},Je=function(e){var t=e.breadcrumbItems,a=t.length-1;return t=(t=t.map((function(e,t){var n=t===a;return r.a.createElement(Xe,{key:"breadcrumb_item".concat(t),item:e,isLast:n})}))).reduce((function(e,t,n){return n<a?e.push(t,r.a.createElement(B,{key:"separator".concat(n),className:"flex-shrink-0 text-gray-500 mx-1 sm:mx-2 h-3 w-3 sm:h-4 sm:w-4"})):e.push(t),e}),[]),r.a.createElement("div",{className:"flex items-center truncate"},t)},Ke=a(9),Ge=[{extension:".tv",type:"Live streaming or YouTube"},{extension:".stream",type:"Streaming"},{extension:".radio",type:"Audio streaming"},{extension:".link",type:"Web link (embedded)"},{extension:".weblink",type:"Web page"},{extension:".mrss",type:"Media RSS"},{extension:".txt",type:"Message"},{extension:".local",type:"Local folder/file"}],Ze=function(e){var t=e.asset,a=e.type,n=e.typeDisplay,s=e.handleAssetTypeChange,l=e.handleAssetSubmit,o=e.isProcessing,c=e.preview,i=t?k(t.name):"",m=t?{assetName:i,link:t.link?t.link:"",zoom:t.zoom?t.zoom:"",keystrokes:t.keystrokes?t.keystrokes:"",authToken:t.authToken?t.authToken:"",keyDelay:t.keyDelay?t.keyDelay:10,scroll:t.scroll?t.scroll:"",hideTitle:t.hideTitle?t.hideTitle:"",numberOfItems:t.numberOfItems?t.numberOfItems:"",duration:t.duration?t.duration:"",style:t.style?t.style:"",message:t.message?t.message:""}:{assetName:"",link:"",zoom:"",keystrokes:"",authToken:"",keyDelay:10,scroll:"",hideTitle:"",numberOfItems:"",duration:"",style:"",message:""};return r.a.createElement(me.c,{initialValues:m,validationSchema:Ke.c().shape({assetName:Ke.d().required("Asset name is required"),link:".txt"!==a?Ke.d().required("Required"):null,zoom:".weblink"===a?Ke.d().required("Required"):null,keyDelay:".weblink"===a||".local"===a?Ke.d().required("Required"):null,duration:".mrss"===a?Ke.d().required("Required"):null,style:"",message:".txt"===a?Ke.d().required("Required"):null}),onSubmit:function(e,t){var n,r,s;".tv"===a||".stream"===a||".radio"===a||".link"===a?n=function(e){e.zoom;return{zoom:1,link:e.link}}(e):".weblink"===a?n={zoom:(s=e).zoom,keystrokes:s.keystrokes,authToken:s.authToken,scroll:s.scroll,keyDelay:s.keyDelay,link:s.link}:".mrss"===a?n={zoom:1,hideTitle:(r=e).hideTitle,numberOfItems:r.numberOfItems,duration:r.duration,link:r.link,style:r.style}:".txt"===a?n=function(e){e.zoom;return{zoom:1,message:e.message,style:e.style}}(e):".local"===a&&(n=function(e){e.zoom;return{zoom:1,keyDelay:e.keyDelay,link:e.link}}(e)),l(Object(d.a)({type:a,name:e.assetName},n)),t.setSubmitting(!1)}},(function(e){var l=e.setFieldValue;return r.a.createElement(me.b,null,r.a.createElement("div",{className:"mt-3 mb-10 sm:mt-0 sm:mb-0"},r.a.createElement("div",{className:"sm:flex items-center justify-center"},r.a.createElement("div",{className:"sm:w-full"},r.a.createElement("div",{className:"".concat(c?"md:grid md:grid-cols-7 md:gap-4 sm:p-6 px-4 py-5":"mt-2"," ")},r.a.createElement("div",{className:"md:col-span-3"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"capitalize text-base font-medium leading-6 text-gray-900 sm:truncate"},"Asset name"),r.a.createElement("p",{className:"mt-1 text-sm leading-5 text-gray-500"},i)):r.a.createElement(ge,{label:"Asset name",name:"assetName",type:"text",className:"mb-5"})),r.a.createElement("div",{className:"mt-5 md:mt-0 md:col-span-4"},r.a.createElement("div",{className:"grid gap-y-6 grid-cols-3"},t?r.a.createElement(de,{label:"Asset type",name:"assetType",onChange:s},r.a.createElement("option",{value:a},n),Ge.filter((function(e){return e.extension!==a})).map((function(e){return r.a.createElement("option",{key:e.extension,value:e.extension},e.type)}))):r.a.createElement(de,{label:"Asset type",name:"assetType",onChange:s},r.a.createElement("option",{value:a},n),Ge.filter((function(e){return e.type!==a})).map((function(e){return r.a.createElement("option",{key:e.extension,value:e.extension},e.type)}))),".weblink"===a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,{label:"Zoom level",name:"zoom",type:"number",min:"0",step:"0.01",helpText:"e.g. 0.75 (75%), 1.25 (125%), or leave blank for no-zoom"}),r.a.createElement(ge,{label:"Key strokes",name:"keystrokes",type:"text",helpText:r.a.createElement("span",null,"Optional",r.a.createElement("a",{href:"http://robotjs.io/docs/syntax#keys",style:{color:"#4299E1"},target:"_blank",rel:"noopener noreferrer"},"\xa0 (Reference for key definitions)"))}),r.a.createElement(ge,{label:"Auth token",name:"authToken",type:"text"}),r.a.createElement("div",{className:"col-span-3 flex items-start justify-between"},r.a.createElement($e,{label:"Auto scroll",name:"scroll",helpText:"Optional"}),r.a.createElement(ge,{label:"Delay",name:"keyDelay",type:"number",min:"0",helpText:"In seconds"}))),".mrss"===a&&r.a.createElement("div",{className:"col-span-3 flex flex-col"},r.a.createElement(fe,{id:"hideTitle",label:"RSS text",className:"flex flex-row"},r.a.createElement(me.a,{component:pe,name:"hideTitle",id:"none",label:"Image",onChange:function(){l("hideTitle","none")}}),r.a.createElement(me.a,{component:pe,name:"hideTitle",id:"title",label:"Image and title",onChange:function(){l("hideTitle","title")}}),r.a.createElement(me.a,{component:pe,name:"hideTitle",id:"description",label:"Image and description",onChange:function(){l("hideTitle","description")}}),r.a.createElement(me.a,{component:pe,name:"hideTitle",id:"onlyTitle",label:"Title",onChange:function(){l("hideTitle","onlytitle")}}),r.a.createElement(me.a,{component:pe,name:"hideTitle",id:"onlyDescription",label:"Description",onChange:function(){l("hideTitle","onlydescription")}})),r.a.createElement("div",{className:"col-span-3 space-x-2 flex items-start justify-between mt-4"},r.a.createElement(ge,{label:"Number of items",name:"numberOfItems",type:"number",min:"0",helpText:"Optional"}),r.a.createElement(ge,{label:"Item duration",name:"duration",type:"number",min:"0",helpText:"In seconds"}))),".local"===a&&r.a.createElement(ge,{label:"Delay",name:"keyDelay",type:"number",min:"0",helpText:"In seconds"}),".txt"!==a&&r.a.createElement(ge,{label:"Link address",name:"link",type:"text",actionName:"",handleAction:function(){window.open(t.link)},actionIcon:t?r.a.createElement(re,{className:"h-5 w-5 text-gray-400"}):null}),(".mrss"===a||".txt"===a)&&r.a.createElement(ge,{label:"Optional CSS",name:"style",type:"text",helpText:"E.g. color:#eee; font-style:italic;"}),".txt"===a&&r.a.createElement(Qe,{label:"Message",name:"message",type:"text",rows:"4",cols:"50"})),r.a.createElement("div",{className:"pt-4 text-right"},r.a.createElement(ce,{type:"primary",title:c?"Update":"Add",icon:r.a.createElement(Q,{className:"h-5 w-5 text-white"}),isProcessing:o}))))))))}))},$e=function(e){var t=e.id,a=e.label,n=e.helpText,s=void 0===n?"":n,l=e.className,o=Object(ie.a)(e,["id","label","helpText","className"]),c=Object(me.d)(o),i=Object(m.a)(c,1)[0];return r.a.createElement("fieldset",null,r.a.createElement("label",{htmlFor:t,className:"block text-sm font-medium leading-5 text-gray-700"},a),r.a.createElement("div",{className:"my-2"},r.a.createElement("div",{className:"flex items-start"},r.a.createElement("div",{className:"flex items-center h-5"},r.a.createElement("input",Object.assign({id:t,type:"checkbox",checked:i.value,className:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out ".concat(l)},i,o))),r.a.createElement("div",{className:"ml-2 text-sm leading-5"},r.a.createElement("p",{className:"text-gray-500"},s)))))},Qe=function(e){var t=e.label,a=(e.actionName,e.actionIcon,e.handleAction,e.helpText),n=void 0===a?"":a,s=e.className,l=Object(ie.a)(e,["label","actionName","actionIcon","handleAction","helpText","className"]),o=Object(me.d)(l),c=Object(m.a)(o,2),i=c[0],d=c[1];return r.a.createElement("div",{className:"col-span-6 sm:col-span-4 ".concat(s)},r.a.createElement("label",{htmlFor:l.id||l.name,className:"block text-sm font-medium leading-5 text-gray-700"},t),r.a.createElement("textarea",Object.assign({className:"mt-1 form-input text-input text-sm leading-5 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150 ".concat(l.disabled&&"pt-0 pl-0 pb-0 text-gray-500 border-none shadow-none"," ").concat(d.touched&&d.error?"border-red-300 text-red-900 focus:border-red-300 focus:shadow-outline-red":"focus:shadow-outline-blue focus:border-blue-300")},i,l)),d.touched&&d.error?r.a.createElement("p",{className:"text-sm text-red-600 error mt-1"},d.error):null,r.a.createElement("p",{className:"text-sm text-gray-500"},n))},et=function(e){var t=e.className,a=void 0===t?null:t,s=e.title,l=void 0===s?"Upload files":s,o=e.handleUpload,c=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(e){c.current.click()},className:a},l),r.a.createElement("input",{type:"file",multiple:!0,ref:c,className:"hidden",onChange:function(e){e.preventDefault();var t=e.target.files;o(t)}}))},tt=function(e){var t=e.children,a=Object(n.useState)(!1),s=Object(m.a)(a,2),l=s[0],o=s[1];return r.a.createElement("div",{className:"h-screen flex overflow-hidden bg-cool-gray-100"},r.a.createElement(Ue,{isMenuOpen:l,setIsMenuOpen:o}),r.a.createElement("div",{className:"w-0 flex flex-col flex-1 overflow-hidden"},r.a.createElement(ye,{setIsMenuOpen:o}),r.a.createElement("main",{className:"flex-1 relative z-0 overflow-y-auto focus:outline-none",tabIndex:0},r.a.createElement("div",{className:"py-6 h-full"},r.a.createElement("div",{className:"h-full mx-auto px-4 sm:px-6 md:px-8 xl:w-2/3"},t)))))},at=function(e){var t=e.title,a=e.info,n=e.children;return r.a.createElement("div",{className:"bg-white shadow rounded-lg"},r.a.createElement("div",{className:"md:grid md:grid-cols-3"},r.a.createElement("div",{className:"md:col-span-1 px-4 py-5 sm:p-6 bg-cool-gray-50 rounded-t-lg sm:rounded-l-lg"},r.a.createElement("h3",{className:"text-base font-medium leading-6 text-cool-gray-900"},t),r.a.createElement("p",{className:"mt-1 text-sm leading-5 text-cool-gray-500"},a)),r.a.createElement("div",{className:"md:col-span-2 px-4 py-5 sm:p-6"},n)))},nt=a(20);Ke.a(Ke.d,"ipv4",g);var rt=function(e){var t=e.handlePlayersScan,a=e.netAddress;return r.a.createElement(at,{title:"Network range",info:"Local network address range for pi Players search"},r.a.createElement(me.c,{enableReinitialize:!0,initialValues:a,validationSchema:Ke.c({networkStart:Ke.d().ipv4().required("Required"),networkEnd:Ke.b().integer("Invalid end address").strict("Invalid end address").max(254,"Invalid end address").min(0,"Invalid end address").required("Please enter a number")}),onSubmit:function(e,a){var n=a.setSubmitting;t(e),n(!1)}},r.a.createElement(me.b,null,r.a.createElement("div",{className:"grid grid-cols-3 gap-6"},r.a.createElement(ge,{label:"Start",name:"networkStart",type:"text"}),r.a.createElement(ge,{label:"End Address",name:"networkEnd",type:"number"})),r.a.createElement("div",{className:"pt-3 text-right"},r.a.createElement(ce,{type:"primary",title:"Scan",icon:r.a.createElement(ee,{className:"h-4 w-4 text-white"})})))))},st=function(e){var t=e.handlePlayerCredentials,a=e.credentials,n=e.isProcessing;return r.a.createElement(at,{title:"Player credentials",info:"Use download access credentials from server UI (settings)"},r.a.createElement(me.c,{enableReinitialize:!0,initialValues:a,validationSchema:Ke.c({username:Ke.d().required("Required"),password:Ke.d().required("Required")}),onSubmit:function(e,a){var n=a.setSubmitting;t(e),n(!1)}},r.a.createElement(me.b,null,r.a.createElement("div",{className:"grid grid-cols-3 gap-6"},r.a.createElement(ge,{label:"Username",name:"username",type:"text"}),r.a.createElement(ge,{label:"Password",name:"password",type:"password"})),r.a.createElement("div",{className:"pt-3 text-right"},r.a.createElement(ce,{type:"primary",title:"Save",isProcessing:n,icon:r.a.createElement(Q,{className:"h-4 w-4 text-white"})})))))},lt=function(){var e=Object(n.useContext)(T),t=Object(u.g)(),a=Object(nt.useToasts)().addToast,s=Object(n.useReducer)((function(e,t){switch(t.type){case"FETCH_INIT":return Object(d.a)(Object(d.a)({},e),{},{isError:!1},t.payload);case"FETCH_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:!1},t.payload);case"FETCH_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:!0});case"UPDATE_NETWORK":return Object(d.a)(Object(d.a)({},e),{},{isScanning:!1,netAddress:t.payload});case"UPDATE_CREDENTIALS":return Object(d.a)(Object(d.a)({},e),{},{isProcessing:!1,credentials:t.payload});default:throw new Error}}),{netAddress:{networkStart:"",networkEnd:254},credentials:{username:"pi",password:"pi"},isLoading:!0,isError:!1,isScanning:!1,isProcessing:!1}),l=Object(m.a)(s,2),o=l[0],p=l[1];Object(n.useEffect)((function(){e({type:"SET_TITLE",payload:r.a.createElement("h1",{className:"capitalize text-2xl font-semibold leading-7 text-cool-gray-900 sm:leading-9 sm:truncate"},"Settings")})}),[e]);var f=function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=btoa("".concat(t.username,":").concat(t.password)),e.next=3,Fe.a.setItem("authToken",a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=!1;return function(){var t=Object(i.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p({type:"FETCH_INIT"}),t.prev=1,t.next=4,Fe.a.getItem("netAddress");case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={networkStart:"",networkEnd:254};case 7:return a=t.t0,t.next=10,Fe.a.getItem("credentials");case 10:if(t.t1=t.sent,t.t1){t.next=13;break}t.t1={username:"pi",password:"pi"};case 13:return n=t.t1,t.next=16,f(n);case 16:e||p({type:"FETCH_SUCCESS",payload:{netAddress:a,credentials:n}}),t.next=23;break;case 19:t.prev=19,t.t2=t.catch(1),console.error(t.t2),e||p({type:"FETCH_FAILURE"});case 23:case"end":return t.stop()}}),t,null,[[1,19]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[]);var g=function(){var e=Object(i.a)(c.a.mark((function e(n){var r,s,l,o,i,d,u,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p({type:"FETCH_INIT",payload:{isScanning:!0}}),e.prev=1,e.next=4,Fe.a.setItem("netAddress",n);case 4:for(r=[(c=n).networkStart.split(".").slice(0,3).join("."),parseInt(c.networkStart.split(".")[3]),c.networkEnd],s=Object(m.a)(r,3),l=s[0],o=s[1],i=s[2],d=[],u=[],f=o;f<=i;f++)d.push("http://".concat(l,".").concat(f,":8001"));return e.next=10,Promise.allSettled(d.map((function(e){return y(e,{},3e4)})));case 10:return e.sent.forEach((function(e){if("fulfilled"===e.status){var t=e.value.url.replace(/^https?:\/\//,"").split(":")[0];u.push(t)}})),e.next=14,Fe.a.setItem("playerIPs",u);case 14:p({type:"UPDATE_NETWORK",payload:n}),t.push("/dashboard"),x(u)?a("",{appearance:"success",title:"Successful scan",info:"".concat(E(u.length,"player")," found")}):a("",{appearance:"error",title:"Unsuccessful scan",info:"No players found"}),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),console.error(e.t0),a("",{appearance:"error",title:"Something went wrong",info:"Please try again"});case 23:case"end":return e.stop()}var c}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var t=Object(i.a)(c.a.mark((function t(n){var r,s,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!b(n,o.credentials)){t.next=5;break}return t.abrupt("return");case 5:return p({type:"FETCH_INIT",payload:{isProcessing:!0}}),t.next=8,f(n);case 8:return t.next=10,Fe.a.setItem("credentials",n);case 10:return t.next=12,Fe.a.getItem("playerIPs");case 12:if(r=t.sent,!x(r)){t.next=23;break}return t.next=16,Fe.a.getItem("authToken");case 16:return s=t.sent,t.next=19,h(r,s);case 19:return l=t.sent,t.next=22,Fe.a.setItem("players",l);case 22:e({type:"SET_PLAYERS",payload:l});case 23:p({type:"UPDATE_CREDENTIALS",payload:n}),a("",{appearance:"success",title:"Settings updated",info:"New credentials saved"});case 25:t.next=31;break;case 27:t.prev=27,t.t0=t.catch(0),console.error(t.t0),a("",{appearance:"error",title:"Something went wrong",info:"Please try again"});case 31:case"end":return t.stop()}}),t,null,[[0,27]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,!!o.isScanning&&r.a.createElement(je,{isLoading:o.isScanning,loadingIcon:"Puff",loadingTitle:"Scanning for players"}),!!o.isLoading&&r.a.createElement(be,{isLoading:o.isLoading}),!!o.isError&&r.a.createElement(ue,{isShowing:!0}),!o.isLoading&&r.a.createElement("div",{className:"space-y-4 mx-auto md:w-3/4 mb-6"},r.a.createElement(rt,{handlePlayersScan:g,netAddress:o.netAddress}),r.a.createElement(st,{handlePlayerCredentials:v,credentials:o.credentials,isProcessing:o.isProcessing})))},ot=function(e){var t=e.handleAddPlayer,a=e.handleGoToSettings;return!!e.isShowing&&r.a.createElement("div",{className:"w-full h-full flex items-center justify-center"},r.a.createElement("div",{className:"bg-white shadow sm:rounded-lg md:w-1/2"},r.a.createElement("div",{className:"px-4 py-5 sm:p-6"},r.a.createElement("h3",{className:"text-base font-medium leading-6 text-cool-gray-900 sm:truncate"},"No players found"),r.a.createElement("div",{className:"text-sm leading-5 text-cool-gray-500 mt-2 max-w-xl"},r.a.createElement("p",null,"Choose to instead add a player manually or change the network range in settings.")),r.a.createElement("div",{className:"mt-5 flex flex-col sm:flex-row sm:space-x-2 sm:space-y-0 space-y-2"},r.a.createElement(ce,{type:"tertiary",title:"Settings",onClick:a,className:"justify-center sm:justify-start",icon:r.a.createElement(te,{className:"h-4 w-4 text-cool-gray-700"})}),r.a.createElement(ce,{type:"primary",title:"Add",onClick:t,className:"justify-center sm:justify-start",icon:r.a.createElement(F,{className:"h-5 w-5 text-white"})})))))},ct=function(e){var t=e.players,a=e.handleAddPlayer,n=x(t),s=function(e){return x(e)&&!!e.filter((function(e){return e.authorized})).length}(t);return!!n&&r.a.createElement("div",null,r.a.createElement("h2",{className:"text-lg leading-6 font-medium text-cool-gray-900"},"Overview"),r.a.createElement("div",{className:"mt-2 grid grid-cols-2 gap-5 sm:grid-cols-3"},!!s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-white overflow-hidden shadow rounded-lg"},r.a.createElement("div",{className:"px-4 py-4"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"hidden sm:block flex-shrink-0 bg-indigo-500 rounded-md p-3"},r.a.createElement(le,{className:"h6 w-6 text-white"})),r.a.createElement("div",{className:"sm:ml-5 w-0 flex-1"},r.a.createElement("dl",null,r.a.createElement("dt",{className:"text-sm leading-5 font-medium text-cool-gray-00 truncate"},"Total players"),r.a.createElement("dd",{className:"mt-1 text-xl sm:text-2xl font-semibold text-cool-gray-900"},t.length)))))),r.a.createElement("div",{className:"bg-white overflow-hidden shadow rounded-lg"},r.a.createElement("div",{className:"px-4 py-4"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"hidden sm:block flex-shrink-0 bg-green-100 rounded-md p-3"},r.a.createElement(le,{className:"h-6 w-6 text-green-500"})),r.a.createElement("div",{className:"sm:ml-5 w-0 flex-1"},r.a.createElement("dl",null,r.a.createElement("dt",{className:"text-sm leading-5 font-medium text-cool-gray-500 truncate"},"Active players"),r.a.createElement("dd",{className:"mt-1 text-xl sm:text-2xl font-semibold text-cool-gray-900"},t.filter((function(e){return e.playlistOn})).length))))))),!s&&r.a.createElement("div",{className:"col-span-2 sm:col-span-1 space-x-2 rounded-lg shadow p-5 flex items-center justify-center border-transparent text-white bg-white"},r.a.createElement(V,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-500"}),r.a.createElement("h3",{className:"text-base leading-6 font-medium text-red-500 transition ease-in-out duration-150"},"Invalid credentials")),r.a.createElement("div",{className:"cursor-pointer col-span-2 sm:col-span-1 space-x-2 rounded-lg shadow p-5 flex items-center justify-center border-transparent text-white bg-indigo-600 hover:bg-indigo-500 focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700",onClick:a},r.a.createElement(F,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"}),r.a.createElement("h3",{className:"text-base leading-6 font-medium text-white transition ease-in-out duration-150"},"Add player"))))},it=function(e){var t=e.players;return r.a.createElement("div",{className:"hidden sm:block"},r.a.createElement("div",{className:"flex flex-col mt-2"},r.a.createElement("div",{className:"align-middle min-w-full overflow-x-auto shadow overflow-hidden sm:rounded-lg"},r.a.createElement("table",{className:"min-w-full divide-y divide-cool-gray-200"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"px-6 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider"},"Player"),r.a.createElement("th",{className:"px-6 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider"},"IP Address"),r.a.createElement("th",{className:"px-6 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider"},"Player ID"),r.a.createElement("th",{className:"px-6 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider"},"Status"),r.a.createElement("th",{className:"hidden px-6 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider md:block"},"Playing"))),r.a.createElement("tbody",{className:"bg-white divide-y divide-cool-gray-200"},t.map((function(e,t){return r.a.createElement("tr",{className:"bg-white",key:e.ipAddress},r.a.createElement("td",{className:"px-6 py-4 text-right whitespace-no-wrap text-sm leading-5"},r.a.createElement("div",{className:"flex"},r.a.createElement(p.b,{to:{pathname:"/players/player".concat(t+1,"/overview"),state:{ipAddress:e.ipAddress}},onClick:e.authorized?null:function(e){return e.preventDefault()},className:"group inline-flex space-x-2 truncate text-sm leading-5"},r.a.createElement("p",{className:"cursor-pointer text-sm leading-5 font-medium text-cool-gray-500 hover:text-cool-gray-600 hover:underline truncate group-hover:text-cool-gray-900 transition ease-in-out duration-150"},"Player ".concat(t+1))))),r.a.createElement("td",{className:"px-6 py-4 text-left whitespace-no-wrap uppercase tabular-nums text-sm leading-5 text-cool-gray-500"},e.ipAddress),r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap uppercase text-sm leading-5 tabular-nums text-cool-gray-500"},e.authorized?w(e.cpuSerialNumber):""),r.a.createElement("td",{className:"px-6 py-4 text-left whitespace-no-wrap text-sm leading-5 text-cool-gray-500"},r.a.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium leading-4 capitalize ".concat(e.authorized?e.playlistOn?"bg-green-100 text-green-800":"bg-red-100 text-red-800":"bg-cool-gray-100 text-cool-gray-800")},e.authorized?e.playlistOn?"Active":"Inactive":"Unauthorized")),r.a.createElement("td",{className:"hidden px-6 py-4 max-w-xs truncate whitespace-no-wrap text-sm leading-5 text-cool-gray-500 md:block"},e.currentPlayingFile))})))))))},mt=function(){var e=Object(n.useContext)(S),t=Object(n.useContext)(T),a=Object(u.g)(),s=j(),l=Object(m.a)(s,2),o=l[0],p=l[1],f=Object(nt.useToasts)().addToast,b=Object(n.useReducer)((function(e,t){switch(t.type){case"FETCH_INIT":return Object(d.a)(Object(d.a)({},e),{},{isError:!1},t.payload);case"FETCH_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:!1});case"FETCH_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:!0});case"UPDATE_PLAYERS":return Object(d.a)(Object(d.a)({},e),{},{isProcessing:!1});default:throw new Error}}),{isLoading:!0,isError:!1,isProcessing:!1}),E=Object(m.a)(b,2),v=E[0],w=E[1];Object(n.useEffect)((function(){t({type:"SET_TITLE",payload:r.a.createElement("h1",{className:"capitalize text-2xl font-semibold leading-7 text-cool-gray-900 sm:leading-9 sm:truncate"},"Dashboard")})}),[t]),Object(n.useEffect)((function(){var e=!1;return function(){var a=Object(i.a)(c.a.mark((function a(){var n,r,s;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return w({type:"FETCH_INIT"}),a.prev=1,a.next=4,Fe.a.getItem("authToken");case 4:return n=a.sent,a.next=7,Fe.a.getItem("playerIPs");case 7:return r=a.sent,a.next=10,h(r,n);case 10:return s=a.sent,a.next=13,Fe.a.setItem("players",s);case 13:e||(t({type:"SET_PLAYERS",payload:s}),w({type:"FETCH_SUCCESS"})),a.next=20;break;case 16:a.prev=16,a.t0=a.catch(1),console.error(a.t0),e||w({type:"FETCH_FAILURE"});case 20:case"end":return a.stop()}}),a,null,[[1,16]])})));return function(){return a.apply(this,arguments)}}()(),function(){e=!0}}),[t]);var N=function(){var e=Object(i.a)(c.a.mark((function e(a){var n,r,s,l,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe.a.getItem("players");case 3:if(n=e.sent,!(void 0!==n.find((function(e){return e.ipAddress===a.ipAddress})))){e.next=10;break}return f("",{appearance:"error",title:"Duplicate player",info:"Player already exists!"}),e.abrupt("return");case 10:return w({type:"FETCH_INIT",payload:{isProcessing:!0}}),e.next=13,Fe.a.getItem("authToken");case 13:return s=e.sent,e.next=16,y("http://".concat(a.ipAddress,":8000/api/status"),{headers:new Headers({Authorization:"Basic ".concat(s)})});case 16:if(!(l=e.sent).ok){e.next=24;break}return e.next=20,l.json();case 20:o=e.sent,r=Object.assign(o.data,Object(d.a)(Object(d.a)({},a),{},{authorized:!0})),e.next=25;break;case 24:r=Object.assign({},Object(d.a)(Object(d.a)({},a),{},{authorized:!1}));case 25:return n.push(r),i=n.map((function(e){return e.ipAddress})),e.next=29,Fe.a.setItem("playerIPs",i);case 29:return e.next=31,Fe.a.setItem("players",n);case 31:t({type:"SET_PLAYERS",payload:n}),w({type:"UPDATE_PLAYERS"}),p(),f("",{appearance:"success",title:"Successful",info:"Player has been added"});case 35:e.next=41;break;case 37:e.prev=37,e.t0=e.catch(0),console.error(e.t0),"timeout"===e.t0.message?(w({type:"UPDATE_PLAYERS"}),f("",{appearance:"error",title:"Unsuccessful",info:"No player found"})):f("",{appearance:"error",title:"Something went wrong",info:"Please try again"});case 41:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t){return e.apply(this,arguments)}}();Ke.a(Ke.d,"ipv4",g);var k={modalTitle:"Add player",modalContent:r.a.createElement(me.c,{initialValues:{ipAddress:""},validationSchema:Ke.c({ipAddress:Ke.d().ipv4().required("Required")}),onSubmit:function(e,t){var a=t.setSubmitting;N(e),a(!1)}},r.a.createElement(me.b,null,r.a.createElement(ge,{label:"IP address",name:"ipAddress",type:"text"}),r.a.createElement("div",{className:"mt-5 sm:mt-4 flex flex-row-reverse"},r.a.createElement(ce,{type:"primary",title:"Add",isProcessing:v.isProcessing,icon:r.a.createElement(F,{className:"h-5 w-5 text-white"})})))),toggle:function(){p()}};return r.a.createElement(r.a.Fragment,null,!!v.isLoading&&r.a.createElement(be,{isLoading:v.isLoading}),!!v.isError&&r.a.createElement(ue,{isShowing:v.isError}),!v.isLoading&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mb-6"},r.a.createElement(ct,{players:e.players,handleAddPlayer:p}),!!x(e.players)&&r.a.createElement("h2",{className:"text-lg leading-6 font-medium text-cool-gray-900 mt-10 mb-2"},"Available players"),r.a.createElement("div",{className:"bg-white shadow sm:hidden overflow-hidden rounded-md"},r.a.createElement("ul",null,e.players.map((function(e,t){return r.a.createElement("li",{key:e.ipAddress,className:"".concat(0===t?"":"border-t border-cool-gray-200")},r.a.createElement(Se,Object.assign({},e,{index:t})))})))),!!x(e.players)&&r.a.createElement(it,{players:e.players})),r.a.createElement(ot,{isShowing:!x(e.players),handleAddPlayer:p,handleGoToSettings:function(){return a.push("/settings")}})),r.a.createElement(Oe,{isShowing:o,hide:p,modalTitle:k.modalTitle,modalContent:k.modalContent,icon:r.a.createElement(F,{className:"h-6 w-6 text-indigo-700"})}))},dt=a(92),ut=function(e){var t=e.playerDetails,a=e.handlePlaylistStatus;return r.a.createElement("div",{className:"border-b border-cool-gray-200 px-4 py-5 sm:px-6 w-full flex justify-between items-start sm:flex-no-wrap"},r.a.createElement("div",{className:"flex flex-col items center"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("h2",{className:"text-sm sm:text-base font-medium leading-5 text-gray-500 capitalize truncate"},"Player ID")),r.a.createElement("div",{className:"text-sm sm:text-base mt-1 max-w-2xl font-medium uppercase tracking-wider truncate"},w(t.cpuSerialNumber))),r.a.createElement("div",{className:"flex flex-col items-center justify-center flex-shrink-0"},r.a.createElement("span",{role:"checkbox",tabIndex:0,"aria-checked":"false",onClick:function(){return a()},className:"".concat(t.playlistOn?"bg-green-400":"bg-red-500","  relative inline-block flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:shadow-outline")},r.a.createElement("span",{"aria-hidden":"true",className:"".concat(t.playlistOn?"translate-x-5":"translate-x-0"," inline-block h-5 w-5 rounded-full bg-white shadow transform transition ease-in-out duration-200")})),r.a.createElement("div",{className:"text-xs font-mono text-gray-400 mt-1"},"Playlist")))},pt=function(e){var t=e.playerDetails;return r.a.createElement("div",{className:"md:col-span-2"},r.a.createElement("table",{className:"min-w-full divide-y divide-cool-gray-200 h-full md:border-t-0 border-t border-cool-gray-200"},r.a.createElement("tbody",{className:"border-t md:border-t-0 border-cool-gray-200 divide-y divide-cool-gray-200"},r.a.createElement("tr",{className:"bg-cool-gray-50"},r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-500"},"MAC address"),r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-cool-gray-900"},"N/A")),r.a.createElement("tr",{className:"bg-white"},r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-500"},"IP address"),r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-cool-gray-900 tabular-num"},t.ipAddress)),r.a.createElement("tr",{className:"bg-cool-gray-50"},r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-500"},"Version"),r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-cool-gray-900"},"N/A")),r.a.createElement("tr",{className:"bg-white"},r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-500"},"Temperature"),r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-cool-gray-900"},"N/A")),r.a.createElement("tr",{className:"bg-cool-gray-50"},r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-500"},"Uptime"),r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-cool-gray-900"},"N/A")),r.a.createElement("tr",{className:"bg-white"},r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-500"},"Space used"),r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-cool-gray-900"},t.diskSpaceUsed)),r.a.createElement("tr",{className:"bg-cool-gray-50"},r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-500"},"Space available"),r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-cool-gray-900"},t.diskSpaceAvailable)))))},ft=function(e){var t=e.playerDetails,a=e.handleSnapshot,n=e.playerMediaControl;return r.a.createElement("div",{className:"md:col-span-2 md:border-r border-cool-gray-200 flex items-center flex-col justify-center px-4 py-5 sm:px-8 pb-0"},r.a.createElement("div",{className:"flex items-center justify-center mt-2 rounded-lg w-full cursor-pointer p-2 bg-indigo-200"},null===t.snapshotURL?r.a.createElement("div",{className:"p-4 rounded-md bg-indigo-200 w-full h-full flex items-center justify-center cursor-pointer",onClick:a},r.a.createElement(oe,{className:"h-5 w-5 sm:h-7 sm:w-7 text-gray-400"})):r.a.createElement("img",{src:"data:image/jpeg;base64,".concat(t.snapshotURL),alt:"",className:"w-full h-full",onClick:a})),r.a.createElement("div",{className:"text-base sm:text-lg font-semibold leading-5 text-cool-gray-900 mt-6 truncate w-3/4 text-center"},t.currentPlayingFile),r.a.createElement("div",{className:"text-xs sm:text-sm leading-5 text-cool-gray-500 mt-3 truncate max-w-full w-3/4 text-center"},t.currentPlaylist),r.a.createElement("div",{className:"w-full flex items-center justify-center mt-6 mb-4"},r.a.createElement("button",{type:"button",className:"flex items-center justify-center h-12 w-12 rounded-full focus:outline-none active:bg-gray-200 transition ease-in-out duration-150","aria-label":"Skip start",onClick:function(){return n("backward")}},r.a.createElement(U,{className:"h-6 w-6 text-cool-gray-400 hover:text-cool-gray-700"})),r.a.createElement("button",{type:"button",className:"flex items-center justify-center rounded-full focus:outline-none active:bg-gray-200 transition ease-in-out duration-150","aria-label":"".concat(t.isPaused," ? 'Play' : 'Pause'"),onClick:function(){return n("pause")}},t.isPaused?r.a.createElement(H,{className:"h-10 w-10 text-cool-gray-600 mx-4"}):r.a.createElement(R,{className:"h-10 w-10 text-cool-gray-600 mx-4"})),r.a.createElement("button",{type:"button",className:"flex items-center justify-center h-12 w-12 rounded-full focus:outline-none active:bg-gray-200 transition ease-in-out duration-150","aria-label":"Skip start",onClick:function(){return n("forward")}},r.a.createElement(M,{className:"h-6 w-6 text-cool-gray-400 hover:text-cool-gray-700"}))))},gt=function(e){var t=e.icon,a=e.title,n=e.handleClick;return r.a.createElement("span",{className:"inline-flex rounded-md shadow-sm"},r.a.createElement("button",{type:"button",className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs leading-4 font-medium rounded text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:text-gray-800 active:bg-gray-50 transition ease-in-out duration-150",onClick:n},t,a))},yt=function(e){var t=e.handleLog,a=e.handlePiShell;return r.a.createElement("div",{className:"border-t border-cool-gray-200 px-4 py-4 sm:px-6 flex items-center justify-between"},r.a.createElement(gt,{icon:r.a.createElement(_,{className:"h-4 sm:h-5 w-4 sm:w-5 text-black-400 mr-1"}),title:"Log",handleClick:t}),r.a.createElement(gt,{icon:r.a.createElement(D,{className:"h-4 sm:h-5 w-4 sm:w-5 text-black-400 mr-1"}),title:"piShell",handleClick:a}))},ht=function(){var e=Object(i.a)(c.a.mark((function e(t,a,n,r){var s,l,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("http://".concat(a,":8000/api/").concat(n),r);case 2:if(s=e.sent,"playlistStatus"!==t&&"mediaControl"!==t&&"snapshot"!==t&&"shell"!==t){e.next=10;break}return e.next=6,s.json();case 6:return l=e.sent,e.abrupt("return",l);case 10:if("log"!==t){e.next=15;break}return e.next=13,s.blob();case 13:return o=e.sent,e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),xt=function(){var e=Object(n.useContext)(T),t=Object(n.useState)(btoa("pi:pi")),a=Object(m.a)(t,2),s=a[0],l=a[1],o=Object(u.h)(),p=Object(u.i)().playerID,f=Object(nt.useToasts)().addToast,g=j(),y=Object(m.a)(g,2),h=y[0],x=y[1],b=o.state.ipAddress,E=Object(n.useReducer)((function(e,t){switch(t.type){case"FETCH_INIT":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{isError:!1,isLoading:!1},t.payload);case"FETCH_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{isError:!0,isLoading:!1});case"SET_PLAYER":return Object(d.a)(Object(d.a)({},e),{},{details:Object(d.a)(Object(d.a)({},e.details),t.payload)});case"SET_PISHELL":return Object(d.a)(Object(d.a)({},e),{},{piShell:Object(d.a)(Object(d.a)(Object(d.a)({},e.piShell),t.payload),{},{isProcessing:!1})});default:throw new Error}}),{details:{snapshotURL:null,isPaused:!1,isProcessing:!0},piShell:{isProcessing:!1,type:"",output:""},isLoading:!0,isError:!1}),v=Object(m.a)(E,2),w=v[0],k=v[1];Object(n.useEffect)((function(){e({type:"SET_TITLE",payload:r.a.createElement("h1",{className:"capitalize text-2xl font-semibold leading-7 text-cool-gray-900 sm:leading-9 sm:truncate"},N(p))})}),[e,p]),Object(n.useEffect)((function(){var e=!1;return function(){var t=Object(i.a)(c.a.mark((function t(){var a,n,r,o,i,u,f,g;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k({type:"FETCH_INIT"}),t.prev=1,t.next=4,Fe.a.getItem("authToken");case 4:return a=t.sent,l(a),n=["http://".concat(b,":8000/api/status"),"http://".concat(b,":8000/api/snapshot")],r=n.map((function(e){return fetch(e,{headers:new Headers({Authorization:"Basic ".concat(s)})}).then((function(e){return e.json()}))})),t.next=10,Promise.allSettled(r);case 10:return o=t.sent,t.next=13,o.filter((function(e){return"rejected"!==e.status})).map((function(e){return e.value}));case 13:i=t.sent,u=Object(m.a)(i,2),f=u[0],g=u[1],e||k({type:"FETCH_SUCCESS",payload:{details:Object(d.a)(Object(d.a)({playerID:p,ipAddress:b},f.data),{},{snapshotURL:g.data.data})}}),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),e||(console.error(t.t0),k({type:"FETCH_FAILURE"}));case 23:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[b,s,p]);var O=function(){var t=Object(i.a)(c.a.mark((function t(){var a,n,r,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=w.details.playlistOn,console.log("handlePlaylistStatus -> playlistStatus",a),n=a?{stop:!0}:{play:!0},t.next=6,ht("playlistStatus",b,"play/playlists/".concat(w.details.currentPlaylist),{method:"POST",headers:new Headers({Authorization:"Basic ".concat(s),"Content-Type":"application/json"}),body:JSON.stringify(n)});case 6:return t.next=8,Fe.a.getItem("players");case 8:return r=t.sent,l=r.map((function(e){return e.cpuSerialNumber===w.details.cpuSerialNumber?Object(d.a)(Object(d.a)({},e),{},{playlistOn:!a}):e})),t.next=12,Fe.a.setItem("players",l);case 12:if(e({type:"SET_PLAYERS",payload:l}),!a){t.next=17;break}k({type:"SET_PLAYER",payload:{playlistOn:!a,snapshotURL:null}}),t.next=20;break;case 17:return t.next=19,A();case 19:k({type:"SET_PLAYER",payload:{playlistOn:!a}});case 20:f("",{appearance:a?"error":"success",title:a?"Playlist stopped":"Playlist started"}),t.next=27;break;case 23:t.prev=23,t.t0=t.catch(0),console.error(t.t0),f("",{appearance:"error",title:"Something went wrong! Please try again."});case 27:case"end":return t.stop()}}),t,null,[[0,23]])})));return function(){return t.apply(this,arguments)}}(),S=function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ht("mediaControl",b,"playlistmedia/".concat(t),{method:"POST",headers:new Headers({Authorization:"Basic ".concat(s)})});case 3:if(a=e.sent,k({type:"SET_PLAYER",payload:{isPaused:a.data.isPaused}}),!w.details.isPaused&&"forward"!==t&&"backward"!==t){e.next=8;break}return e.next=8,A();case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),f("",{appearance:"error",title:"Something went wrong! Please try again."});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ht("snapshot",b,"snapshot",{headers:new Headers({Authorization:"Basic ".concat(s)})});case 3:(t=e.sent).success?k({type:"SET_PLAYER",payload:{snapshotURL:t.data.data}}):f("",{appearance:"error",title:"Check if the player is ON and try again."}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f("",{appearance:"error",title:"Something went wrong! Please try again."});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ht("log",b,"settings/log?file=forever_out.log",{method:"GET",headers:new Headers({Authorization:"Basic ".concat(s)})});case 3:t=e.sent,Object(dt.saveAs)(t,"forever_out.log"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f("",{appearance:"error",title:"Something went wrong! Please try again."});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k({type:"SET_PISHELL",payload:{isLoading:!0}}),e.next=4,ht("shell",b,"pishell",{method:"POST",headers:new Headers({Authorization:"Basic ".concat(s),"Content-Type":"application/json"}),body:JSON.stringify(t)});case 4:a=e.sent,n=a.data.stdout?"success":"warning",k({type:"SET_PISHELL",payload:{isLoading:!1,type:n,output:"success"===n?a.data.stdout:a.data.stderr}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),f("",{appearance:"error",title:"Something went wrong! Please try again."});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),P={modalTitle:"Pi Shell",modalContent:r.a.createElement(r.a.Fragment,null,r.a.createElement(me.c,{initialValues:{cmd:""},validationSchema:Ke.c({cmd:Ke.d().required("Required")}),onSubmit:function(e,t){var a=t.setSubmitting;L(e),a(!1)}},r.a.createElement(me.b,null,r.a.createElement(ge,{label:"Command",name:"cmd",type:"text"}),r.a.createElement("div",{className:"mt-3 sm:flex sm:flex-row-reverse"},r.a.createElement("span",{className:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},r.a.createElement(ce,{type:"primary",title:"Execute",icon:r.a.createElement(D,{className:"h-5 w-5 text-white"})}))))),r.a.createElement(be,{isLoading:w.piShell.isProcessing,height:25,width:25}),r.a.createElement("div",{className:"overflow-auto max-h-40 sm:max-h-60 bg-gray-100 sm:rounded-lg ".concat(w.piShell.output?"p-2":null," mt-4 font-mono whitespace-pre ").concat("success"===w.piShell.type?"text-gray-500":"text-yellow-300")},w.piShell.output)),handleClose:function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(),k({type:"SET_PISHELL",payload:{output:""}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};return r.a.createElement(r.a.Fragment,null,w.isLoading?r.a.createElement(be,{isLoading:w.isLoading}):w.isError?r.a.createElement(ue,{isShowing:w.isError}):r.a.createElement("div",{className:"flex items-center justify-center"},r.a.createElement("div",{className:"bg-white w-full overflow-hidden shadow rounded-lg mb-6"},r.a.createElement(ut,{playerDetails:w.details,handlePlaylistStatus:O}),r.a.createElement("div",{className:"md:grid md:grid-cols-4 bg-white"},r.a.createElement(ft,{playerDetails:w.details,handleSnapshot:A,playerMediaControl:S}),r.a.createElement(pt,{playerDetails:w.details,handleSnapshot:A,playerMediaControl:S})),r.a.createElement(yt,{handleLog:C,handlePiShell:x}))),r.a.createElement(Oe,{isShowing:h,hide:x,modalTitle:P.modalTitle,modalContent:P.modalContent,icon:r.a.createElement(D,{className:"h-6 w-6 text-gray-700"}),handleClose:P.handleClose}))},bt=a(93);Ke.a(Ke.d,"ipv4",g);var Et=function(e){var t=e.settings,a=e.dispatch,n=e.handleNetworkSettings,s={mode:t.mode,address:t.data.ipsettings.address,netmask:t.data.ipsettings.netmask,gateway:t.data.ipsettings.gateway,primary:t.data.dns.primary,secondary:t.data.dns.secondary};return r.a.createElement(at,{title:"Network settings",info:"Set the network settings for player ethernet interface"},r.a.createElement(me.c,{initialValues:s,validationSchema:Ke.c().shape({mode:Ke.d().required("Network mode is required"),address:"Static"===t.mode?Ke.d().ipv4().required("Required"):null,netmask:"Static"===t.mode?Ke.d().required("Required"):null,gateway:"Static"===t.mode?Ke.d().required("Required"):null}),onSubmit:function(e,a){var r,s;r="DHCP"===t.mode?{mode:(s=e).mode,address:s.address,primary:s.primary,secondary:s.secondary}:e,n(r),a.setSubmitting(!1)}},(function(e){var n=e.setFieldValue;return r.a.createElement(me.b,null,r.a.createElement("div",{className:"grid grid-cols-3 gap-6"},r.a.createElement(fe,{id:"mode",label:"Network mode"},r.a.createElement(me.a,{component:pe,name:"mode",id:"DHCP",label:"DHCP",onChange:function(){a({type:"SET_NETWORK_MODE",payload:"DHCP"}),n("mode","DHCP")}}),r.a.createElement(me.a,{component:pe,name:"mode",id:"Static",label:"Static",onChange:function(){a({type:"SET_NETWORK_MODE",payload:"Static"}),n("mode","Static")}})),r.a.createElement(ge,{label:"IP Address",name:"address",type:"text",disabled:"DHCP"===t.mode}),"Static"===t.mode&&r.a.createElement(ge,{label:"Netmask",name:"netmask",type:"text"}),"Static"===t.mode&&r.a.createElement(ge,{label:"Gateway",name:"gateway",type:"text"}),r.a.createElement(ge,{label:"Primary DNS",name:"primary",type:"text",helpText:"Optional"}),r.a.createElement(ge,{label:"Secondary DNS",name:"secondary",type:"text",helpText:"Optional"})),r.a.createElement("div",{className:"pt-3 text-right"},r.a.createElement(ce,{type:"primary",title:"Save",icon:r.a.createElement(Q,{className:"h-4 w-4 text-white"})})))})))},vt=function(e){var t=e.networks,a=e.isShowing,n=e.toggle,s=e.wifi,l=e.handleScan,o=e.handleWifiSettings;return r.a.createElement(at,{title:"Wifi settings",info:"Set wifi settings"},r.a.createElement(me.c,{initialValues:{ssid:s.ssid,pass:s.pass,country:"",assignedIPAddress:s.ip},validationSchema:Ke.c().shape({ssid:Ke.d().required("Required"),pass:Ke.d(),country:Ke.d().required("Required"),assignedIPAddress:Ke.d().required("Required")}),onSubmit:function(e,t){o(e),t.setSubmitting(!1)}},(function(e){var s=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(me.b,null,r.a.createElement("div",{className:"grid grid-cols-3 gap-6"},r.a.createElement(ge,{label:"Network Name (SSID)",name:"ssid",type:"text",actionName:"Scan",actionIcon:r.a.createElement(X,{className:"h-5 w-5 text-gray-400"}),handleAction:l}),r.a.createElement(ge,{label:"Password",name:"pass",type:"password"}),r.a.createElement(de,{label:"Country",name:"country"},r.a.createElement("option",{value:""},"Select country"),bt.a.map((function(e){return r.a.createElement("option",{key:e[1],value:e[1]},e[0])}))),r.a.createElement(ge,{label:"Assigned IP Address",name:"assignedIPAddress",type:"text",disabled:!0})),r.a.createElement("div",{className:"pt-3 text-right"},r.a.createElement(ce,{type:"primary",title:"Save",icon:r.a.createElement(Q,{className:"h-4 w-4 text-white"})}))),r.a.createElement(Oe,{isShowing:a,hide:n,modalTitle:"Available networks",modalContent:r.a.createElement(r.a.Fragment,null,t.output&&r.a.createElement("ul",{className:"max-h-60 sm:max-h-80 overflow-auto"},t.output.map((function(e,a){return r.a.createElement("button",{key:e,className:"border ".concat(t.output.length-1===a?"":"border-b-0"," border-gray-200 text-sm font-medium sm:text-base text-gray-500 hover:text-gray-900 block w-full hover:bg-gray-50 focus:outline-none focus:bg-gray-50 transition duration-150 ease-in-out"),onClick:function(){s("ssid",e),n()}},r.a.createElement("div",{className:"flex items-center px-2 py-2 sm:px-3"},e))}))),r.a.createElement(be,{isLoading:t.isLoading,height:25,width:25})),icon:r.a.createElement(X,{className:"h-6 w-6 text-gray-700"})}))})))},wt=function(e){var t=e.server,a=e.handleServerCredential;return r.a.createElement(at,{title:"Change server",info:"Set the server name for the player"},r.a.createElement(me.c,{enableReinitialize:!0,initialValues:{config:t.config},validationSchema:Ke.c({config:Ke.d().required("Required")}),onSubmit:function(e,t){a(e),t.setSubmitting(!1)}},r.a.createElement(me.b,null,r.a.createElement("div",{className:"grid grid-cols-3 gap-6"},r.a.createElement(ge,{label:"Server name or IP Address",name:"config",type:"text"})),r.a.createElement("div",{className:"pt-3 text-right"},r.a.createElement(ce,{type:"primary",title:"Save",icon:r.a.createElement(Q,{className:"h-4 w-4 text-white"})})))))},Nt=function(){var e=Object(n.useContext)(T),t=Object(u.i)().playerID,a=Object(n.useState)(btoa("pi:pi")),s=Object(m.a)(a,2),l=s[0],o=s[1],p=j(),f=Object(m.a)(p,2),g=f[0],y=f[1],h=Object(u.h)(),x=Object(nt.useToasts)().addToast,b=h.state.ipAddress,E=Object(n.useReducer)((function(e,t){switch(t.type){case"FETCH_INIT":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{data:t.payload,isLoading:!1,isError:!1});case"FETCH_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:!0});case"SET_NETWORK_MODE":return Object(d.a)(Object(d.a)({},e),{},{mode:t.payload});case"SET_NETWORKS":return Object(d.a)(Object(d.a)({},e),{},{networks:t.payload});default:throw new Error}}),{mode:"DHCP",networks:{isLoading:!1,output:[],selected:null},data:{},isLoading:!0,isError:!1}),v=Object(m.a)(E,2),w=v[0],k=v[1],O=[{to:{pathname:"/players/".concat(t),state:{ipAddress:b}},label:"".concat(N(t))},{to:"",label:"Settings"}];Object(n.useEffect)((function(){e({type:"SET_TITLE",payload:r.a.createElement(Je,{breadcrumbItems:O})})}),[e]),Object(n.useEffect)((function(){var e=!1;return function(){var t=Object(i.a)(c.a.mark((function t(){var a,n,r,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,k({type:"FETCH_INIT"}),a=h.state,t.next=5,Fe.a.getItem("credentials");case 5:return(n=t.sent)&&o(btoa("".concat(n.username,":").concat(n.password))),t.next=9,fetch("http://".concat(a.ipAddress,":8000/api/settings"),{headers:new Headers({Authorization:"Basic ".concat(l)})});case 9:return r=t.sent,t.next=12,r.json();case 12:s=t.sent,e||k({type:"FETCH_SUCCESS",payload:s.data}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),e||(console.error(t.t0),k({type:"FETCH_SUCCESS"}));case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[h.state,l]);var S=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n,r,s,o,i,m,d,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.mode,n=t.address,r=t.netmask,s=t.gateway,o=t.primary,i=t.secondary,m={ipsettings:{mode:a,address:n,netmask:r,gateway:s},dns:{primary:o,secondary:i}},d=h.state,e.next=6,fetch("http://".concat(d.ipAddress,":8000/api/settings/ethernet"),{method:"POST",headers:new Headers({Authorization:"Basic ".concat(l),"Content-Type":"application/json"}),body:JSON.stringify(m)});case 6:return u=e.sent,e.next=9,u.json();case 9:x("",{appearance:"success",title:"Network settings updated"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),x("",{appearance:"error",title:"Something went wrong! Please try again."});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n,r,s,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.ssid,n=t.pass,r=t.country,s={wifi:{open:!n.length,ssid:a,pass:n,country:r}},o=h.state,e.next=6,fetch("http://".concat(o.ipAddress,":8000/api/settings/wifi"),{method:"POST",headers:new Headers({Authorization:"Basic ".concat(l),"Content-Type":"application/json"}),body:JSON.stringify(s)});case 6:return i=e.sent,e.next=9,i.json();case 9:x("",{appearance:"success",title:"Wifi update successful"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.config,n={server:{config:a}},r=h.state,e.next=6,fetch("http://".concat(r.ipAddress,":8000/api/settings/servername"),{method:"POST",headers:new Headers({Authorization:"Basic ".concat(l),"Content-Type":"application/json"}),body:JSON.stringify(n)});case 6:return s=e.sent,e.next=9,s.json();case 9:x("",{appearance:"success",title:"New server name saved"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(),t=h.state,e.prev=2,k({type:"SET_NETWORKS",payload:{isLoading:!0}}),e.next=6,fetch("http://".concat(t.ipAddress,":8000/api/settings/wifiscan"),{headers:new Headers({Authorization:"Basic ".concat(l)})});case 6:return a=e.sent,e.next=9,a.json();case 9:n=e.sent,k({type:"SET_NETWORKS",payload:{isLoading:!1,output:n.data}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,w.isLoading?r.a.createElement(be,{isLoading:w.isLoading}):w.isError?r.a.createElement(ue,{isShowing:w.isError}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"space-y-4 mx-auto mb-6 sm:w-3/4"},r.a.createElement(Et,{settings:w,dispatch:k,handleNetworkSettings:S}),r.a.createElement(vt,{networks:w.networks,isShowing:g,toggle:y,wifi:w.data.wifi,handleScan:L,handleWifiSettings:A}),r.a.createElement(wt,{server:w.data.server,handleServerCredential:C}))))},kt=a(63),jt=[{type:".tv",display:"Live streaming or YouTube"},{type:".stream",display:"Streaming"},{type:".radio",display:"Audio streaming"},{type:".link",display:"Web link (embedded)"},{type:".weblink",display:"Web page"},{type:".mrss",display:"Media RSS"},{type:".txt",display:"Message"},{type:".local",display:"Local folder/file"}],Ot=function(e){var t=e.searchTerm,a=e.handleAssetSearch,n=e.addModal,s=e.setAssetType,l=e.handleAssetUpload;return r.a.createElement("div",{className:"flex-1 px-4 flex justify-between sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8"},r.a.createElement("div",{className:"flex-1 flex items-center py-3"},r.a.createElement(me.c,null,r.a.createElement(me.b,{className:"w-full flex md:ml-0"},r.a.createElement("label",{htmlFor:"searchTerm",className:"sr-only"},"Search"),r.a.createElement("div",{className:"relative w-full text-cool-gray-400 focus-within:text-cool-gray-600"},r.a.createElement("div",{className:"absolute inset-y-0 left-0 flex items-center pointer-events-none"},r.a.createElement(J,{className:"h-5 w-5 currentColor"})),r.a.createElement(me.a,{name:"searchTerm",className:"block w-full h-full pl-8 pr-3 py-2 rounded-md text-cool-gray-900 placeholder-cool-gray-500 focus:outline-none focus:placeholder-cool-gray-400 sm:text-sm",placeholder:"Search",type:"search",value:t,onChange:function(e){return a(e)}})))),r.a.createElement("span",{className:"rounded-md shadow-sm"},r.a.createElement(Ve,{button:r.a.createElement("button",{id:"sort-menu",type:"button",className:"inline-flex justify-center w-full rounded-md border border-cool-gray-300 px-4 py-2 bg-white text-sm leading-5 font-medium text-cool-gray-700 hover:text-cool-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-cool-gray-50 active:text-cool-gray-800 transition ease-in-out duration-150","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement($,{className:"mr-3 h-5 w-5 text-cool-gray-400"}),"Add",r.a.createElement(I,{className:"ml-2.5 -mr-1.5 h-5 w-5 text-cool-gray-400"})),options:[r.a.createElement(et,{className:"w-full text-left -mx-4 -my-2 px-4 py-2 focus:outline-none",handleUpload:l}),"Link","Message","Local folder/file"],onOptionSelect:function(e){if("Link"===e)s({type:".link",typeDisplay:"Web link (embedded)"}),n();else if("Message"===e)s({type:".txt",typeDisplay:"Message"}),n();else{if("Local folder/file"!==e)return;s({type:".local",typeDisplay:"Local folder/file"}),n()}},position:"right",offset:2,forceOpen:!0}))))},St=function(e){var t=e.originalAssets,a=e.assets,n=e.ipAddress,s=e.playerID,l=e.dispatchAssets,o=e.handleAssetAction,c=e.deleteModal;return r.a.createElement("div",{className:"border-b border-t border-cool-gray-200"},r.a.createElement("table",{className:"min-w-full divide-y divide-cool-gray-200"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"px-3 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider"},r.a.createElement("div",{className:"flex items-center"},"Name",r.a.createElement(Ve,{button:r.a.createElement("button",{type:"button",className:"flex items-center justify-center h-8 w-8 rounded-md focus:outline-none text-cool-gray-400 hover:text-cool-gray-900 active:bg-cool-gray-200 transition ease-in-out duration-150","aria-label":"Skip start"},r.a.createElement(z,{className:"h-5 w-5"})),options:["Ascending","Descending"],onOptionSelect:function(e){var a;a="Ascending"===e?Object(Ee.a)(t).sort((function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())})):Object(Ee.a)(t).sort((function(e,t){return t.name.toLowerCase().localeCompare(e.name.toLowerCase())})),l({type:"SET_ASSETS",payload:a})},position:"left"}))),r.a.createElement("th",{className:"hidden sm:table-cell px-3 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider"},r.a.createElement("div",{className:"flex items-center"},"Playlist",r.a.createElement(Ve,{button:r.a.createElement("button",{type:"button",className:"flex items-center justify-center h-8 w-8 rounded-md focus:outline-none active:bg-cool-gray-200 text-cool-gray-400 hover:text-cool-gray-900 transition ease-in-out duration-150","aria-label":"Skip start"},r.a.createElement(K,{className:"h-5 w-5"})),options:["All"],onOptionSelect:function(e){var a=Object(Ee.a)(t);if("All"===e)l({type:"SET_ASSETS",payload:a});else{var n=a.filter((function(t){return t.playlist.includes(e)}));l({type:"SET_ASSETS",payload:n})}},position:"left"}))),r.a.createElement("th",{className:"hidden sm:table-cell px-3 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider"},"Validity"),r.a.createElement("th",{className:"px-3 py-3 bg-cool-gray-50"}),r.a.createElement("th",{className:"px-3 py-3 bg-cool-gray-50"}))),r.a.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},a.map((function(e,t){return r.a.createElement("tr",{key:e.name,className:"hover:bg-cool-gray-50 focus:outline-none focus:bg-cool-gray-50 transition duration-150 ease-in-out"},r.a.createElement("td",{className:"px-6 py-4 whitespace-no-wrap"},r.a.createElement("div",{className:"flex flex-col"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("span",{className:"hidden sm:inline-flex items-center justify-center h-8 w-8 rounded-md bg-indigo-500"},r.a.createElement("span",{className:"font-medium text-sm leading-none capitalize text-white"},e.name.substring(0,2))),r.a.createElement(p.b,{to:{pathname:"/players/".concat(s,"/assets/").concat(e.name),state:{ipAddress:n,asset:e}},className:"cursor-pointer text-sm sm:ml-4 leading-5 font-medium text-cool-gray-500 hover:text-cool-gray-600 hover:underline truncate"},e.name)))),r.a.createElement("td",{className:"hidden sm:table-cell px-4 py-4 whitespace-no-wrap"},r.a.createElement("div",{className:"flex items-center text-sm leading-5 text-cool-gray-900"},e.playlist[0],e.playlist.length>1&&r.a.createElement(r.a.Fragment,null,",",r.a.createElement("button",{type:"button",className:"flex items-center justify-center -mb-2 h-8 w-8 rounded-full focus:outline-none active:bg-cool-gray-200 text-cool-gray-400 hover:text-cool-gray-900 transition ease-in-out duration-150","aria-label":"Skip start"},r.a.createElement(Z,{className:"h-5 w-5"}))))),r.a.createElement("td",{className:"hidden sm:table-cell px-4 py-4 whitespace-no-wrap"},r.a.createElement("div",{className:"text-sm leading-5 text-cool-gray-900"},e.validity)),r.a.createElement("td",{className:"px-3 py-4 whitespace-no-wrap text-sm leading-5 font-medium"},r.a.createElement(Ye,{button:r.a.createElement("button",{type:"button",className:"flex items-center justify-center h-8 w-8 rounded-full focus:outline-none active:bg-cool-gray-200 text-cool-gray-400 hover:text-cool-gray-900 transition ease-in-out duration-150","aria-label":"Skip start"},r.a.createElement(H,{className:"h-6 w-6"})),handleAsset:o,assets:a,asset:e,index:t})),r.a.createElement("td",{className:"px-3 py-4 whitespace-no-wrap text-sm leading-5 font-medium"},r.a.createElement(Ve,{button:r.a.createElement("button",{type:"button",className:"flex items-center justify-center h-8 w-8 rounded-full focus:outline-none active:bg-cool-gray-200 text-cool-gray-400 hover:text-cool-gray-900 transition ease-in-out duration-150","aria-label":"Skip start"},r.a.createElement(G,{className:"h-5 w-5"})),options:[r.a.createElement("a",{href:"http://pi:pi@".concat(n,":8000/media/").concat(e.name),target:"_blank",rel:"noopener noreferrer",download:"".concat(e.name),className:"flex items-center truncate space-x-2 normal-case text-left font-normal cursor-pointer px-4 py-2 text-sm leading-5 text-cool-gray-500 hover:bg-cool-gray-100 hover:text-cool-gray-900 focus:outline-none focus:bg-cool-gray-100 focus:text-cool-gray-900"},r.a.createElement(_,{className:"h-5 w-5 mr-3"}),"Download"),r.a.createElement("div",{className:"flex items-center truncate space-x-2 normal-case text-left font-normal cursor-pointer px-4 py-2 text-sm leading-5 text-cool-gray-500 hover:bg-cool-gray-100 hover:text-cool-gray-900 focus:outline-none focus:bg-cool-gray-100 focus:text-cool-gray-900",onClick:function(){return c(e.name)}},r.a.createElement(ae,{className:"h-5 w-5 mr-3"}),"Delete")],position:"right"})))})))))},Tt=function(){var e=Object(n.useContext)(T),t=Object(u.i)().playerID,a=j(),s=Object(m.a)(a,2),l=s[0],o=s[1],p=j(),f=Object(m.a)(p,2),g=f[0],h=f[1],x=Object(nt.useToasts)().addToast,b=Object(n.useState)(""),v=Object(m.a)(b,2),w=v[0],k=v[1],O=Object(n.useState)({type:"",typeDisplay:""}),S=Object(m.a)(O,2),A=S[0],C=S[1],L=Object(n.useState)(""),P=Object(m.a)(L,2),I=P[0],z=P[1],_=Object(n.useState)({name:"",status:"stop"}),D=Object(m.a)(_,2),H=D[0],R=D[1],M=Object(n.useReducer)((function(e,t){switch(t.type){case"FETCH_INIT":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0,isError:!1},t.payload);case"FETCH_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:!1,isUploading:!1},t.payload);case"FETCH_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:!0});case"SET_ASSETS":return Object(d.a)(Object(d.a)({},e),{},{assets:t.payload});default:throw new Error}}),{assets:[],originalAssets:[],breadcrumbItems:[],isUploading:!1,isLoading:!0,isError:!1}),U=Object(m.a)(M,2),B=U[0],W=U[1];Object(n.useEffect)((function(){e({type:"SET_TITLE",payload:r.a.createElement(Je,{breadcrumbItems:B.breadcrumbItems})})}),[e,B.breadcrumbItems]),Object(n.useEffect)((function(){var e=!1;return function(){var a=Object(i.a)(c.a.mark((function a(){var n,r,s,l,o,i,m,d;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return W({type:"FETCH_INIT"}),a.prev=1,a.next=4,Fe.a.getItem("authToken");case 4:return r=a.sent,a.next=7,Fe.a.getItem("players");case 7:return s=a.sent,l=parseInt(t.charAt(t.length-1),10)-1,n=s.find((function(e,t){return t===l})).ipAddress,k(n),a.next=13,y("http://".concat(n,":8000/api/files"),{headers:new Headers({Authorization:"Basic ".concat(r)})});case 13:return o=a.sent,a.next=16,o.json();case 16:i=a.sent,m=i.data.files.map((function(e){return{name:e,playlist:["N/A"],validity:"N/A",status:"stopped"}})),d=[{to:{pathname:"/players/".concat(t),state:{ipAddress:n}},label:"".concat(N(t))},{to:"",label:"Assets"}],e||(W({type:"SET_ASSETS",payload:m}),W({type:"FETCH_SUCCESS",payload:{originalAssets:m,breadcrumbItems:d}})),a.next=26;break;case 22:a.prev=22,a.t0=a.catch(1),console.error(a.t0),e||W({type:"FETCH_FAILURE"});case 26:case"end":return a.stop()}}),a,null,[[1,22]])})));return function(){return a.apply(this,arguments)}}()(),function(){e=!0}}),[w,t]);var q=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n,r,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe.a.getItem("authToken");case 3:return a=e.sent,e.next=6,y("http://".concat(w,":8000/api/files/").concat(t),{method:"DELETE",headers:new Headers({Authorization:"Basic ".concat(a)})});case 6:return n=e.sent,e.next=9,n.json();case 9:r=e.sent,s=r.data,o(),l=B.assets.filter((function(e){return e.name!==s})),W({type:"SET_ASSETS",payload:l}),x("",{appearance:"info",title:"Asset deleted",info:"".concat(t," has been removed")}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0),x("",{appearance:"error",title:"Something went wrong",info:"Please try again"});case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.a)(c.a.mark((function e(t,a){var n,r,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"play"===a?n="playing":"pause"===a?n="paused":"stop"===a&&(n="stopped"),r=B.assets.map((function(e){return e.name===t?Object(d.a)(Object(d.a)({},e),{},{status:n}):e})),e.next=4,Fe.a.getItem("authToken");case 4:return s=e.sent,e.next=7,y("http://".concat(w,":8000/api/play/files/").concat(a,"?file=").concat(t),{method:"POST",headers:new Headers({Authorization:"Basic ".concat(s),"Content-Type":"application/json"})});case 7:return l=e.sent,e.next=10,l.json();case 10:W({type:"SET_ASSETS",payload:r});case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),X={modalContent:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"text-sm leading-5 text-gray-500"},"Are you sure you want to delete this asset? It'll be permanently removed. This action cannot be undone."),r.a.createElement("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},r.a.createElement("span",{className:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},r.a.createElement(ce,{type:"destructive",title:"Delete",className:"w-full inline-flex justify-center",icon:r.a.createElement(ae,{className:"h-5 w-5 text-white"}),onClick:function(){return q(H.name)}})),r.a.createElement("span",{className:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},r.a.createElement(ce,{type:"tertiary",title:"Cancel",className:"w-full inline-flex justify-center",onClick:o})))),toggleModal:function(e){R({name:e,status:"stop"}),o()}},J=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n,r,s,l,o,i,m,d,u,p,f,g,h,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=[],n=0;n<t.length;n++)a.push(t[n]);for(r=new FormData,s=0,l=a;s<l.length;s++)o=l[s],r.append(o.name,o,o.name);return e.prev=4,W({type:"FETCH_INIT",payload:{isUploading:!0}}),e.next=8,Fe.a.getItem("authToken");case 8:return i=e.sent,e.next=11,y("http://".concat(w,":8000/api/files"),{method:"POST",headers:new Headers({Authorization:"Basic ".concat(i)}),body:r});case 11:return m=e.sent,e.next=14,m.json();case 14:d=e.sent,u=[],p=Object(kt.a)(d.data);try{for(p.s();!(f=p.n()).done;)g=f.value,h=Object.assign(g,{playlist:["N/A"],validity:"N/A",status:"stopped"}),u.push(h)}catch(c){p.e(c)}finally{p.f()}b=B.assets.concat(u),W({type:"SET_ASSETS",payload:b}),W({type:"FETCH_SUCCESS",payload:{originalAssets:b}}),x("",{appearance:"success",title:"Upload successful",info:"".concat(E(t.length,"file")," has been uploaded")}),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(4),console.error(e.t0),x("",{appearance:"error",title:"Something went wrong",info:"Please try again"});case 28:case"end":return e.stop()}}),e,null,[[4,24]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n,r,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe.a.getItem("authToken");case 3:return a=e.sent,n={details:t},e.next=7,fetch("http://".concat(w,":8000/api/links/"),{method:"POST",headers:new Headers({Authorization:"Basic ".concat(a),"Content-Type":"application/json"}),body:JSON.stringify(n)});case 7:return r=e.sent,e.next=10,r.json();case 10:s=Object.assign(t,{name:"".concat(t.name).concat(t.type),playlist:["N/A"],validity:"N/A",status:"stopped"}),(l=B.assets).push(s),W({type:"SET_ASSETS",payload:l}),W({type:"FETCH_SUCCESS",payload:{originalAssets:l}}),h(),x("",{appearance:"success",title:"Successfully added",info:"".concat(t.name," has been added")}),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),console.error(e.t0),x("",{appearance:"error",title:"Something went wrong! Please try again."});case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),G={modalTitle:"Add Asset",modalContent:r.a.createElement(Ze,{type:A.type,typeDisplay:A.typeDisplay,handleAssetTypeChange:function(e){var t=e.target.value,a=jt.find((function(e){return e.type===t})).display;C({type:t,typeDisplay:a})},handleAssetSubmit:K}),toggleModal:function(){h()}};return r.a.createElement(r.a.Fragment,null,!!B.isUploading&&r.a.createElement(je,{isLoading:B.isUploading,loadingIcon:"Grid",loadingTitle:"Uploading assets"}),B.isLoading?r.a.createElement(be,{isLoading:B.isLoading}):B.isError?r.a.createElement(ue,{isShowing:B.isError}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-white shadow overflow-visible rounded-md mb-6"},r.a.createElement(Ot,{searchTerm:I,handleAssetSearch:function(e){z(e.target.value);var t=B.originalAssets.map((function(e){return Object(d.a)({},e)})).filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));W({type:"SET_ASSETS",payload:t})},addModal:G.toggleModal,setAssetType:C,handleAssetUpload:J}),r.a.createElement(St,{originalAssets:B.originalAssets,assets:B.assets,dispatchAssets:W,playerID:t,ipAddress:w,handleAssetAction:Y,deleteModal:X.toggleModal})),r.a.createElement(Oe,{isShowing:l,hide:o,modalTitle:"Delete ".concat(H.name),modalContent:X.modalContent,icon:r.a.createElement(V,{className:"h-6 w-6 text-red-600"}),color:"red"}),r.a.createElement(Oe,{isShowing:g,hide:h,modalTitle:G.modalTitle,modalContent:G.modalContent,icon:r.a.createElement(F,{className:"h-6 w-6 text-gray-700"})})))},At=[{extension:".tv",type:"Live streaming or YouTube"},{extension:".stream",type:"Streaming"},{extension:".radio",type:"Audio streaming"},{extension:".link",type:"Web link (embedded)"},{extension:".weblink",type:"Web page"},{extension:".mrss",type:"Media RSS"},{extension:".txt",type:"Message"},{extension:".local",type:"Local folder/file"}],Ct=function(e){var t=e.asset,a=e.toggleAssign,n=e.toggleDelete;return r.a.createElement("div",{className:"border-b border-gray-200 px-4 py-5 sm:px-6"},r.a.createElement("div",{className:"-ml-4 -mt-4 flex justify-between items-center flex-wrap sm:flex-no-wrap"},r.a.createElement("div",{className:"ml-4 mt-4"},r.a.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 truncate"},t.name),r.a.createElement("p",{className:"mt-1 text-sm leading-5 text-gray-500"},"Associated playlists:",r.a.createElement("span",{className:"font-medium text-gray-600"}," N/A"))),r.a.createElement("div",{className:"ml-4 mt-4 flex-shrink-0 space-x-3"},r.a.createElement(ce,{type:"tertiary",title:"Assign",icon:r.a.createElement(F,{className:"h-5 w-5 text-gray-700"}),onClick:a}),r.a.createElement(ce,{type:"destructive",title:"Delete",icon:r.a.createElement(ae,{className:"h-5 w-5 text-white"}),onClick:n}))))},Lt=function(e){var t,a=e.asset,n=e.ipAddress,s=e.handleAssetTypeChange,l=e.assetType,o=e.handleAssetUpdate,c=e.isProcessing,i="http://pi:pi@".concat(n,":8000").concat(a.path);if("image"===a.type)t=r.a.createElement("img",{className:"max-w-full h-auto",src:i,alt:a.name});else if("audio"===a.type)t=r.a.createElement("audio",{controls:!0,src:i},"Your browser does not support the",r.a.createElement("code",null,"audio")," element.");else if("video"===a.type)t=r.a.createElement("video",{controls:!0,className:"w-full h-full"},r.a.createElement("source",{src:i}),"Sorry, your browser doesn't support embedded videos.");else{if("pdf"!==a.type)return r.a.createElement(Ze,{asset:a,type:l.type,typeDisplay:l.typeDisplay,handleAssetTypeChange:s,handleAssetSubmit:o,isProcessing:c,preview:!0});t=r.a.createElement("div",{className:"w-full h-full flex items-center justify-center"},r.a.createElement("embed",{title:a.name,src:i,className:"w-full",height:"500"}))}return r.a.createElement("div",{className:"px-4 py-5 sm:p-6 flex items-center justify-center w-full h-full"},t)},Pt=function(){var e=Object(n.useContext)(T),t=Object(u.i)(),a=t.playerID,s=t.assetName,l=Object(u.g)(),o=Object(nt.useToasts)().addToast,p=j(),f=Object(m.a)(p,2),g=f[0],h=f[1],x=j(),b=Object(m.a)(x,2),E=b[0],w=b[1],O=Object(n.useState)(""),S=Object(m.a)(O,2),A=S[0],C=S[1],L=Object(n.useState)(!1),P=Object(m.a)(L,2),z=P[0],_=P[1],D=Object(n.useState)({type:"",typeDisplay:""}),H=Object(m.a)(D,2),R=H[0],M=H[1],U=Object(n.useReducer)((function(e,t){switch(t.type){case"FETCH_INIT":return Object(d.a)(Object(d.a)({},e),{},{isError:!1},t.payload);case"FETCH_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:!1},t.payload);case"UPDATE_DATA":return Object(d.a)(Object(d.a)({},e),{},{isProcessing:!1},t.payload);case"FETCH_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:!0,isProcessing:!1});default:throw new Error}}),{asset:{},playlists:[],originalPlaylists:[],breadcrumbItems:[],isLoading:!0,isError:!1,isProcessing:!1}),B=Object(m.a)(U,2),W=B[0],q=B[1];Object(n.useEffect)((function(){var e=!1;return function(){var t=Object(i.a)(c.a.mark((function t(){var n,r,i,m,u,p,f,g,h,x,b,E,v,w,j,O;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return q({type:"FETCH_INIT"}),t.prev=1,t.next=4,Fe.a.getItem("authToken");case 4:return r=t.sent,t.next=7,Fe.a.getItem("players");case 7:return i=t.sent,m=parseInt(a.charAt(a.length-1),10)-1,n=i.find((function(e,t){return t===m})).ipAddress,t.next=12,y("http://".concat(n,":8000/api/files/").concat(s),{headers:new Headers({Authorization:"Basic ".concat(r)})});case 12:return p=t.sent,t.next=15,p.json();case 15:if(!(f=t.sent).success){t.next=38;break}if("notice"!==f.data.type){t.next=22;break}l.push({pathname:"/players/".concat(a,"/assets"),state:{ipAddress:n}}),o("",{appearance:"info",title:"Preview unvailable",info:"".concat(s," not yet supported")}),t.next=36;break;case 22:if("html"===f.data.type){t.next=26;break}u=Object(d.a)(Object(d.a)({},f.data),{},{ipAddress:n}),t.next=36;break;case 26:return t.next=28,y("http://".concat(n,":8000/api/links/").concat(s),{headers:new Headers({Authorization:"Basic ".concat(r)})});case 28:return g=t.sent,t.next=31,g.json();case 31:h=t.sent,x=JSON.parse(h.data.data),b=At.find((function(e){return e.extension===x.type})).type,M({type:x.type,typeDisplay:b}),u=Object(d.a)(Object(d.a)({},x),{},{ipAddress:n});case 36:t.next=40;break;case 38:l.push({pathname:"/players/".concat(a,"/assets"),state:{ipAddress:n}}),o("",{appearance:"info",title:"Asset not found",info:"".concat(s," does not exist")});case 40:return t.next=42,y("http://".concat(n,":8000/api/playlists"),{headers:new Headers({Authorization:"Basic ".concat(r)})});case 42:return E=t.sent,t.next=45,E.json();case 45:v=t.sent,w=v.data.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{isAssigned:!!e.assets.filter((function(e){return e.filename===s})).length})})),j=w.filter((function(e){return"TV_OFF"!==e.name})),O=[{to:{pathname:"/players/".concat(a,"/overview"),state:{ipAddress:n}},label:"".concat(N(a))},{to:{pathname:"/players/".concat(a,"/assets"),state:{ipAddress:n}},label:"Assets"},{to:"",label:"".concat(k(s))}],e||q({type:"FETCH_SUCCESS",payload:{asset:Object(d.a)({},u),playlists:j,originalPlaylists:j,breadcrumbItems:O}}),t.next=58;break;case 52:t.prev=52,t.t0=t.catch(1),console.error(t.t0),l.push({pathname:"/players/".concat(a,"/assets"),state:{ipAddress:n}}),o("",{appearance:"error",title:"Preview unvailable",info:"".concat(s," is not supported")}),e||q({type:"FETCH_FAILURE"});case 58:case"end":return t.stop()}}),t,null,[[1,52]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[s,o,l,a]),Object(n.useEffect)((function(){e({type:"SET_TITLE",payload:r.a.createElement(Je,{breadcrumbItems:W.breadcrumbItems})})}),[e,W.breadcrumbItems]);var Y=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n,r,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe.a.getItem("authToken");case 3:if(a=e.sent,n=W.asset.ipAddress,r={details:t},!v(W.asset,t)){e.next=10;break}return e.abrupt("return");case 10:return q({type:"FETCH_INIT",payload:{isProcessing:!0}}),e.next=13,fetch("http://".concat(n,":8000/api/links"),{method:"POST",headers:new Headers({Authorization:"Basic ".concat(a),"Content-Type":"application/json"}),body:JSON.stringify(r)});case 13:return s=e.sent,e.next=16,s.json();case 16:q({type:"UPDATE_DATA",payload:{asset:Object(d.a)(Object(d.a)({},W.asset),t)}}),o("",{appearance:"success",title:"Asset updated",info:"New ".concat(t.name," information saved")});case 18:e.next=25;break;case 20:e.prev=20,e.t0=e.catch(0),console.error(e.t0),q({type:"FETCH_FAILURE"}),o("",{appearance:"error",title:"Something went wrong",info:"Please try again"});case 25:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),X=function(e){var t,a=e.target.name,n=W.playlists;"selectAll"===a?(_(!z),t=n.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{isAssigned:!z})}))):(_(!1),t=n.map((function(e){return e.name===a?Object(d.a)(Object(d.a)({},e),{},{isAssigned:!e.isAssigned}):e}))),q({type:"UPDATE_DATA",payload:{playlists:t}})},K=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n,r,l,i,m,u,p,f,g,y,x,b,E,v,w,N,k,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.a.getItem("authToken");case 2:if(a=e.sent,n=W.asset.ipAddress,r=W.playlists.filter((function(e){return e.isAssigned})),l=Object(d.a)({filename:W.asset.name},W.asset),"append"!==t){e.next=52;break}e.prev=7,i=Object(kt.a)(r),e.prev=9,i.s();case 11:if((m=i.n()).done){e.next=35;break}if(u=m.value,p=u.assets,!(f=u.assets.map((function(e){return e.filename}))).includes(s)){e.next=19;break}o("",{appearance:"info",title:"Duplicate asset",info:"".concat(s," is already present in ").concat(u.name)}),e.next=33;break;case 19:return p.push(l),e.next=22,fetch("http://".concat(n,":8000/api/playlists/").concat(u.name),{method:"POST",headers:new Headers({Authorization:"Basic ".concat(a),"Content-Type":"application/json"}),body:JSON.stringify({assets:p})});case 22:return g=e.sent,e.next=25,g.json();case 25:return f.push(s),y={playlist:u.name,assets:f},e.next=29,fetch("http://".concat(n,":8000/api/playlistfiles"),{method:"POST",headers:new Headers({Authorization:"Basic ".concat(a),"Content-Type":"application/json"}),body:JSON.stringify(y)});case 29:return x=e.sent,e.next=32,x.json();case 32:o("",{appearance:"success",title:"Assign successful",info:"".concat(s," has been appended")});case 33:e.next=11;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(9),i.e(e.t0);case 40:return e.prev=40,i.f(),e.finish(40);case 43:h(),e.next=50;break;case 46:e.prev=46,e.t1=e.catch(7),console.error(e.t1),o("",{appearance:"error",title:"Something went wrong",info:"Please try again"});case 50:e.next=89;break;case 52:e.prev=52,b=Object(kt.a)(r),e.prev=54,b.s();case 56:if((E=b.n()).done){e.next=75;break}return v=E.value,w=v.assets.map((function(e){return e.filename})),w=[l],e.next=62,fetch("http://".concat(n,":8000/api/playlists/").concat(v.name),{method:"POST",headers:new Headers({Authorization:"Basic ".concat(a),"Content-Type":"application/json"}),body:JSON.stringify({assets:w})});case 62:return N=e.sent,e.next=65,N.json();case 65:return k={playlist:v.name,assets:w},e.next=68,fetch("http://".concat(n,":8000/api/playlistfiles"),{method:"POST",headers:new Headers({Authorization:"Basic ".concat(a),"Content-Type":"application/json"}),body:JSON.stringify(k)});case 68:return j=e.sent,e.next=71,j.json();case 71:h(),o("",{appearance:"success",title:"Purge and assign successful",info:"".concat(s," has been assigned")});case 73:e.next=56;break;case 75:e.next=80;break;case 77:e.prev=77,e.t2=e.catch(54),b.e(e.t2);case 80:return e.prev=80,b.f(),e.finish(80);case 83:e.next=89;break;case 85:e.prev=85,e.t3=e.catch(52),console.error(e.t3),o("",{appearance:"error",title:"Something went wrong",info:"Please try again"});case 89:case"end":return e.stop()}}),e,null,[[7,46],[9,37,40,43],[52,85],[54,77,80,83]])})));return function(t){return e.apply(this,arguments)}}(),G={modalTitle:"Assign asset",modalContent:r.a.createElement("div",{className:"overflow-visible"},r.a.createElement("div",{className:"flex-1 flex justify-between"},r.a.createElement("div",{className:"flex-1 flex items-center py-3"},r.a.createElement(me.c,null,r.a.createElement(me.b,{className:"w-full flex md:ml-0"},r.a.createElement("label",{htmlFor:"searchTerm",className:"sr-only"},"Search"),r.a.createElement("div",{className:"relative w-full text-cool-gray-400 focus-within:text-cool-gray-600"},r.a.createElement("div",{className:"absolute inset-y-0 left-0 flex items-center pointer-events-none"},r.a.createElement(J,{className:"h-5 w-5 currentColor"})),r.a.createElement(me.a,{name:"searchTerm",className:"block w-full h-full pl-8 pr-3 py-2 rounded-md text-cool-gray-900 placeholder-cool-gray-500 focus:outline-none focus:placeholder-cool-gray-400 sm:text-sm",placeholder:"Search",type:"search",value:A,onChange:function(e){return function(e){C(e.target.value);var t=W.originalPlaylists.map((function(e){return Object(d.a)({},e)})).filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));q({type:"UPDATE_DATA",payload:{playlists:t}})}(e)}})))),r.a.createElement("span",{className:"rounded-md shadow-sm"},r.a.createElement(Ve,{button:r.a.createElement("button",{id:"sort-menu",type:"button",className:"inline-flex justify-center w-full rounded-md border border-cool-gray-300 px-4 py-2 bg-white text-sm leading-5 font-medium text-cool-gray-700 hover:text-cool-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-cool-gray-800 transition ease-in-out duration-150","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement($,{className:"mr-3 h-5 w-5 text-cool-gray-400"}),"Assign",r.a.createElement(I,{className:"ml-2.5 -mr-1.5 h-5 w-5 text-cool-gray-400"})),options:["Append to playlist","Purge playlist and add"],onOptionSelect:function(e){K("Append to playlist"===e?"append":"purge")},position:"right",offset:2})))),r.a.createElement("div",{className:"flex-1 border border-cool-gray-200 h-full rounded-lg overflow-hidden"},r.a.createElement("table",{className:"min-w-full divide-y divide-cool-gray-200"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"px-6 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider"},"Playlist"),r.a.createElement("th",{className:"px-4 py-3 bg-cool-gray-50"},r.a.createElement("input",{id:"selectAll",name:"selectAll",type:"checkbox",value:z,checked:z,onChange:function(e){return X(e)},className:"form-checkbox cursor-pointer h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"})))),r.a.createElement("tbody",{className:"bg-white divide-y divide-gray-200 overflow-scroll"},W.playlists.map((function(e){return r.a.createElement("tr",{key:e.name,className:"hover:bg-cool-gray-50 focus:outline-none focus:bg-cool-gray-50 transition duration-150 ease-in-out"},r.a.createElement("td",{className:"table-cell px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-900"},e.name),r.a.createElement("td",{className:"table-cell px-4 py-4 text-center"},r.a.createElement("input",{id:e.name,name:e.name,type:"checkbox",value:e.isAssigned,checked:e.isAssigned,onChange:function(e){return X(e)},className:"form-checkbox cursor-pointer h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"})))})))))),toggle:function(){_(!1);var e=W.playlists.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{isAssigned:!!e.assets.filter((function(e){return e.filename===s})).length})})).filter((function(e){return"TV_OFF"!==e.name}));q({type:"UPDATE_DATA",payload:{playlists:e}}),h()}},Z=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe.a.getItem("authToken");case 3:return a=e.sent,n=W.asset.ipAddress,e.next=7,fetch("http://".concat(n,":8000/api/files/").concat(t),{method:"DELETE",headers:new Headers({Authorization:"Basic ".concat(a)})});case 7:return r=e.sent,e.next=10,r.json();case 10:l.goBack(),o("",{appearance:"info",title:"Asset deleted",info:"".concat(t," has been removed")}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),o("",{appearance:"error",title:"Something went wrong",info:"Please try again"});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),Q={modalContent:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"text-sm leading-5 text-gray-500"},"Are you sure you want to delete this asset? This action cannot be undone."),r.a.createElement("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},r.a.createElement("span",{className:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto"},r.a.createElement(ce,{type:"destructive",title:"Delete",className:"w-full inline-flex justify-center",icon:r.a.createElement(ae,{className:"h-5 w-5 text-white"}),onClick:function(){return Z(s)}})),r.a.createElement("span",{className:"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto"},r.a.createElement(ce,{type:"tertiary",title:"Cancel",className:"w-full inline-flex justify-center",onClick:w}))))};return r.a.createElement(r.a.Fragment,null,W.isLoading?r.a.createElement(be,{isLoading:W.isLoading}):W.isError?r.a.createElement(ue,{isShowing:W.isError}):r.a.createElement("div",{className:"bg-white overflow-hidden shadow rounded-lg mb-6"},r.a.createElement(Ct,{asset:W.asset,toggleAssign:h,toggleDelete:w}),r.a.createElement(Lt,{asset:W.asset,ipAddress:W.asset.ipAddress,assetType:R,handleAssetTypeChange:function(e){var t=e.target.value,a=At.find((function(e){return e.extension===t})).type;M({type:t,typeDisplay:a})},handleAssetUpdate:Y,isProcessing:W.isProcessing})),r.a.createElement(Oe,{isShowing:g,hide:G.toggle,modalTitle:G.modalTitle,modalContent:G.modalContent,icon:r.a.createElement(F,{className:"h-6 w-6 text-indigo-600"})}),r.a.createElement(Oe,{isShowing:E,hide:w,modalTitle:"Delete ".concat(s),modalContent:Q.modalContent,icon:r.a.createElement(V,{className:"h-6 w-6 text-red-600"}),color:"red"}))},It=function(){var e=Object(n.useReducer)((function(e,t){switch(t.type){case"SET_PLAYERS":return Object(d.a)(Object(d.a)({},e),{},{players:t.payload});case"SET_TITLE":return Object(d.a)(Object(d.a)({},e),{},{title:t.payload});default:throw new Error("Error encountered in App")}}),{players:[],title:""}),t=Object(m.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){var e=!1;return function(){var t=Object(i.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fe.a.getItem("players");case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=[];case 6:a=t.t0,e||s({type:"SET_PLAYERS",payload:a}),t.next=13;break;case 10:t.prev=10,t.t1=t.catch(0),console.error(t.t1);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[]),r.a.createElement(f,null,r.a.createElement(S.Provider,{value:a},r.a.createElement(T.Provider,{value:s},r.a.createElement(nt.ToastProvider,{autoDismiss:!0,components:{Toast:Be}},r.a.createElement(tt,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/settings",exact:!0,component:lt}),r.a.createElement(u.b,{path:"/dashboard",exact:!0,component:mt}),r.a.createElement(u.b,{path:"/players/:playerID/overview",exact:!0,component:xt}),r.a.createElement(u.b,{path:"/players/:playerID/settings",exact:!0,component:Nt}),r.a.createElement(u.b,{path:"/players/:playerID/assets",exact:!0,component:Tt}),r.a.createElement(u.b,{path:"/players/:playerID/assets/:assetName",exact:!0,component:Pt}),r.a.createElement(u.a,{to:"/settings"})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(It,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,t,a){e.exports=a(130)}},[[95,1,2]]]);
//# sourceMappingURL=main.91bdb4f2.chunk.js.map