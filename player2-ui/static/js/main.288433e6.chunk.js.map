{"version":3,"sources":["utils/Router.js","utils/helpers.js","utils/hooks.js","utils/context.js","utils/icons.js","components/Button.js","components/SelectMenu.js","components/ErrorAction.js","components/FormRadioInput.js","components/FormTextInput.js","components/Header.js","components/LoadingIndicator.js","components/Transition.js","components/LoadingOverlay.js","components/Modal.js","components/PlayerItem.js","utils/logo.svg","components/Sidebar.js","components/Toast.js","components/ToggleMenu.js","components/Dropdown.js","components/AssetPopover.js","components/Breadcrumb.js","components/AssetForm.js","components/FormCheckbox.js","components/FormTextarea.js","components/FilesUploader.js","layouts/MainLayout.js","layouts/SettingsLayout.js","pages/Settings.js","pages/Dashboard.js","pages/player/Overview.js","pages/player/Settings.js","pages/player/Assets.js","pages/player/Asset.js","App.js","serviceWorker.js","index.js"],"names":["Router","children","render","location","pathname","search","hash","slice","to","ipv4","message","this","matches","excludeEmptyString","test","value","undefined","trim","split","find","i","parseInt","fetchWithTimeout","url","options","timeout","Promise","race","fetch","_","reject","setTimeout","Error","getPlayers","playerIPs","token","a","allSettled","map","ipAddress","headers","Headers","Authorization","response","ok","json","data","Object","assign","authorized","results","players","filter","result","status","isArrayNotEmpty","arr","Array","isArray","length","areObjectsEquivalent","b","aProps","getOwnPropertyNames","bProps","propName","pluralize","count","noun","suffix","isSubset","superObj","subObj","keys","every","ele","formatID","id","match","join","formatPlayerName","name","playerName","getFileName","filename","useModal","useState","isShowing","setIsShowing","useOnClickOutside","ref","handler","useEffect","listener","event","current","contains","target","document","addEventListener","removeEventListener","AppState","createContext","title","AppDispatch","HomeIcon","className","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","CogIcon","XIcon","MenuIcon","ChevronDownIcon","fillRule","clipRule","SortAscendingIcon","PlusIcon","DownloadIcon","TerminalIcon","PlayIcon","PauseIcon","FastForwardIcon","RewindIcon","ChevronRightIcon","CheckCircleIcon","XCircleIcon","ExclamationCircleIcon","ExclamationIcon","WifiIcon","SearchIcon","FilterIcon","DotsVerticalIcon","DotsHorizontalIcon","DocumentAddIcon","SaveIcon","EyeIcon","ArrowRightIcon","TrashIcon","StopIcon","ExternalLinkIcon","RefreshIcon","CollectionIcon","BanIcon","Button","style","onClick","icon","label","type","isProcessing","disabled","aria-label","SelectMenu","props","useField","field","meta","htmlFor","touched","error","ErrorAction","info","RadioButton","onChange","onBlur","checked","FormRadioInput","FormTextInput","actionName","actionIcon","handleAction","helpText","Header","setIsMenuOpen","appState","useContext","LoadingIndicator","isLoading","height","width","color","TransitionContext","React","parent","CSSTransition","show","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","appear","enterClasses","s","enterFromClasses","enterToClasses","leaveClasses","leaveFromClasses","leaveToClasses","addClasses","node","classes","classList","add","removeClasses","remove","unmountOnExit","in","addEndListener","done","onEnter","onEntering","onEntered","onExit","onExiting","onExited","Transition","rest","isInitialRender","useRef","useIsInitialRender","Provider","LoadingOverlay","loadingIcon","loadingTitle","role","aria-modal","aria-labelledby","Modal","hide","modalTitle","modalContent","handleClose","ReactDOM","createPortal","body","PlayerItem","currentPlayingFile","currentPlaylist","playlistOn","cpuSerialNumber","index","state","preventDefault","_extends","arguments","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","_ref","svgRef","ForwardRef","forwardRef","navItems","footerItems","Logo","VerticalMenu","dispatchApp","history","useHistory","didCancel","tempPlayers","forEach","storedPlayer","isOpen","payload","err","console","fetchPlayers","handleToggle","e","stopPropagation","toggledPlayers","player","localforage","setItem","handlePlayer","push","navItem","toLowerCase","activeClassName","FooterMenu","footerItem","href","rel","Sidebar","isMenuOpen","Toast","appearance","onDismiss","ToggleMenu","menuItem","Dropdown","button","onOptionSelect","position","offset","forceOpen","setIsOpen","aria-orientation","option","AssetPopover","handleAsset","assets","asset","BreadcrumbItem","item","isLast","Breadcrumb","breadcrumbItems","lastIndex","reduce","acc","items","assetTypes","extension","AssetForm","typeDisplay","handleAssetTypeChange","handleAssetSubmit","preview","assetName","assetInitialValues","link","zoom","keystrokes","authToken","keyDelay","scroll","hideTitle","numberOfItems","duration","initialValues","validationSchema","Yup","shape","required","onSubmit","values","actions","picked","setSubmitting","setFieldValue","assetType","min","step","component","window","open","rows","cols","FormCheckbox","FormTextarea","FilesUploader","handleUpload","hiddenFileInput","click","multiple","filesUploaded","files","MainLayout","tabIndex","SettingsLayout","NetworkSettings","handlePlayersScan","netAddress","enableReinitialize","networkStart","networkEnd","integer","strict","max","PlayerCredentials","handlePlayerCredentials","credentials","username","password","Settings","addToast","useToasts","useReducer","action","isError","isScanning","settingsState","dispatchSettings","setAuthToken","btoa","getItem","initialNetAddress","initialCredentials","fetchSettings","netAddr","addressPrefix","startIP","endIP","urls","replace","storedPlayerIPs","NoPlayersFound","handleAddPlayer","handleGoToSettings","Overview","authStatus","getAuth","PlayersTable","Dashboard","toggle","dashboardState","dispatchDashboard","fetchDashboard","ipAddresses","addPlayerModal","PlayerHeader","playerDetails","handlePlaylistStatus","aria-checked","aria-hidden","PlayerInfo","ethMac","wifiMac","version","diskSpaceUsed","diskSpaceAvailable","PlayerMedia","handleSnapshot","playerMediaControl","snapshotURL","src","alt","isPaused","ButtonWithIcon","handleClick","PlayerFooter","handleLog","handlePiShell","fetchPlayerAPIs","params","blob","setToken","useLocation","playerID","useParams","details","piShell","output","playerState","dispatchPlayer","playerPromises","then","res","responses","playerData","snapshotData","fetchPlayer","playlistStatus","log","stop","play","method","JSON","stringify","storedPlayers","updatedPlayers","success","saveAs","handleShellCommand","stdout","stderr","piShellModal","cmd","settings","dispatch","handleNetworkSettings","networkInitalValues","mode","address","ipsettings","netmask","gateway","primary","dns","secondary","WifiSettings","networks","wifi","handleScan","handleWifiSettings","ssid","pass","country","assignedIPAddress","ip","CountryRegionData","network","ServerSettings","server","handleServerCredential","config","selected","storedCredentials","getSettings","display","AssetsHeader","searchTerm","handleAssetSearch","addModal","setAssetType","handleAssetUpload","placeholder","aria-haspopup","aria-expanded","AssetsTable","originalAssets","dispatchAssets","handleAssetAction","deleteModal","sortedAssets","sort","localeCompare","storedAssets","filteredAssets","playlist","includes","substring","validity","download","Assets","showDelete","toggleDelete","showAdd","toggleAdd","setIpAddress","setSearchTerm","currentAsset","setCurrentAsset","isUploading","assetsState","playerIndex","charAt","assetsData","fetchAssets","deleteAsset","deletedAsset","updatedAssets","mediaStatus","deleteAssetModal","toggleModal","fileList","formData","FormData","file","append","newAssets","newData","newAsset","concat","addAssetModal","AssetHeader","toggleAssign","AssetBody","handleAssetUpdate","previewSource","path","controls","Asset","showAssign","selectAll","setSelectAll","playlists","originalPlaylists","assetState","dispatchAsset","fileResponse","fileData","assetData","linkResponse","linkString","linkData","parse","playlistsResponse","playlistsData","initialPlaylists","isAssigned","playlistAsset","fetchAsset","handleCheckboxes","updatedPlaylists","handleAssignAsset","selectedPlaylists","assetNames","playlistResponse","assignAssetModal","filteredPlaylists","playlistsSearch","goBack","App","autoDismiss","components","exact","PlayerOverview","PlayerSettings","PlayerAssets","PlayerAsset","Boolean","hostname","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.288433e6.chunk.js","sourcesContent":["import React from 'react';\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\n\n// Normalize all paths to not have trailing slashes even if they\n// matched <Route> with one:\nconst Router = ({ children }) => (\n  <BrowserRouter>\n    <Route\n      render={({ location: { pathname, search, hash } }) =>\n        pathname !== '/' && pathname.slice(-1) === '/' ? (\n          <Redirect to={`${pathname.slice(0, -1)}${search}${hash}`} />\n        ) : (\n          children\n        )\n      }\n    />\n  </BrowserRouter>\n);\n\nexport default Router;\n","export function ipv4(message = 'Invalid IP address') {\n  return this.matches(/(^(\\d{1,3}\\.){3}(\\d{1,3})$)/, {\n    message,\n    excludeEmptyString: true,\n  }).test('ip', message, (value) => {\n    return value === undefined || value.trim() === ''\n      ? true\n      : value.split('.').find((i) => parseInt(i, 10) > 255) === undefined;\n  });\n}\n\nexport const getNetAddressParts = (netAddr) => {\n  const addressPrefix = netAddr.networkStart.split('.').slice(0, 3).join('.');\n  const startIP = parseInt(netAddr.networkStart.split('.')[3]);\n  const endIP = netAddr.networkEnd;\n\n  return [addressPrefix, startIP, endIP];\n};\n\nexport const fetchWithTimeout = (url, options, timeout = 7000) => {\n  return Promise.race([\n    fetch(url, options),\n    new Promise((_, reject) =>\n      setTimeout(() => reject(new Error('timeout')), timeout)\n    ),\n  ]);\n};\n\nexport const getPlayers = async (playerIPs, token) => {\n  const results = await Promise.allSettled(\n    playerIPs.map(async (ipAddress) => {\n      const response = await fetchWithTimeout(\n        `http://${ipAddress}:8000/api/status`,\n        {\n          headers: new Headers({\n            Authorization: `Basic ${token}`,\n          }),\n        },\n        5000\n      );\n      if (response.ok) {\n        const data = await response.json();\n        return Object.assign(data.data, { ipAddress, authorized: true });\n      } else {\n        return Object.assign({}, { ipAddress, authorized: false });\n      }\n    })\n  );\n  const players = results\n    .filter((result) => result.status === 'fulfilled')\n    .map((response) => response.value);\n\n  return players;\n};\n\nexport const isArrayNotEmpty = (arr) => {\n  return Array.isArray(arr) && arr.length;\n};\n\nexport const areObjectsEquivalent = (a, b) => {\n  let aProps = Object.getOwnPropertyNames(a);\n  let bProps = Object.getOwnPropertyNames(b);\n\n  if (aProps.length !== bProps.length) {\n    return false;\n  }\n\n  for (let i = 0; i < aProps.length; i++) {\n    let propName = aProps[i];\n    if (a[propName] !== b[propName]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nexport const pluralize = (count, noun, suffix = 's') =>\n  `${count} ${noun}${count !== 1 ? suffix : ''}`;\n\nexport const getAuth = (players) => {\n  return (\n    isArrayNotEmpty(players) &&\n    !!players.filter((player) => player.authorized).length\n  );\n};\n\nexport const isSubset = (superObj, subObj) => {\n  return Object.keys(subObj).every((ele) => {\n    if (typeof subObj[ele] == 'object') {\n      return isSubset(superObj[ele], subObj[ele]);\n    }\n    return subObj[ele] === superObj[ele];\n  });\n};\n\nexport const formatID = (id) => {\n  return id.match(/.{1,4}/g).join('-');\n};\n\nexport const formatPlayerName = (name) => {\n  const playerName = name.split(/(\\d+)/);\n  return `${playerName[0]} ${playerName[1]}`;\n};\n\nexport const getFileName = (filename) => {\n  return filename.split('.')[0];\n};\n","import { useState, useEffect } from 'react';\n\nexport const useModal = () => {\n  const [isShowing, setIsShowing] = useState(false);\n\n  const toggle = () => {\n    setIsShowing(!isShowing);\n  };\n\n  return [isShowing, toggle];\n};\n\nexport const useOnClickOutside = (ref, handler) => {\n  useEffect(() => {\n    const listener = (event) => {\n      // Do nothing if clicking ref's element or descendent elements\n      if (!ref.current || ref.current.contains(event.target)) {\n        return;\n      }\n\n      handler(event);\n    };\n\n    document.addEventListener('click', listener);\n    document.addEventListener('touchstart', listener);\n\n    return () => {\n      document.removeEventListener('click', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler]);\n};\n","import { createContext } from 'react';\n\nconst initialData = {\n  players: [],\n  title: '',\n};\n\nconst AppState = createContext(initialData);\nconst AppDispatch = createContext(null);\n\nexport { AppState, AppDispatch };\n","import React from 'react';\n\n// Icons imported from https://heroicons.com/\n\nexport const HomeIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\n    />\n  </svg>\n);\n\nexport const CogIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\n    />\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n    />\n  </svg>\n);\n\nexport const DesktopComputerIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n    />\n  </svg>\n);\n\nexport const XIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M6 18L18 6M6 6l12 12\"\n    />\n  </svg>\n);\n\nexport const MenuIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M4 6h16M4 12h16M4 18h16\"\n    />\n  </svg>\n);\n\nexport const ChevronDownIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n    className={className}\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nexport const SortAscendingIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n    className={className}\n  >\n    <path d=\"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z\" />\n  </svg>\n);\n\nexport const PlusIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n    />\n  </svg>\n);\n\nexport const HashtagIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"\n    />\n  </svg>\n);\n\nexport const DownloadIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"\n    />\n  </svg>\n);\n\nexport const TerminalIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n    />\n  </svg>\n);\n\nexport const CameraIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\"\n    />\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\"\n    />\n  </svg>\n);\n\nexport const PlayIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n    className={className}\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nexport const PauseIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n    className={className}\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nexport const FastForwardIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n    className={className}\n  >\n    <path d=\"M4.555 5.168A1 1 0 003 6v8a1 1 0 001.555.832L10 11.202V14a1 1 0 001.555.832l6-4a1 1 0 000-1.664l-6-4A1 1 0 0010 6v2.798l-5.445-3.63z\" />\n  </svg>\n);\n\nexport const RewindIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n    className={className}\n  >\n    <path d=\"M8.445 14.832A1 1 0 0010 14v-2.798l5.445 3.63A1 1 0 0017 14V6a1 1 0 00-1.555-.832L10 8.798V6a1 1 0 00-1.555-.832l-6 4a1 1 0 000 1.664l6 4z\" />\n  </svg>\n);\n\nexport const ChevronRightIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M9 5l7 7-7 7\"\n    />\n  </svg>\n);\n\nexport const CheckCircleIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n    />\n  </svg>\n);\n\nexport const XCircleIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"\n    />\n  </svg>\n);\n\nexport const ExclamationCircleIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n    />\n  </svg>\n);\n\nexport const ExclamationIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n    />\n  </svg>\n);\n\nexport const WifiIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0\"\n    />\n  </svg>\n);\n\nexport const SearchIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n    />\n  </svg>\n);\n\nexport const FilterIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\"\n    />\n  </svg>\n);\n\nexport const DotsVerticalIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\"\n    />\n  </svg>\n);\n\nexport const DotsHorizontalIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z\"\n    />\n  </svg>\n);\n\nexport const DocumentAddIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n    />\n  </svg>\n);\n\nexport const SaveIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4\"\n    />\n  </svg>\n);\n\nexport const EyeIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n    />\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n    />\n  </svg>\n);\n\nexport const ArrowRightIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    viewBox=\"0 0 20 20\"\n    fill=\"currentColor\"\n    className={className}\n  >\n    <path\n      fillRule=\"evenodd\"\n      d=\"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nexport const TrashIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n    />\n  </svg>\n);\n\nexport const StopIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n    />\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z\"\n    />\n  </svg>\n);\n\nexport const ExternalLinkIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\n    />\n  </svg>\n);\n\nexport const RefreshIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n    />\n  </svg>\n);\n\nexport const CollectionIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"\n    />\n  </svg>\n);\n\nexport const BanIcon = ({ className }) => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    stroke=\"currentColor\"\n    className={className}\n  >\n    <path\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      strokeWidth={2}\n      d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\"\n    />\n  </svg>\n);\n","import React from 'react';\nimport { RefreshIcon } from '../utils';\n\nconst Button = ({\n  title,\n  onClick,\n  icon,\n  className,\n  label,\n  type,\n  isProcessing,\n  disabled = false,\n}) => {\n  let style;\n  switch (type) {\n    case 'primary':\n      style =\n        'border-transparent text-white bg-indigo-600 hover:bg-indigo-500 focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700';\n      break;\n    case 'secondary':\n      style =\n        'border-transparent text-indigo-700 bg-indigo-100 hover:bg-indigo-50 focus:border-indigo-300 focus:shadow-outline-indigo active:bg-indigo-200';\n      break;\n    case 'tertiary':\n      style =\n        'border-gray-300 text-cool-gray-700 bg-white hover:text-cool-gray-500 focus:border-blue-300 focus:shadow-outline-blue active:text-cool-gray-800 active:bg-cool-gray-50';\n      break;\n    case 'destructive':\n      style =\n        'border-transparent text-white bg-red-500 hover:bg-red-400 focus:border-red-300 focus:shadow-outline-red  active:bg-red-600';\n      break;\n    default:\n      break;\n  }\n  return (\n    <button\n      type=\"submit\"\n      className={`${\n        isProcessing ? 'cursor-not-allowed' : ''\n      } inline-flex space-x-2 items-center px-2.5 py-1.5 sm:px-3 sm:py-2 border text-base leading-4 font-normal rounded focus:outline-none ${style} transition ease-in-out duration-150 ${className}`}\n      aria-label={label}\n      onClick={onClick}\n      disabled={disabled}\n    >\n      {isProcessing ? (\n        <RefreshIcon className=\"animate-spin h-4 w-4 text-white\" />\n      ) : icon ? (\n        icon\n      ) : null}\n      {type === 'onlyIcon' ? null : (\n        <span className=\"text-sm\">{isProcessing ? 'Processing' : title}</span>\n      )}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport { useField } from 'formik';\n\nconst SelectMenu = ({ label, ...props }) => {\n  const [field, meta] = useField(props);\n  return (\n    <div className=\"col-span-6 sm:col-span-4\">\n      <label\n        htmlFor={props.id || props.name}\n        className=\"block text-sm font-medium leading-5 text-gray-700\"\n      >\n        {label}\n      </label>\n      <select\n        className={`mt-1 form-select block w-full pl-2 pr-10 py-2 text-base leading-6 border-gray-300 focus:outline-none focus:shadow-outline-blue focus:border-blue-300 sm:text-sm sm:leading-5 ${\n          meta.touched && meta.error\n            ? 'border-red-300 focus:border-red-300 focus:shadow-outline-red'\n            : 'focus:shadow-outline-blue focus:border-blue-300'\n        }`}\n        {...field}\n        {...props}\n      ></select>\n      {meta.touched && meta.error ? (\n        <p className=\"error text-sm text-red-600 mt-1\">{meta.error}</p>\n      ) : null}\n    </div>\n  );\n};\n\nexport default SelectMenu;\n","import React from 'react';\nimport { ExclamationCircleIcon } from '../utils';\n\nconst ErrorAction = ({\n  isShowing,\n  title = 'Something went wrong',\n  info = 'Check your interent connection and try again',\n}) => {\n  if (isShowing) {\n    return (\n      <div className=\"w-full h-full flex items-center justify-center\">\n        <div className=\"rounded-md bg-red-50 p-4 shadow\">\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <ExclamationCircleIcon className=\"h-5 w-5 mr-1 text-red-400\" />\n            </div>\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm leading-5 font-medium text-red-800\">\n                {title}\n              </h3>\n              <div className=\"mt-2 text-sm leading-5 text-red-700\">{info}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  } else return null;\n};\n\nexport default ErrorAction;\n","import React from 'react';\n\nexport const RadioButton = ({\n  field: { name, value, onChange, onBlur },\n  id,\n  label,\n  className,\n  ...props\n}) => {\n  return (\n    <div className=\"flex items-center my-1\">\n      <input\n        id={id}\n        name={name}\n        type=\"radio\"\n        value={id}\n        checked={id === value}\n        onChange={onChange}\n        onBlur={onBlur}\n        className=\"form-radio h-4 w-4 text-indigo-600 transition ease-in-out duration-150 cursor-pointer\"\n        {...props}\n      />\n      <label htmlFor={id} className=\"ml-2 cursor-pointer\">\n        <span className=\"block text-sm leading-5 font-medium text-gray-500\">\n          {label}\n        </span>\n      </label>\n    </div>\n  );\n};\n\nconst FormRadioInput = ({ label, children, className }) => {\n  return (\n    <fieldset className=\"col-span-3\">\n      <legend className=\"block text-sm font-medium leading-5 text-gray-700\">\n        {label}\n      </legend>\n      <div\n        className={`flex justify-between flex-col items-start mt-1 ${className}`}\n      >\n        {children}\n      </div>\n    </fieldset>\n  );\n};\n\nexport default FormRadioInput;\n","import React from 'react';\nimport { useField } from 'formik';\n\nconst FormTextInput = ({\n  label,\n  actionName,\n  actionIcon,\n  handleAction,\n  helpText = '',\n  className,\n  ...props\n}) => {\n  const [field, meta] = useField(props);\n  return (\n    <div className={`col-span-6 sm:col-span-4 ${className}`}>\n      <label\n        htmlFor={props.id || props.name}\n        className=\"block text-sm font-medium leading-5 text-cool-gray-700\"\n      >\n        {label}\n      </label>\n      {actionIcon ? (\n        <div className=\"flex rounded-md mt-1\">\n          <div className=\"relative flex-grow\">\n            <input\n              className={`form-input text-input text-sm leading-5 block w-full py-2 px-3 border border-gray-300 rounded-l-md rounded-r-none shadow-sm focus:outline-none transition ease-in-out duration-150 ${\n                props.disabled && 'cursor-not-allowed rounded-none'\n              } ${\n                meta.touched && meta.error\n                  ? 'border-red-300 text-red-900 focus:border-red-300 focus:shadow-outline-red'\n                  : 'focus:shadow-outline-blue focus:border-blue-300'\n              }`}\n              {...field}\n              {...props}\n            />\n          </div>\n          <button\n            className=\"-ml-px relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium leading-5 text-cool-gray-700 rounded-r-md bg-cool-gray-50 hover:text-cool-gray-500 hover:bg-white focus:outline-none focus:shadow-outline-blue focus:border-blue-300 active:bg-cool-gray-100 transition ease-in-out duration-150\"\n            type=\"button\"\n            onClick={handleAction}\n          >\n            {actionIcon}\n            {actionName ? <span className=\"ml-2\">{actionName}</span> : null}\n          </button>\n        </div>\n      ) : (\n        <input\n          className={`mt-1 form-input text-input text-sm leading-5 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150 ${\n            props.disabled &&\n            'pt-0 pl-0 pb-0 text-cool-gray-500 border-none shadow-none'\n          } ${\n            meta.touched && meta.error\n              ? 'border-red-300 text-red-900 focus:border-red-300 focus:shadow-outline-red'\n              : 'focus:shadow-outline-blue focus:border-blue-300'\n          }`}\n          {...field}\n          {...props}\n        />\n      )}\n      {meta.touched && meta.error ? (\n        <p className=\"text-sm text-red-600 error mt-1\">{meta.error}</p>\n      ) : null}\n      <p className=\"text-sm text-cool-gray-500\">{helpText}</p>\n    </div>\n  );\n};\n\nexport default FormTextInput;\n","import React, { useContext } from 'react';\nimport { Button } from '../components';\nimport { AppState, MenuIcon } from '../utils';\n\nconst Header = ({ setIsMenuOpen }) => {\n  const appState = useContext(AppState);\n  return (\n    <header className=\"z-5 h-16 bg-white border-b border-gray-200 flex items-center px-1 py-4 sm:px-6 lg:px-8\">\n      {/* Hamburger button to open sidebar on mobile */}\n      <Button\n        type=\"onlyIcon\"\n        icon={<MenuIcon className=\"h-6 w-6 text-cool-gray-900\" />}\n        className=\"md:hidden h-12 w-12 border-transparent\"\n        label=\"Open sidebar\"\n        onClick={() => setIsMenuOpen(true)}\n      />\n      {appState.title}\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\n\nconst LoadingIndicator = ({\n  type = 'TailSpin',\n  isLoading,\n  height = 45,\n  width = 45,\n  color = '#5a67d8',\n}) =>\n  isLoading && (\n    <div className=\"h-full flex items-center justify-center\">\n      <Loader type={type} color={color} height={height} width={width} />\n    </div>\n  );\n\nexport default LoadingIndicator;\n","import React from 'react';\nimport { CSSTransition as ReactCSSTransition } from 'react-transition-group';\nimport { useRef, useEffect, useContext } from 'react';\n\nconst TransitionContext = React.createContext({\n  parent: {},\n});\n\nfunction useIsInitialRender() {\n  const isInitialRender = useRef(true);\n  useEffect(() => {\n    isInitialRender.current = false;\n  }, []);\n  return isInitialRender.current;\n}\n\nfunction CSSTransition({\n  show,\n  enter = '',\n  enterFrom = '',\n  enterTo = '',\n  leave = '',\n  leaveFrom = '',\n  leaveTo = '',\n  appear,\n  children,\n}) {\n  const enterClasses = enter.split(' ').filter((s) => s.length);\n  const enterFromClasses = enterFrom.split(' ').filter((s) => s.length);\n  const enterToClasses = enterTo.split(' ').filter((s) => s.length);\n  const leaveClasses = leave.split(' ').filter((s) => s.length);\n  const leaveFromClasses = leaveFrom.split(' ').filter((s) => s.length);\n  const leaveToClasses = leaveTo.split(' ').filter((s) => s.length);\n\n  function addClasses(node, classes) {\n    classes.length && node.classList.add(...classes);\n  }\n\n  function removeClasses(node, classes) {\n    classes.length && node.classList.remove(...classes);\n  }\n\n  return (\n    <ReactCSSTransition\n      appear={appear}\n      unmountOnExit\n      in={show}\n      addEndListener={(node, done) => {\n        node.addEventListener('transitionend', done, false);\n      }}\n      onEnter={(node) => {\n        addClasses(node, [...enterClasses, ...enterFromClasses]);\n      }}\n      onEntering={(node) => {\n        removeClasses(node, enterFromClasses);\n        addClasses(node, enterToClasses);\n      }}\n      onEntered={(node) => {\n        removeClasses(node, [...enterToClasses, ...enterClasses]);\n      }}\n      onExit={(node) => {\n        addClasses(node, [...leaveClasses, ...leaveFromClasses]);\n      }}\n      onExiting={(node) => {\n        removeClasses(node, leaveFromClasses);\n        addClasses(node, leaveToClasses);\n      }}\n      onExited={(node) => {\n        removeClasses(node, [...leaveToClasses, ...leaveClasses]);\n      }}\n    >\n      {children}\n    </ReactCSSTransition>\n  );\n}\n\nfunction Transition({ show, appear, ...rest }) {\n  const { parent } = useContext(TransitionContext);\n  const isInitialRender = useIsInitialRender();\n  const isChild = show === undefined;\n\n  if (isChild) {\n    return (\n      <CSSTransition\n        appear={parent.appear || !parent.isInitialRender}\n        show={parent.show}\n        {...rest}\n      />\n    );\n  }\n\n  return (\n    <TransitionContext.Provider\n      value={{\n        parent: {\n          show,\n          isInitialRender,\n          appear,\n        },\n      }}\n    >\n      <CSSTransition appear={appear} show={show} {...rest} />\n    </TransitionContext.Provider>\n  );\n}\n\nexport default Transition;\n","import React from 'react';\nimport Transition from './Transition';\nimport Loader from 'react-loader-spinner';\n\nconst LoadingOverlay = ({\n  isLoading,\n  loadingIcon = 'TailSpin',\n  loadingTitle = 'Loading',\n}) => (\n  <Transition show={isLoading}>\n    <div className=\"fixed bottom-0 inset-x-0 px-4 pb-4 sm:inset-0 sm:flex sm:items-center sm:justify-center\">\n      {/*Background overlay, show/hide based on modal state.*/}\n      <Transition\n        enter=\"ease-out duration-300\"\n        enterFrom=\"opacity-0\"\n        enterTo=\"opacity-100\"\n        leave=\"ease-in duration-200\"\n        leaveFrom=\"opacity-100\"\n        leaveTo=\"opacity-0\"\n      >\n        <div className=\"fixed inset-0 transition-opacity\">\n          <div className=\"absolute inset-0 bg-cool-gray-500 opacity-75\" />\n        </div>\n      </Transition>\n      {/*Modal panel, show/hide based on modal state.*/}\n      <Transition\n        enter=\"ease-out duration-300\"\n        enterFrom=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n        enterTo=\"opacity-100 translate-y-0 sm:scale-100\"\n        leave=\"ease-in duration-200\"\n        leaveFrom=\"opacity-100 translate-y-0 sm:scale-100\"\n        leaveTo=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n      >\n        <div\n          className=\"relative flex items-center justify-start bg-indigo-600 rounded-lg px-4 pt-5 pb-4 overflow-hidden shadow-xl transform transition-all sm:max-w-lg sm:w-full sm:p-10\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"modal-headline\"\n        >\n          <Loader type={loadingIcon} color=\"#ffffff\" height={45} width={45} />\n          <h3\n            className=\"sm:text-xl text-lg leading-6 ml-6 font-medium text-white\"\n            id=\"modal-headline\"\n          >\n            {loadingTitle}...\n          </h3>\n        </div>\n      </Transition>\n    </div>\n  </Transition>\n);\n\nexport default LoadingOverlay;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { XIcon } from '../utils';\nimport Transition from './Transition';\n\nconst Modal = ({\n  isShowing,\n  hide,\n  modalTitle,\n  modalContent,\n  icon,\n  handleClose = hide,\n  color = 'indigo',\n}) =>\n  ReactDOM.createPortal(\n    <Transition show={isShowing}>\n      <div className=\"h-screen fixed bottom-0 flex items-end justify-center inset-x-0 px-4 pb-4 sm:inset-0 sm:items-center sm:justify-center\">\n        {/*Background overlay, show/hide based on modal state.*/}\n        <Transition\n          enter=\"ease-out duration-300\"\n          enterFrom=\"opacity-0\"\n          enterTo=\"opacity-100\"\n          leave=\"ease-in duration-200\"\n          leaveFrom=\"opacity-100\"\n          leaveTo=\"opacity-0\"\n        >\n          <div className=\"fixed inset-0 transition-opacity\">\n            <div className=\"absolute inset-0 bg-cool-gray-500 opacity-75\" />\n          </div>\n        </Transition>\n        {/*Modal panel, show/hide based on modal state.*/}\n        <Transition\n          enter=\"ease-out duration-300\"\n          enterFrom=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n          enterTo=\"opacity-100 translate-y-0 sm:scale-100\"\n          leave=\"ease-in duration-200\"\n          leaveFrom=\"opacity-100 translate-y-0 sm:scale-100\"\n          leaveTo=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\n        >\n          <div\n            className=\"max-h-full relative bg-white rounded-lg px-4 pt-5 pb-4 overflow-y-auto shadow-xl transform transition-all sm:max-w-lg sm:w-full sm:p-6\"\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-labelledby=\"modal-headline\"\n          >\n            <div className=\"block absolute top-0 right-0 pt-4 pr-4\">\n              <button\n                type=\"button\"\n                className=\"text-cool-gray-400 hover:text-cool-gray-500 focus:outline-none focus:text-cool-gray-500 transition ease-in-out duration-150\"\n                aria-label=\"Close\"\n                onClick={handleClose}\n              >\n                <XIcon className=\"h-6 w-6 currentColor\" />\n              </button>\n            </div>\n            <div className=\"sm:flex sm:items-start\">\n              <div\n                className={`mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-${color}-100 sm:mx-0 sm:h-10 sm:w-10`}\n              >\n                {icon}\n              </div>\n              <div className=\"flex flex-col w-full\">\n                <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n                  <h3\n                    className=\"text-lg leading-6 font-medium text-cool-gray-900 truncate\"\n                    id=\"modal-headline\"\n                  >\n                    {modalTitle}\n                  </h3>\n                </div>\n                <div className=\"mt-2 sm:pl-4\">{modalContent}</div>\n              </div>\n            </div>\n          </div>\n        </Transition>\n      </div>\n    </Transition>,\n    document.body\n  );\n\nexport default Modal;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { formatID, ChevronRightIcon } from '../utils';\n\nconst PlayerItem = ({\n  ipAddress,\n  currentPlayingFile,\n  currentPlaylist,\n  playlistOn,\n  cpuSerialNumber,\n  index,\n  authorized,\n}) => {\n  return (\n    <Link\n      to={{\n        pathname: `/players/player${index + 1}/overview`,\n        state: {\n          ipAddress,\n        },\n      }}\n      className={`block hover:bg-cool-gray-50 focus:outline-none focus:bg-cool-gray-50 transition duration-150 ease-in-out full ${\n        authorized ? '' : 'cursor-not-allowed'\n      }`}\n      onClick={!authorized ? (event) => event.preventDefault() : null}\n    >\n      <div className=\"flex items-center px-2 sm:px-4 py-4 sm:py-6\">\n        <div className=\"min-w-0 flex-1 flex items-center\">\n          <div className=\"h-13 w-13  min-w-0 flex-1 pl-5 pr-h-5 3sm: sm:px-5 md:grid md:grid-cols-2 md:gap-4\">\n            <div className=\"h-full flex flex-col justify-between\">\n              <div className=\"flex items-center space-x-3\">\n                <span\n                  aria-label=\"Player playlist status\"\n                  className={`h-4 w-4 ${\n                    !authorized\n                      ? 'bg-cool-gray-100'\n                      : playlistOn\n                      ? 'bg-green-100'\n                      : 'bg-red-100'\n                  }  rounded-full flex items-center justify-center`}\n                >\n                  <span\n                    className={`h-2 w-2 ${\n                      !authorized\n                        ? 'bg-cool-gray-400'\n                        : playlistOn\n                        ? 'bg-green-400'\n                        : 'bg-red-400'\n                    } rounded-full`}\n                  />\n                </span>\n                <span className=\"block\">\n                  <h2 className=\"text-sm font-medium leading-5 capitalize truncate\">\n                    {`Player ${index + 1}`}\n                    {!authorized && (\n                      <span className=\"text-cool-gray-600 text-sm ml-1\">\n                        (Unauthorized)\n                      </span>\n                    )}\n                  </h2>\n                </span>\n              </div>\n              <p className=\"flex space-x-2 lining-nums text-sm leading-5 text-cool-gray-500 font-medium truncate uppercase tracking-wider\">\n                <span>{ipAddress}</span>\n              </p>\n            </div>\n            <div className=\"hidden md:flex md:flex-col md:justify-between\">\n              <div className=\"flex items-center text-sm leading-5 text-cool-gray-500 space-x-2 group-hover:text-cool-gray-900\">\n                {playlistOn ? 'Playing' : 'Unknown'}\n                {!!playlistOn && (\n                  <>\n                    <div className=\"mx-2 max-w-sm truncate font-medium text-cool-gray-900\">\n                      {authorized ? currentPlayingFile : '_____'}\n                    </div>\n                    from\n                    <div className=\"ml-2 max-w-sm truncate font-medium text-cool-gray-900\">\n                      {authorized ? currentPlaylist : '_____'}\n                    </div>\n                  </>\n                )}\n              </div>\n              <p className=\"flex space-x-2 text-sm leading-5 text-cool-gray-500 font-medium truncate uppercase tracking-wider\">\n                <span>\n                  {authorized\n                    ? formatID(cpuSerialNumber)\n                    : formatID('XXXXXXXXXXXXXXXX')}\n                </span>\n              </p>\n            </div>\n          </div>\n        </div>\n        <div>\n          <ChevronRightIcon className=\"h-5 w-5 text-cool-gray-400 sm:mr-4\" />\n        </div>\n      </div>\n    </Link>\n  );\n};\n\nexport default PlayerItem;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null);\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"#5a67d8\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M27.1 1.1C14.1 3.6 3.5 14.4 1 27.5c-1.6 8.7-.9 136.6.8 141.7 3.1 9.2 12.4 18.3 21.5 21 6.1 1.9 139.3 1.9 145.4 0 9.1-2.7 18.4-11.8 21.5-21 1.7-5.1 2.4-133 .8-141.7C188.4 14 177.9 3.6 164.1 1c-6.6-1.2-130.6-1.2-137 .1zm78.5 34.4c14.9 3.5 27.3 13.1 33.3 25.8 19.7 41.5-23.7 84-64.8 63.3-2.9-1.4-5.5-2.6-5.7-2.6-.2 0-.4 7.7-.4 17.1v17.1l-2.9 2.9c-3.1 3.1-6.8 3.7-11.6 1.9-5.2-2-5.5-4.6-5.5-44.7 0-20.2.4-39.4 1-42.5 2.9-18.3 17.8-33.6 36.9-38.3 7.4-1.8 12.3-1.8 19.7 0z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M85.1 54.9C75.9 58.6 69.4 66.5 67 76.7c-1.4 6-.3 12.8 3.1 19.4 2.4 4.9 2 7.2-2 11.6l-3 3.3h3.3c1.8 0 5.4-.6 8-1.4 4.2-1.3 5.2-1.2 10.1.5 16.6 5.8 33.6-3.7 38.1-21.2 1.9-7.4.8-14.6-3.2-21.6-6.9-12-23.4-17.6-36.3-12.4z\"\n}));\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 192 192\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.60371d9d.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useContext } from 'react';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport { ToggleMenu, Button, Transition } from '../components';\nimport {\n  AppState,\n  AppDispatch,\n  isArrayNotEmpty,\n  HomeIcon,\n  CogIcon,\n  XIcon,\n} from '../utils';\nimport { ReactComponent as LogoIcon } from '../utils/logo.svg';\nimport localforage from 'localforage';\n\nconst navItems = [\n  {\n    id: 111,\n    title: 'Dashboard',\n    icon: <HomeIcon className=\"h-6 w-6 mr-3\" />,\n  },\n  {\n    id: 222,\n    title: 'Settings',\n    icon: <CogIcon className=\"h-6 w-6 mr-3\" />,\n  },\n];\n\nconst footerItems = [\n  { id: 888, title: 'Help', url: 'https://help.pisignage.com' },\n  { id: 999, title: 'Pisignage.com', url: 'https://pisignage.com' },\n];\n\nconst Logo = () => (\n  <span className=\"font-mono flex text-2xl items-center bg-white justify-start ml-6 select-none\">\n    <LogoIcon className=\"w-10 h-10 mr-2\" title=\"PiSignage logo\" />\n    <h3 className=\" font-medium\">pi</h3>\n    <h3 className=\"font-semibold\">signage</h3>\n  </span>\n);\n\nconst VerticalMenu = ({ navItems }) => {\n  const appState = useContext(AppState);\n  const dispatchApp = useContext(AppDispatch);\n  const history = useHistory();\n\n  useEffect(() => {\n    let didCancel = false;\n\n    const fetchPlayers = async () => {\n      try {\n        if (isArrayNotEmpty(appState.players)) {\n          const tempPlayers = appState.players;\n          tempPlayers.forEach((storedPlayer) =>\n            storedPlayer.isOpen === undefined\n              ? (storedPlayer.isOpen = false)\n              : storedPlayer.isOpen\n          );\n          if (!didCancel) {\n            dispatchApp({\n              type: 'SET_PLAYERS',\n              payload: tempPlayers,\n            });\n          }\n        }\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    fetchPlayers();\n\n    return () => {\n      didCancel = true;\n    };\n  }, [appState.players, dispatchApp]);\n\n  const handleToggle = async (e, index) => {\n    e.stopPropagation();\n    const toggledPlayers = appState.players.map((player, i) => {\n      if (index === i) {\n        return {\n          ...player,\n          isOpen: !player.isOpen,\n        };\n      } else {\n        return {\n          ...player,\n          isOpen: false,\n        };\n      }\n    });\n    await localforage.setItem('players', toggledPlayers);\n    dispatchApp({\n      type: 'SET_PLAYERS',\n      payload: toggledPlayers,\n    });\n  };\n\n  const handlePlayer = async (e, player, index) => {\n    handleToggle(e, index);\n    history.push({\n      pathname: `/players/player${index + 1}/overview`,\n      state: {\n        ipAddress: player.ipAddress,\n      },\n    });\n  };\n\n  return (\n    <nav className=\"px-4 space-y-1\">\n      {navItems.map((navItem) => (\n        <NavLink\n          key={navItem.id}\n          to={`/${navItem.title.toLowerCase()}`}\n          activeClassName=\"bg-cool-gray-100 text-cool-gray-900\"\n          className=\"group w-full text-cool-gray-500 flex items-center leading-5 font-medium text-sm rounded-md pl-2 py-2 hover:text-cool-gray-900 hover:bg-cool-gray-50 focus:outline-none focus:bg-cool-gray-100 transition ease-in-out duration-150\"\n        >\n          {navItem.icon}\n          {navItem.title}\n        </NavLink>\n      ))}\n      <ToggleMenu players={appState.players} handlePlayer={handlePlayer} />\n    </nav>\n  );\n};\n\nconst FooterMenu = ({ footerItems }) => (\n  <footer className=\"flex flex-col justify-between items-start border-t border-gray-200 p-4 md:pb-0\">\n    {footerItems.map((footerItem) => (\n      <a\n        className=\"px-1 w-full text-xs font-normal py-1 tracking-widest text-cool-gray-400 rounded-md hover:text-cool-gray-800 focus:outline-none focus:bg-cool-gray-100 focus:text-cool-gray-800 uppercase\"\n        key={footerItem.id}\n        id=\"pisignage-details\"\n        href={footerItem.url}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {footerItem.title}\n      </a>\n    ))}\n  </footer>\n);\n\nconst Sidebar = ({ isMenuOpen, setIsMenuOpen }) => (\n  <>\n    {/* Sidebar for mobile */}\n    <div className=\"md:hidden\">\n      <Transition show={isMenuOpen}>\n        <div className=\"fixed inset-0 flex z-40\">\n          {/* Sidebar overlay, show/hide based on isMenuOpen state */}\n          <Transition\n            enter=\"transition-opacity ease-linear duration-300\"\n            enterFrom=\"opacity-0\"\n            enterTo=\"opacity-100\"\n            leave=\"transition-opacity ease-linear duration-300\"\n            leaveFrom=\"opacity-100\"\n            leaveTo=\"opacity-0\"\n          >\n            <div className=\"fixed inset-0\">\n              <div className=\"absolute inset-0 bg-cool-gray-600 opacity-75\" />\n            </div>\n          </Transition>\n          {/* Sidebar, show/hide based on isMenuOpen state */}\n          <Transition\n            enter=\"transition ease-in-out duration-300 transform\"\n            enterFrom=\"-translate-x-full\"\n            enterTo=\"translate-x-0\"\n            leave=\"transition ease-in-out duration-300 transform\"\n            leaveFrom=\"translate-x-0\"\n            leaveTo=\"-translate-x-full\"\n          >\n            <div className=\"relative flex-1 flex flex-col max-w-xs w-full bg-white\">\n              <div className=\"absolute top-0 right-0 -mr-14 p-1\">\n                {/* Close button */}\n                <Button\n                  type=\"onlyIcon\"\n                  label=\"Close sidebar\"\n                  onClick={() => setIsMenuOpen(false)}\n                  icon={<XIcon className=\"h-6 w-6 text-white\" />}\n                  className=\"h-12 w-12 rounded-full border-transparent focus:outline-none\"\n                />\n              </div>\n              <div className=\"py-4\">\n                <Logo />\n              </div>\n              <div className=\"h-0 flex-1 flex flex-col overflow-y-auto\">\n                <VerticalMenu navItems={navItems} />\n              </div>\n              <FooterMenu footerItems={footerItems} />\n            </div>\n          </Transition>\n          <div className=\"flex-shrink-0 w-14\">\n            {/* Dummy element to force sidebar to shrink to fit close icon */}\n          </div>\n        </div>\n      </Transition>\n    </div>\n\n    {/* Static sidebar for desktop */}\n    <div className=\"hidden md:flex md:flex-shrink-0\">\n      <div className=\"flex flex-col w-64 border-r border-gray-200 pb-4 bg-white\">\n        <div className=\"py-4\">\n          <Logo />\n        </div>\n        <div className=\"h-0 flex-1 flex flex-col overflow-y-auto\">\n          <VerticalMenu navItems={navItems} />\n        </div>\n        <FooterMenu footerItems={footerItems} />\n      </div>\n    </div>\n  </>\n);\n\nexport default Sidebar;\n","import React from 'react';\nimport {\n  XIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  ExclamationCircleIcon,\n  ExclamationIcon,\n} from '../utils';\n\nconst Toast = ({ appearance, title, info, onDismiss }) => {\n  let color, icon;\n  switch (appearance) {\n    case 'success':\n      color = 'green';\n      icon = (\n        <CheckCircleIcon className={`h-6 w-6 currentColor text-${color}-500`} />\n      );\n      break;\n    case 'error':\n      color = 'red';\n      icon = (\n        <XCircleIcon className={`h-6 w-6 currentColor text-${color}-500`} />\n      );\n      break;\n    case 'warning':\n      color = 'yellow';\n      icon = (\n        <ExclamationIcon className={`h-6 w-6 currentColor text-${color}-500`} />\n      );\n      break;\n    case 'info':\n      color = 'blue';\n      icon = (\n        <ExclamationCircleIcon\n          className={`h-6 w-6 currentColor text-${color}-500`}\n        />\n      );\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <div className=\"fixed inset-0 flex items-end justify-center px-4 py-6 pointer-events-none sm:p-6 sm:items-start sm:justify-end\">\n      <div\n        className={`max-w-sm w-full bg-${color}-50 shadow-lg rounded-lg pointer-events-auto`}\n      >\n        <div className=\"rounded-lg overflow-hidden sm:w-96\">\n          <div className=\"p-4\">\n            <div className=\"flex items-start\">\n              <div className=\"flex-shrink-0\">{icon}</div>\n              <div className=\"ml-3 w-0 flex-1 pt-0.5\">\n                <p\n                  className={`text-sm leading-5 font-medium text-${color}-800`}\n                >\n                  {title}\n                </p>\n                <p className={`mt-1 text-sm leading-5 text-${color}-500`}>\n                  {info}\n                </p>\n              </div>\n              <div className=\"ml-4 flex-shrink-0 flex\">\n                <button\n                  className=\"inline-flex text-cool-gray-400 focus:outline-none focus:text-cool-gray-500 transition ease-in-out duration-150\"\n                  onClick={onDismiss}\n                >\n                  <XIcon className=\"h-5 w-5 currentColor\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Toast;\n","import React, { Fragment } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Transition } from '../components';\n\nconst navItems = [\n  { id: 111, title: 'Settings' },\n  { id: 222, title: 'Assets' },\n];\n\nconst ToggleMenu = ({ players, handlePlayer }) => {\n  return (\n    <div className=\"mt-4\">\n      <h3 className=\"select-none mt-8 px-2 text-xs flex items-center font-semibold text-cool-gray-500 uppercase tracking-wider\">\n        Players\n        <span className=\"ml-2 inline-block py-0.5 px-3 text-xs text-cool-gray-800 leading-4 font-medium rounded-full bg-cool-gray-100 transition ease-in-out duration-150\">\n          {players.length}\n        </span>\n      </h3>\n      <nav className=\"mt-3 space-y-1\">\n        {players.map((player, index) => (\n          <Fragment key={player.ipAddress}>\n            <NavLink\n              to={{\n                pathname: `/players/player${index + 1}/overview`,\n                state: {\n                  ipAddress: player.ipAddress,\n                },\n              }}\n              onClick={\n                player.authorized\n                  ? (e) => handlePlayer(e, player, index)\n                  : (e) => e.preventDefault()\n              }\n              activeClassName={`${\n                player.authorized ? 'bg-cool-gray-100 text-cool-gray-900' : ''\n              }`}\n              className={`group w-full flex items-center pl-2 py-2 text-sm leading-5 font-medium rounded-md bg-white text-cool-gray-500 hover:text-cool-gray-900 hover:bg-cool-gray-50 focus:outline-none focus:text-cool-gray-900 focus:bg-cool-gray-100 transition ease-in-out duration-150 ${\n                player.authorized ? '' : 'cursor-not-allowed'\n              }`}\n            >\n              <span\n                aria-label=\"Player playlist status\"\n                className={`mx-1 h-4 w-4  ${\n                  !player.authorized\n                    ? 'bg-cool-gray-100'\n                    : player.playlistOn\n                    ? 'bg-green-100'\n                    : 'bg-red-100'\n                }  rounded-full flex items-center justify-center`}\n              >\n                <span\n                  className={`h-2 w-2 ${\n                    !player.authorized\n                      ? 'bg-cool-gray-400'\n                      : player.playlistOn\n                      ? 'bg-green-400'\n                      : 'bg-red-400'\n                  } rounded-full`}\n                />\n              </span>\n              <span className=\"ml-3\">Player {index + 1}</span>\n              <svg\n                className={`${\n                  player.isOpen ? 'rotate-90 text-cool-gray-900' : ''\n                } ml-auto h-5 w-5 transform text-cool-gray-400 transition-colors ease-in-out duration-150`}\n                viewBox=\"0 0 20 20\"\n              >\n                <path d=\"M6 6L14 10L6 14V6Z\" fill=\"currentColor\" />\n              </svg>\n            </NavLink>\n            <Transition\n              show={player.isOpen}\n              enter=\"transition-opacity ease-linear duration-300\"\n              enterFrom=\"opacity-0\"\n              enterTo=\"opacity-100\"\n              leave=\"transition ease-in duration-75\"\n              leaveFrom=\"transform opacity-100 scale-100\"\n              leaveTo=\"transform opacity-0 scale-95\"\n            >\n              <nav className=\"sm:pt-0\">\n                {navItems.map((menuItem) => (\n                  <NavLink\n                    key={menuItem.id}\n                    to={{\n                      pathname: `/players/player${\n                        index + 1\n                      }/${menuItem.title.toLowerCase()}`,\n                      state: {\n                        ipAddress: player.ipAddress,\n                      },\n                    }}\n                    activeClassName=\"bg-cool-gray-100 text-cool-gray-900\"\n                    className=\"group w-full my-1 flex items-center pl-9 pr-2 py-1 text-sm leading-5 font-medium text-cool-gray-500 rounded-md hover:text-cool-gray-900 hover:bg-cool-gray-50 focus:outline-none focus:text-cool-gray-900 focus:bg-cool-gray-100 transition ease-in-out duration-150\"\n                  >\n                    <span className=\"ml-2\">{menuItem.title}</span>\n                  </NavLink>\n                ))}\n              </nav>\n            </Transition>\n          </Fragment>\n        ))}\n      </nav>\n    </div>\n  );\n};\n\nexport default ToggleMenu;\n","import React, { useState, useRef } from 'react';\nimport Transition from './Transition';\nimport { useOnClickOutside } from '../utils';\n\nconst Dropdown = ({\n  button,\n  options,\n  onOptionSelect,\n  position,\n  offset = 0,\n  forceOpen = false,\n}) => {\n  const ref = useRef();\n  const [isOpen, setIsOpen] = useState(false);\n\n  useOnClickOutside(ref, () => setIsOpen(false));\n\n  return (\n    <div className=\"relative inline-block text-left\">\n      <div onClick={() => setIsOpen(!isOpen)}>{button}</div>\n      <Transition\n        show={isOpen}\n        enter=\"transition ease-out duration-100 transform\"\n        enterFrom=\"opacity-0 scale-95\"\n        enterTo=\"opacity-100 scale-100\"\n        leave=\"transition ease-in duration-75 transform\"\n        leaveFrom=\"opacity-100 scale-100\"\n        leaveTo=\"opacity-0 scale-95\"\n      >\n        <div\n          ref={ref}\n          className={`absolute ${position}-0 mt-${offset} w-48 rounded-md shadow-lg z-10`}\n        >\n          <div className=\"rounded-md bg-white shadow-xs\">\n            {onOptionSelect ? (\n              <div\n                className=\"py-1\"\n                role=\"menu\"\n                aria-orientation=\"vertical\"\n                aria-labelledby=\"options-menu\"\n              >\n                {options.map((option, index) => (\n                  <div\n                    key={option + index}\n                    className=\"truncate space-x-2 normal-case text-left font-normal cursor-pointer px-4 py-2 text-sm leading-5 text-gray-500 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900\"\n                    // eslint-disable-next-line jsx-a11y/aria-role\n                    role=\"menuItem\"\n                    onClick={(e) => {\n                      onOptionSelect(option);\n                      setIsOpen(forceOpen ? true : !isOpen);\n                    }}\n                  >\n                    {option}\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div\n                className=\"py-1\"\n                role=\"menu\"\n                aria-orientation=\"vertical\"\n                aria-labelledby=\"options-menu\"\n              >\n                {options.map((option, index) => (\n                  <div\n                    key={option + index}\n                    // eslint-disable-next-line jsx-a11y/aria-role\n                    role=\"menuItem\"\n                    onClick={(e) => {\n                      setIsOpen(!isOpen);\n                    }}\n                  >\n                    {option}\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </Transition>\n    </div>\n  );\n};\n\nexport default Dropdown;\n","import React, { useState, useRef } from 'react';\nimport Transition from './Transition';\nimport { useOnClickOutside, PlayIcon, PauseIcon, StopIcon } from '../utils';\n\nconst AssetPopover = ({ button, handleAsset, assets, asset, index }) => {\n  const ref = useRef();\n  const [isOpen, setIsOpen] = useState(false);\n\n  useOnClickOutside(ref, () => {\n    setIsOpen(false);\n  });\n\n  return (\n    <div className=\"relative inline-flex justify-center\">\n      <div\n        onClick={async () => {\n          await handleAsset(asset.name, 'play');\n          setIsOpen(true);\n        }}\n      >\n        {button}\n      </div>\n      <Transition\n        show={isOpen}\n        enter=\"transition ease-out duration-100 transform\"\n        enterFrom=\"opacity-0 scale-95\"\n        enterTo=\"opacity-100 scale-100\"\n        leave=\"transition ease-in duration-75 transform\"\n        leaveFrom=\"opacity-100 scale-100\"\n        leaveTo=\"opacity-0 scale-95\"\n      >\n        <div\n          ref={ref}\n          className={`absolute mt-8 w-48 rounded-md shadow-lg z-10`}\n        >\n          <div className=\"rounded-md bg-white shadow-xs\">\n            <div\n              className=\"p-2 flex flex-col items-center\"\n              role=\"menu\"\n              aria-orientation=\"vertical\"\n            >\n              <div className=\"flex items-center text-xs leading-5 text-gray-500 space-x-2 group-hover:text-gray-900 truncate max-w-48\">\n                <div className=\"flex flex-col items-center mb-2\">\n                  <span className=\"capitalize\">{assets[index].status}</span>\n                  <div className=\"mx-2 w-40 text-center truncate font-medium text-gray-900\">\n                    {assets[index].name}\n                  </div>\n                </div>\n              </div>\n              <div>\n                <span className=\"relative z-0 inline-flex shadow-sm\">\n                  <button\n                    type=\"button\"\n                    className=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-900 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150\"\n                    aria-label=\"Pause/Play\"\n                    onClick={() =>\n                      handleAsset(\n                        asset.name,\n                        assets[index].status === 'stopped' ||\n                          assets[index].status === 'paused'\n                          ? 'play'\n                          : 'pause'\n                      )\n                    }\n                  >\n                    <>\n                      <PauseIcon\n                        className={`h-6 w-6 ${\n                          assets[index].status === 'playing'\n                            ? 'visible'\n                            : 'hidden'\n                        }`}\n                      />\n                      <PlayIcon\n                        className={`h-6 w-6 ${\n                          assets[index].status === 'paused' ||\n                          assets[index].status === 'stopped'\n                            ? 'visible'\n                            : 'hidden'\n                        }`}\n                      />\n                    </>\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"-ml-px relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-900 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150\"\n                    aria-label=\"Stop\"\n                    onClick={async () => {\n                      await handleAsset(asset.name, 'stop');\n                      setIsOpen(false);\n                    }}\n                  >\n                    <StopIcon className=\"h-6 w-6\" />\n                  </button>\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Transition>\n    </div>\n  );\n};\n\nexport default AssetPopover;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { ChevronRightIcon } from '../utils';\n\nconst BreadcrumbItem = ({ item, isLast, ...props }) => {\n  if (isLast) {\n    return (\n      <h1 className=\"breadcrumb-item sm:ml-0 capitalize text-sm sm:text-lg font-medium leading-6 text-gray-900 truncate\">\n        {item.label}\n      </h1>\n    );\n  } else {\n    return (\n      <Link\n        to={item.to}\n        className=\"breadcrumb-item sm:ml-0 capitalize text-sm sm:text-lg font-medium leading-6 text-gray-500 hover:text-gray-900\"\n      >\n        {item.label}\n      </Link>\n    );\n  }\n};\n\nconst Breadcrumb = ({ breadcrumbItems }) => {\n  const lastIndex = breadcrumbItems.length - 1;\n\n  breadcrumbItems = breadcrumbItems.map((item, index) => {\n    const isLast = index === lastIndex;\n    return (\n      <BreadcrumbItem\n        key={`breadcrumb_item${index}`}\n        item={item}\n        isLast={isLast}\n      />\n    );\n  });\n\n  breadcrumbItems = breadcrumbItems.reduce((acc, items, index) => {\n    const notLast = index < lastIndex;\n    if (notLast) {\n      acc.push(\n        items,\n        <ChevronRightIcon\n          key={`separator${index}`}\n          className=\"flex-shrink-0 text-gray-500 mx-1 sm:mx-2 h-3 w-3 sm:h-4 sm:w-4\"\n        />\n      );\n    } else {\n      acc.push(items);\n    }\n    return acc;\n  }, []);\n\n  return <div className=\"flex items-center truncate\">{breadcrumbItems}</div>;\n};\n\nexport default Breadcrumb;\n","import React from 'react';\nimport {\n  FormTextInput,\n  SelectMenu,\n  FormCheckbox,\n  Button,\n  FormRadioInput,\n  RadioButton,\n  FormTextarea,\n} from '../components';\nimport { getFileName, ExternalLinkIcon, SaveIcon } from '../utils';\nimport { Formik, Form, Field } from 'formik';\nimport * as Yup from 'yup';\n\nconst assetTypes = [\n  { extension: '.tv', type: 'Live streaming or YouTube' },\n  { extension: '.stream', type: 'Streaming' },\n  { extension: '.radio', type: 'Audio streaming' },\n  { extension: '.link', type: 'Web link (embedded)' },\n  { extension: '.weblink', type: 'Web page' },\n  { extension: '.mrss', type: 'Media RSS' },\n  { extension: '.txt', type: 'Message' },\n  { extension: '.local', type: 'Local folder/file' },\n];\n\nexport const AssetForm = ({\n  asset,\n  type,\n  typeDisplay,\n  handleAssetTypeChange,\n  handleAssetSubmit,\n  isProcessing,\n  preview,\n}) => {\n  const assetName = asset ? getFileName(asset.name) : '';\n  const assetInitialValues = asset\n    ? {\n        assetName: assetName,\n        link: asset.link ? asset.link : '',\n        zoom: asset.zoom ? asset.zoom : '',\n        keystrokes: asset.keystrokes ? asset.keystrokes : '',\n        authToken: asset.authToken ? asset.authToken : '',\n        keyDelay: asset.keyDelay ? asset.keyDelay : 10,\n        scroll: asset.scroll ? asset.scroll : '',\n        hideTitle: asset.hideTitle ? asset.hideTitle : '',\n        numberOfItems: asset.numberOfItems ? asset.numberOfItems : '',\n        duration: asset.duration ? asset.duration : '',\n        style: asset.style ? asset.style : '',\n        message: asset.message ? asset.message : '',\n      }\n    : {\n        assetName: '',\n        link: '',\n        zoom: '',\n        keystrokes: '',\n        authToken: '',\n        keyDelay: 10,\n        scroll: '',\n        hideTitle: '',\n        numberOfItems: '',\n        duration: '',\n        style: '',\n        message: '',\n      };\n\n  return (\n    <Formik\n      initialValues={assetInitialValues}\n      validationSchema={Yup.object().shape({\n        assetName: Yup.string().required('Asset name is required'),\n        link: type !== '.txt' ? Yup.string().required('Required') : null,\n        zoom: type === '.weblink' ? Yup.string().required('Required') : null,\n        keyDelay:\n          type === '.weblink' || type === '.local'\n            ? Yup.string().required('Required')\n            : null,\n        duration: type === '.mrss' ? Yup.string().required('Required') : null,\n        style: '',\n        message: type === '.txt' ? Yup.string().required('Required') : null,\n      })}\n      onSubmit={(values, actions) => {\n        let picked;\n        if (\n          type === '.tv' ||\n          type === '.stream' ||\n          type === '.radio' ||\n          type === '.link'\n        ) {\n          picked = (({ zoom, link }) => ({\n            zoom: 1,\n            link,\n          }))(values);\n        } else if (type === '.weblink') {\n          picked = (({\n            zoom,\n            keystrokes,\n            authToken,\n            scroll,\n            keyDelay,\n            link,\n          }) => ({\n            zoom,\n            keystrokes,\n            authToken,\n            scroll,\n            keyDelay,\n            link,\n          }))(values);\n        } else if (type === '.mrss') {\n          picked = (({ hideTitle, numberOfItems, duration, link, style }) => ({\n            zoom: 1,\n            hideTitle,\n            numberOfItems,\n            duration,\n            link,\n            style,\n          }))(values);\n        } else if (type === '.txt') {\n          picked = (({ zoom, message, style }) => ({\n            zoom: 1,\n            message,\n            style,\n          }))(values);\n        } else if (type === '.local') {\n          picked = (({ zoom, keyDelay, link }) => ({\n            zoom: 1,\n            keyDelay,\n            link,\n          }))(values);\n        }\n        handleAssetSubmit({ type, name: values.assetName, ...picked });\n        actions.setSubmitting(false);\n      }}\n    >\n      {({ setFieldValue }) => (\n        <Form>\n          <div className=\"mt-3 mb-10 sm:mt-0 sm:mb-0\">\n            <div className=\"sm:flex items-center justify-center\">\n              <div className=\"sm:w-full\">\n                <div\n                  className={`${\n                    preview\n                      ? 'md:grid md:grid-cols-7 md:gap-4 sm:p-6 px-4 py-5'\n                      : 'mt-2'\n                  } `}\n                >\n                  <div className=\"md:col-span-3\">\n                    {preview ? (\n                      <>\n                        <h1 className=\"capitalize text-base font-medium leading-6 text-gray-900 sm:truncate\">\n                          Asset name\n                        </h1>\n                        <p className=\"mt-1 text-sm leading-5 text-gray-500\">\n                          {assetName}\n                        </p>\n                      </>\n                    ) : (\n                      <FormTextInput\n                        label=\"Asset name\"\n                        name=\"assetName\"\n                        type=\"text\"\n                        className=\"mb-5\"\n                      />\n                    )}\n                  </div>\n                  <div className=\"mt-5 md:mt-0 md:col-span-4\">\n                    <div className=\"grid gap-y-6 grid-cols-3\">\n                      {asset ? (\n                        <SelectMenu\n                          label=\"Asset type\"\n                          name=\"assetType\"\n                          onChange={handleAssetTypeChange}\n                        >\n                          <option value={type}>{typeDisplay}</option>\n                          {assetTypes\n                            .filter((assetType) => assetType.extension !== type)\n                            .map((assetType) => (\n                              <option\n                                key={assetType.extension}\n                                value={assetType.extension}\n                              >\n                                {assetType.type}\n                              </option>\n                            ))}\n                        </SelectMenu>\n                      ) : (\n                        <SelectMenu\n                          label=\"Asset type\"\n                          name=\"assetType\"\n                          onChange={handleAssetTypeChange}\n                        >\n                          <option value={type}>{typeDisplay}</option>\n                          {assetTypes\n                            .filter((assetType) => assetType.type !== type)\n                            .map((assetType) => (\n                              <option\n                                key={assetType.extension}\n                                value={assetType.extension}\n                              >\n                                {assetType.type}\n                              </option>\n                            ))}\n                        </SelectMenu>\n                      )}\n                      {type === '.weblink' && (\n                        <>\n                          <FormTextInput\n                            label=\"Zoom level\"\n                            name=\"zoom\"\n                            type=\"number\"\n                            min=\"0\"\n                            step=\"0.01\"\n                            helpText=\"e.g. 0.75 (75%), 1.25 (125%), or leave blank for no-zoom\"\n                          />\n                          <FormTextInput\n                            label=\"Key strokes\"\n                            name=\"keystrokes\"\n                            type=\"text\"\n                            helpText={\n                              <span>\n                                Optional\n                                <a\n                                  href=\"http://robotjs.io/docs/syntax#keys\"\n                                  style={{ color: '#4299E1' }}\n                                  target=\"_blank\"\n                                  rel=\"noopener noreferrer\"\n                                >\n                                  &nbsp; (Reference for key definitions)\n                                </a>\n                              </span>\n                            }\n                          />\n                          <FormTextInput\n                            label=\"Auth token\"\n                            name=\"authToken\"\n                            type=\"text\"\n                          />\n                          <div className=\"col-span-3 flex items-start justify-between\">\n                            <FormCheckbox\n                              label=\"Auto scroll\"\n                              name=\"scroll\"\n                              helpText=\"Optional\"\n                            />\n                            <FormTextInput\n                              label=\"Delay\"\n                              name=\"keyDelay\"\n                              type=\"number\"\n                              min=\"0\"\n                              helpText=\"In seconds\"\n                            />\n                          </div>\n                        </>\n                      )}\n                      {type === '.mrss' && (\n                        <div className=\"col-span-3 flex flex-col\">\n                          <FormRadioInput\n                            id=\"hideTitle\"\n                            label=\"RSS text\"\n                            className=\"flex flex-row\"\n                          >\n                            <Field\n                              component={RadioButton}\n                              name=\"hideTitle\"\n                              id=\"none\"\n                              label=\"Image\"\n                              onChange={() => {\n                                setFieldValue('hideTitle', 'none');\n                              }}\n                            />\n                            <Field\n                              component={RadioButton}\n                              name=\"hideTitle\"\n                              id=\"title\"\n                              label=\"Image and title\"\n                              onChange={() => {\n                                setFieldValue('hideTitle', 'title');\n                              }}\n                            />\n                            <Field\n                              component={RadioButton}\n                              name=\"hideTitle\"\n                              id=\"description\"\n                              label=\"Image and description\"\n                              onChange={() => {\n                                setFieldValue('hideTitle', 'description');\n                              }}\n                            />\n                            <Field\n                              component={RadioButton}\n                              name=\"hideTitle\"\n                              id=\"onlyTitle\"\n                              label=\"Title\"\n                              onChange={() => {\n                                setFieldValue('hideTitle', 'onlytitle');\n                              }}\n                            />\n                            <Field\n                              component={RadioButton}\n                              name=\"hideTitle\"\n                              id=\"onlyDescription\"\n                              label=\"Description\"\n                              onChange={() => {\n                                setFieldValue('hideTitle', 'onlydescription');\n                              }}\n                            />\n                          </FormRadioInput>\n                          <div className=\"col-span-3 space-x-2 flex items-start justify-between mt-4\">\n                            <FormTextInput\n                              label=\"Number of items\"\n                              name=\"numberOfItems\"\n                              type=\"number\"\n                              min=\"0\"\n                              helpText=\"Optional\"\n                            />\n                            <FormTextInput\n                              label=\"Item duration\"\n                              name=\"duration\"\n                              type=\"number\"\n                              min=\"0\"\n                              helpText=\"In seconds\"\n                            />\n                          </div>\n                        </div>\n                      )}\n                      {type === '.local' && (\n                        <FormTextInput\n                          label=\"Delay\"\n                          name=\"keyDelay\"\n                          type=\"number\"\n                          min=\"0\"\n                          helpText=\"In seconds\"\n                        />\n                      )}\n                      {type !== '.txt' && (\n                        <FormTextInput\n                          label=\"Link address\"\n                          name=\"link\"\n                          type=\"text\"\n                          actionName=\"\"\n                          handleAction={() => {\n                            window.open(asset.link);\n                          }}\n                          actionIcon={\n                            asset ? (\n                              <ExternalLinkIcon className=\"h-5 w-5 text-gray-400\" />\n                            ) : null\n                          }\n                        />\n                      )}\n                      {(type === '.mrss' || type === '.txt') && (\n                        <FormTextInput\n                          label=\"Optional CSS\"\n                          name=\"style\"\n                          type=\"text\"\n                          helpText=\"E.g. color:#eee; font-style:italic;\"\n                        />\n                      )}\n                      {type === '.txt' && (\n                        <FormTextarea\n                          label=\"Message\"\n                          name=\"message\"\n                          type=\"text\"\n                          rows=\"4\"\n                          cols=\"50\"\n                        />\n                      )}\n                    </div>\n                    <div className=\"pt-4 text-right\">\n                      <Button\n                        type=\"primary\"\n                        title={preview ? 'Update' : 'Add'}\n                        icon={<SaveIcon className=\"h-5 w-5 text-white\" />}\n                        isProcessing={isProcessing}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default AssetForm;\n","import React from 'react';\nimport { useField } from 'formik';\n\nconst FormCheckbox = ({ id, label, helpText = '', className, ...props }) => {\n  const [field] = useField(props);\n  return (\n    <fieldset>\n      <label\n        htmlFor={id}\n        className=\"block text-sm font-medium leading-5 text-gray-700\"\n      >\n        {label}\n      </label>\n      <div className=\"my-2\">\n        <div className=\"flex items-start\">\n          <div className=\"flex items-center h-5\">\n            <input\n              id={id}\n              type=\"checkbox\"\n              checked={field.value}\n              className={`form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out ${className}`}\n              {...field}\n              {...props}\n            />\n          </div>\n          <div className=\"ml-2 text-sm leading-5\">\n            <p className=\"text-gray-500\">{helpText}</p>\n          </div>\n        </div>\n      </div>\n    </fieldset>\n  );\n};\n\nexport default FormCheckbox;\n","import React from 'react';\nimport { useField } from 'formik';\n\nconst FormTextarea = ({\n  label,\n  actionName,\n  actionIcon,\n  handleAction,\n  helpText = '',\n  className,\n  ...props\n}) => {\n  const [field, meta] = useField(props);\n  return (\n    <div className={`col-span-6 sm:col-span-4 ${className}`}>\n      <label\n        htmlFor={props.id || props.name}\n        className=\"block text-sm font-medium leading-5 text-gray-700\"\n      >\n        {label}\n      </label>\n      <textarea\n        className={`mt-1 form-input text-input text-sm leading-5 block w-full py-2 px-3 border border-gray-300 rounded-md shadow-sm focus:outline-none transition ease-in-out duration-150 ${\n          props.disabled &&\n          'pt-0 pl-0 pb-0 text-gray-500 border-none shadow-none'\n        } ${\n          meta.touched && meta.error\n            ? 'border-red-300 text-red-900 focus:border-red-300 focus:shadow-outline-red'\n            : 'focus:shadow-outline-blue focus:border-blue-300'\n        }`}\n        {...field}\n        {...props}\n      />\n      {meta.touched && meta.error ? (\n        <p className=\"text-sm text-red-600 error mt-1\">{meta.error}</p>\n      ) : null}\n      <p className=\"text-sm text-gray-500\">{helpText}</p>\n    </div>\n  );\n};\n\nexport default FormTextarea;\n","import React, { useRef } from 'react';\n\nconst FilesUploader = ({\n  className = null,\n  title = 'Upload files',\n  handleUpload,\n}) => {\n  const hiddenFileInput = useRef(null);\n\n  const handleClick = (e) => {\n    hiddenFileInput.current.click();\n  };\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    const filesUploaded = e.target.files;\n    handleUpload(filesUploaded);\n  };\n\n  return (\n    <>\n      <button onClick={handleClick} className={className}>\n        {title}\n      </button>\n      <input\n        type=\"file\"\n        multiple\n        ref={hiddenFileInput}\n        className=\"hidden\"\n        onChange={handleChange}\n      />\n    </>\n  );\n};\n\nexport default FilesUploader;\n","import React, { useState } from 'react';\nimport { Header, Sidebar } from '../components';\n\nconst MainLayout = ({ children }) => {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n  return (\n    <div className=\"h-screen flex overflow-hidden bg-cool-gray-100\">\n      <Sidebar isMenuOpen={isMenuOpen} setIsMenuOpen={setIsMenuOpen} />\n      <div className=\"w-0 flex flex-col flex-1 overflow-hidden\">\n        <Header setIsMenuOpen={setIsMenuOpen} />\n        <main\n          className=\"flex-1 relative z-0 overflow-y-auto focus:outline-none\"\n          tabIndex={0}\n        >\n          <div className=\"py-6 h-full\">\n            <div className=\"h-full mx-auto px-4 sm:px-6 md:px-8 xl:w-2/3\">\n              {children}\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default MainLayout;\n","import React from 'react';\n\nconst SettingsLayout = ({ title, info, children }) => (\n  <div className=\"bg-white shadow rounded-lg\">\n    <div className=\"md:grid md:grid-cols-3\">\n      <div className=\"md:col-span-1 px-4 py-5 sm:p-6 bg-cool-gray-50 rounded-t-lg sm:rounded-l-lg\">\n        <h3 className=\"text-base font-medium leading-6 text-cool-gray-900\">\n          {title}\n        </h3>\n        <p className=\"mt-1 text-sm leading-5 text-cool-gray-500\">{info}</p>\n      </div>\n      <div className=\"md:col-span-2 px-4 py-5 sm:p-6\">{children}</div>\n    </div>\n  </div>\n);\n\nexport default SettingsLayout;\n","import React, { useEffect, useReducer, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { SettingsLayout } from '../layouts';\nimport {\n  Button,\n  LoadingOverlay,\n  LoadingIndicator,\n  FormTextInput,\n  ErrorAction,\n} from '../components';\nimport {\n  AppDispatch,\n  getPlayers,\n  ipv4,\n  getNetAddressParts,\n  isArrayNotEmpty,\n  pluralize,\n  fetchWithTimeout,\n  areObjectsEquivalent,\n  SaveIcon,\n  EyeIcon,\n} from '../utils';\nimport localforage from 'localforage';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { useToasts } from 'react-toast-notifications';\n\nYup.addMethod(Yup.string, 'ipv4', ipv4);\n\nconst NetworkSettings = ({ handlePlayersScan, netAddress }) => (\n  <SettingsLayout\n    title=\"Network range\"\n    info=\"Local network address range for pi Players search\"\n  >\n    <Formik\n      enableReinitialize\n      initialValues={netAddress}\n      validationSchema={Yup.object({\n        networkStart: Yup.string().ipv4().required('Required'),\n        networkEnd: Yup.number()\n          .integer('Invalid end address')\n          .strict('Invalid end address')\n          .max(254, 'Invalid end address')\n          .min(0, 'Invalid end address')\n          .required('Please enter a number'),\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        handlePlayersScan(values);\n        setSubmitting(false);\n      }}\n    >\n      <Form>\n        <div className=\"grid grid-cols-3 gap-6\">\n          <FormTextInput label=\"Start\" name=\"networkStart\" type=\"text\" />\n          <FormTextInput label=\"End Address\" name=\"networkEnd\" type=\"number\" />\n        </div>\n        <div className=\"pt-3 text-right\">\n          <Button\n            type=\"primary\"\n            title=\"Scan\"\n            icon={<EyeIcon className=\"h-4 w-4 text-white\" />}\n          />\n        </div>\n      </Form>\n    </Formik>\n  </SettingsLayout>\n);\n\nconst PlayerCredentials = ({\n  handlePlayerCredentials,\n  credentials,\n  isProcessing,\n}) => (\n  <SettingsLayout\n    title=\"Player credentials\"\n    info=\"Use download access credentials from server UI (settings)\"\n  >\n    <Formik\n      enableReinitialize\n      initialValues={credentials}\n      validationSchema={Yup.object({\n        username: Yup.string().required('Required'),\n        password: Yup.string().required('Required'),\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        handlePlayerCredentials(values);\n        setSubmitting(false);\n      }}\n    >\n      <Form>\n        <div className=\"grid grid-cols-3 gap-6\">\n          <FormTextInput label=\"Username\" name=\"username\" type=\"text\" />\n          <FormTextInput label=\"Password\" name=\"password\" type=\"password\" />\n        </div>\n        <div className=\"pt-3 text-right\">\n          <Button\n            type=\"primary\"\n            title=\"Save\"\n            isProcessing={isProcessing}\n            icon={<SaveIcon className=\"h-4 w-4 text-white\" />}\n          />\n        </div>\n      </Form>\n    </Formik>\n  </SettingsLayout>\n);\n\nconst Settings = () => {\n  const dispatchApp = useContext(AppDispatch);\n  const history = useHistory();\n  const { addToast } = useToasts();\n\n  const settingsReducer = (state, action) => {\n    switch (action.type) {\n      case 'FETCH_INIT':\n        return {\n          ...state,\n          isError: false,\n          ...action.payload,\n        };\n      case 'FETCH_SUCCESS':\n        return {\n          ...state,\n          isLoading: false,\n          isError: false,\n          ...action.payload,\n        };\n      case 'FETCH_FAILURE':\n        return {\n          ...state,\n          isLoading: false,\n          isError: true,\n        };\n      case 'UPDATE_NETWORK':\n        return {\n          ...state,\n          isScanning: false,\n          netAddress: action.payload,\n        };\n      case 'UPDATE_CREDENTIALS':\n        return {\n          ...state,\n          isProcessing: false,\n          credentials: action.payload,\n        };\n      default:\n        throw new Error();\n    }\n  };\n\n  const initialData = {\n    netAddress: {\n      networkStart: '',\n      networkEnd: 254,\n    },\n    credentials: {\n      username: 'pi',\n      password: 'pi',\n    },\n    isLoading: true,\n    isError: false,\n    isScanning: false,\n    isProcessing: false,\n  };\n\n  const [settingsState, dispatchSettings] = useReducer(\n    settingsReducer,\n    initialData\n  );\n\n  useEffect(() => {\n    dispatchApp({\n      type: 'SET_TITLE',\n      payload: (\n        <h1 className=\"capitalize text-2xl font-semibold leading-7 text-cool-gray-900 sm:leading-9 sm:truncate\">\n          Settings\n        </h1>\n      ),\n    });\n  }, [dispatchApp]);\n\n  const setAuthToken = async (credentials) => {\n    const authToken = btoa(`${credentials.username}:${credentials.password}`);\n    await localforage.setItem('authToken', authToken);\n  };\n\n  useEffect(() => {\n    let didCancel = false;\n\n    const fetchSettings = async () => {\n      dispatchSettings({ type: 'FETCH_INIT' });\n\n      try {\n        const initialNetAddress = (await localforage.getItem('netAddress')) || {\n          networkStart: '',\n          networkEnd: 254,\n        };\n        const initialCredentials = (await localforage.getItem(\n          'credentials'\n        )) || {\n          username: 'pi',\n          password: 'pi',\n        };\n\n        await setAuthToken(initialCredentials);\n        if (!didCancel) {\n          dispatchSettings({\n            type: 'FETCH_SUCCESS',\n            payload: {\n              netAddress: initialNetAddress,\n              credentials: initialCredentials,\n            },\n          });\n        }\n      } catch (err) {\n        console.error(err);\n        if (!didCancel) {\n          dispatchSettings({ type: 'FETCH_FAILURE' });\n        }\n      }\n    };\n\n    fetchSettings();\n\n    return () => {\n      didCancel = true;\n    };\n  }, []);\n\n  const handlePlayersScan = async (values) => {\n    dispatchSettings({\n      type: 'FETCH_INIT',\n      payload: { isScanning: true },\n    });\n    try {\n      await localforage.setItem('netAddress', values);\n\n      const [addressPrefix, startIP, endIP] = getNetAddressParts(values);\n      const urls = [];\n      const playerIPs = [];\n\n      for (let i = startIP; i <= endIP; i++) {\n        urls.push(`http://${addressPrefix}.${i}:8001`);\n      }\n\n      const responses = await Promise.allSettled(\n        urls.map((url) => fetchWithTimeout(url, {}, 30000))\n      );\n\n      responses.forEach((response) => {\n        if (response.status === 'fulfilled') {\n          const url = response.value.url;\n          const ipAddress = url.replace(/^https?:\\/\\//, '').split(':')[0];\n          playerIPs.push(ipAddress);\n        }\n      });\n\n      await localforage.setItem('playerIPs', playerIPs);\n\n      dispatchSettings({\n        type: 'UPDATE_NETWORK',\n        payload: values,\n      });\n\n      history.push('/dashboard');\n\n      if (isArrayNotEmpty(playerIPs)) {\n        addToast('', {\n          appearance: 'success',\n          title: 'Successful scan',\n          info: `${pluralize(playerIPs.length, 'player')} found`,\n        });\n      } else {\n        addToast('', {\n          appearance: 'error',\n          title: 'Unsuccessful scan',\n          info: 'No players found',\n        });\n      }\n    } catch (err) {\n      console.error(err);\n      addToast('', {\n        appearance: 'error',\n        title: 'Something went wrong',\n        info: 'Please try again',\n      });\n    }\n  };\n\n  const handlePlayerCredentials = async (values) => {\n    try {\n      if (areObjectsEquivalent(values, settingsState.credentials)) {\n        return;\n      } else {\n        dispatchSettings({\n          type: 'FETCH_INIT',\n          payload: { isProcessing: true },\n        });\n        await setAuthToken(values);\n        await localforage.setItem('credentials', values);\n\n        const storedPlayerIPs = await localforage.getItem('playerIPs');\n        if (isArrayNotEmpty(storedPlayerIPs)) {\n          const token = await localforage.getItem('authToken');\n          const players = await getPlayers(storedPlayerIPs, token);\n          await localforage.setItem('players', players);\n          dispatchApp({\n            type: 'SET_PLAYERS',\n            payload: players,\n          });\n        }\n        dispatchSettings({\n          type: 'UPDATE_CREDENTIALS',\n          payload: values,\n        });\n\n        addToast('', {\n          appearance: 'success',\n          title: 'Settings updated',\n          info: 'New credentials saved',\n        });\n      }\n    } catch (err) {\n      console.error(err);\n      addToast('', {\n        appearance: 'error',\n        title: 'Something went wrong',\n        info: 'Please try again',\n      });\n    }\n  };\n\n  return (\n    <>\n      {!!settingsState.isScanning && (\n        <LoadingOverlay\n          isLoading={settingsState.isScanning}\n          loadingIcon=\"Puff\"\n          loadingTitle=\"Scanning for players\"\n        />\n      )}\n      {!!settingsState.isLoading && (\n        <LoadingIndicator isLoading={settingsState.isLoading} />\n      )}\n      {!!settingsState.isError && <ErrorAction isShowing={true} />}\n      {!settingsState.isLoading && (\n        <div className=\"space-y-4 mx-auto md:w-3/4 mb-6\">\n          <NetworkSettings\n            handlePlayersScan={handlePlayersScan}\n            netAddress={settingsState.netAddress}\n          />\n          <PlayerCredentials\n            handlePlayerCredentials={handlePlayerCredentials}\n            credentials={settingsState.credentials}\n            isProcessing={settingsState.isProcessing}\n          />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Settings;\n","import React, { useEffect, useReducer, useContext } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport {\n  FormTextInput,\n  PlayerItem,\n  LoadingIndicator,\n  ErrorAction,\n  Modal,\n  Button,\n} from '../components';\nimport {\n  AppState,\n  AppDispatch,\n  getPlayers,\n  getAuth,\n  formatID,\n  ipv4,\n  fetchWithTimeout,\n  isArrayNotEmpty,\n  useModal,\n  CollectionIcon,\n  PlusIcon,\n  ExclamationCircleIcon,\n  ArrowRightIcon,\n} from '../utils';\nimport localforage from 'localforage';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { useToasts } from 'react-toast-notifications';\n\nconst NoPlayersFound = ({ handleAddPlayer, handleGoToSettings, isShowing }) => {\n  return (\n    !!isShowing && (\n      <div className=\"w-full h-full flex items-center justify-center\">\n        <div className=\"bg-white shadow sm:rounded-lg md:w-1/2\">\n          <div className=\"px-4 py-5 sm:p-6\">\n            <h3 className=\"text-base font-medium leading-6 text-cool-gray-900 sm:truncate\">\n              No players found\n            </h3>\n            <div className=\"text-sm leading-5 text-cool-gray-500 mt-2 max-w-xl\">\n              <p>\n                Choose to instead add a player manually or change the network\n                range in settings.\n              </p>\n            </div>\n            <div className=\"mt-5 flex flex-col sm:flex-row sm:space-x-2 sm:space-y-0 space-y-2\">\n              <Button\n                type=\"tertiary\"\n                title=\"Settings\"\n                onClick={handleGoToSettings}\n                className=\"justify-center sm:justify-start\"\n                icon={<ArrowRightIcon className=\"h-4 w-4 text-cool-gray-700\" />}\n              />\n              <Button\n                type=\"primary\"\n                title=\"Add\"\n                onClick={handleAddPlayer}\n                className=\"justify-center sm:justify-start\"\n                icon={<PlusIcon className=\"h-5 w-5 text-white\" />}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  );\n};\n\nconst Overview = ({ players, handleAddPlayer }) => {\n  const isShowing = isArrayNotEmpty(players);\n  const authStatus = getAuth(players);\n  return (\n    !!isShowing && (\n      <div>\n        <h2 className=\"text-lg leading-6 font-medium text-cool-gray-900\">\n          Overview\n        </h2>\n        <div className=\"mt-2 grid grid-cols-2 gap-5 sm:grid-cols-3\">\n          {!!authStatus && (\n            <>\n              <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n                <div className=\"px-4 py-4\">\n                  <div className=\"flex items-center\">\n                    <div className=\"hidden sm:block flex-shrink-0 bg-indigo-500 rounded-md p-3\">\n                      <CollectionIcon className=\"h6 w-6 text-white\" />\n                    </div>\n                    <div className=\"sm:ml-5 w-0 flex-1\">\n                      <dl>\n                        <dt className=\"text-sm leading-5 font-medium text-cool-gray-00 truncate\">\n                          Total players\n                        </dt>\n                        <dd className=\"mt-1 text-xl sm:text-2xl font-semibold text-cool-gray-900\">\n                          {players.length}\n                        </dd>\n                      </dl>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n                <div className=\"px-4 py-4\">\n                  <div className=\"flex items-center\">\n                    <div className=\"hidden sm:block flex-shrink-0 bg-green-100 rounded-md p-3\">\n                      <CollectionIcon className=\"h-6 w-6 text-green-500\" />\n                    </div>\n                    <div className=\"sm:ml-5 w-0 flex-1\">\n                      <dl>\n                        <dt className=\"text-sm leading-5 font-medium text-cool-gray-500 truncate\">\n                          Active players\n                        </dt>\n                        <dd className=\"mt-1 text-xl sm:text-2xl font-semibold text-cool-gray-900\">\n                          {players.filter((player) => player.playlistOn).length}\n                        </dd>\n                      </dl>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n          {!authStatus && (\n            <div className=\"col-span-2 sm:col-span-1 space-x-2 rounded-lg shadow p-5 flex items-center justify-center border-transparent text-white bg-white\">\n              <ExclamationCircleIcon className=\"h-6 w-6 sm:h-8 sm:w-8 text-red-500\" />\n              <h3 className=\"text-base leading-6 font-medium text-red-500 transition ease-in-out duration-150\">\n                Invalid credentials\n              </h3>\n            </div>\n          )}\n          <div\n            className=\"cursor-pointer col-span-2 sm:col-span-1 space-x-2 rounded-lg shadow p-5 flex items-center justify-center border-transparent text-white bg-indigo-600 hover:bg-indigo-500 focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700\"\n            onClick={handleAddPlayer}\n          >\n            <PlusIcon className=\"h-6 w-6 sm:h-8 sm:w-8 text-white\" />\n            <h3 className=\"text-base leading-6 font-medium text-white transition ease-in-out duration-150\">\n              Add player\n            </h3>\n          </div>\n        </div>\n      </div>\n    )\n  );\n};\n\nconst PlayersTable = ({ players }) => (\n  <div className=\"hidden sm:block\">\n    <div className=\"flex flex-col mt-2\">\n      <div className=\"align-middle min-w-full overflow-x-auto shadow overflow-hidden sm:rounded-lg\">\n        <table className=\"min-w-full divide-y divide-cool-gray-200\">\n          <thead>\n            <tr>\n              <th className=\"px-6 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider\">\n                Player\n              </th>\n              <th className=\"px-6 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider\">\n                IP Address\n              </th>\n              <th className=\"px-6 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider\">\n                Player ID\n              </th>\n              <th className=\"px-6 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider\">\n                Status\n              </th>\n              <th className=\"hidden px-6 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider md:block\">\n                Playing\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-cool-gray-200\">\n            {players.map((player, index) => (\n              <tr className=\"bg-white\" key={player.ipAddress}>\n                <td className=\"px-6 py-4 text-right whitespace-no-wrap text-sm leading-5\">\n                  <div className=\"flex\">\n                    <Link\n                      to={{\n                        pathname: `/players/player${index + 1}/overview`,\n                        state: {\n                          ipAddress: player.ipAddress,\n                        },\n                      }}\n                      onClick={\n                        !player.authorized\n                          ? (event) => event.preventDefault()\n                          : null\n                      }\n                      className=\"group inline-flex space-x-2 truncate text-sm leading-5\"\n                    >\n                      <p className=\"cursor-pointer text-sm leading-5 font-medium text-cool-gray-500 hover:text-cool-gray-600 hover:underline truncate group-hover:text-cool-gray-900 transition ease-in-out duration-150\">\n                        {`Player ${index + 1}`}\n                      </p>\n                    </Link>\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 text-left whitespace-no-wrap uppercase tabular-nums text-sm leading-5 text-cool-gray-500\">\n                  {player.ipAddress}\n                </td>\n                <td className=\"px-6 py-4 whitespace-no-wrap uppercase text-sm leading-5 tabular-nums text-cool-gray-500\">\n                  {player.authorized ? formatID(player.cpuSerialNumber) : ''}\n                </td>\n                <td className=\"px-6 py-4 text-left whitespace-no-wrap text-sm leading-5 text-cool-gray-500\">\n                  <span\n                    className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium leading-4 capitalize ${\n                      !player.authorized\n                        ? 'bg-cool-gray-100 text-cool-gray-800'\n                        : player.playlistOn\n                        ? 'bg-green-100 text-green-800'\n                        : 'bg-red-100 text-red-800'\n                    }`}\n                  >\n                    {!player.authorized\n                      ? 'Unauthorized'\n                      : player.playlistOn\n                      ? 'Active'\n                      : 'Inactive'}\n                  </span>\n                </td>\n                <td className=\"hidden px-6 py-4 max-w-xs truncate whitespace-no-wrap text-sm leading-5 text-cool-gray-500 md:block\">\n                  {player.currentPlayingFile}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n);\n\nconst Dashboard = () => {\n  const appState = useContext(AppState);\n  const dispatchApp = useContext(AppDispatch);\n  const history = useHistory();\n  const [isShowing, toggle] = useModal();\n  const { addToast } = useToasts();\n\n  const dashboardReducer = (state, action) => {\n    switch (action.type) {\n      case 'FETCH_INIT':\n        return {\n          ...state,\n          isError: false,\n          ...action.payload,\n        };\n      case 'FETCH_SUCCESS':\n        return {\n          ...state,\n          isLoading: false,\n          isError: false,\n        };\n      case 'FETCH_FAILURE':\n        return {\n          ...state,\n          isLoading: false,\n          isError: true,\n        };\n      case 'UPDATE_PLAYERS':\n        return {\n          ...state,\n          isProcessing: false,\n        };\n      default:\n        throw new Error();\n    }\n  };\n\n  const initialData = {\n    isLoading: true,\n    isError: false,\n    isProcessing: false,\n  };\n\n  const [dashboardState, dispatchDashboard] = useReducer(\n    dashboardReducer,\n    initialData\n  );\n\n  useEffect(() => {\n    dispatchApp({\n      type: 'SET_TITLE',\n      payload: (\n        <h1 className=\"capitalize text-2xl font-semibold leading-7 text-cool-gray-900 sm:leading-9 sm:truncate\">\n          Dashboard\n        </h1>\n      ),\n    });\n  }, [dispatchApp]);\n\n  useEffect(() => {\n    let didCancel = false;\n\n    const fetchDashboard = async () => {\n      dispatchDashboard({ type: 'FETCH_INIT' });\n\n      try {\n        const token = await localforage.getItem('authToken');\n        const playerIPs = await localforage.getItem('playerIPs');\n        const players = await getPlayers(playerIPs, token);\n        await localforage.setItem('players', players);\n\n        if (!didCancel) {\n          dispatchApp({\n            type: 'SET_PLAYERS',\n            payload: players,\n          });\n          dispatchDashboard({ type: 'FETCH_SUCCESS' });\n        }\n      } catch (err) {\n        console.error(err);\n        if (!didCancel) {\n          dispatchDashboard({ type: 'FETCH_FAILURE' });\n        }\n      }\n    };\n\n    fetchDashboard();\n\n    return () => {\n      didCancel = true;\n    };\n  }, [dispatchApp]);\n\n  const handleAddPlayer = async (values) => {\n    try {\n      let players = await localforage.getItem('players');\n      let player;\n      const duplicatePlayer =\n        players.find((player) => {\n          return player.ipAddress === values.ipAddress;\n        }) !== undefined;\n      if (duplicatePlayer) {\n        addToast('', {\n          appearance: 'error',\n          title: 'Duplicate player',\n          info: 'Player already exists!',\n        });\n        return;\n      } else {\n        dispatchDashboard({\n          type: 'FETCH_INIT',\n          payload: { isProcessing: true },\n        });\n        const token = await localforage.getItem('authToken');\n        const response = await fetchWithTimeout(\n          `http://${values.ipAddress}:8000/api/status`,\n          {\n            headers: new Headers({\n              Authorization: `Basic ${token}`,\n            }),\n          }\n        );\n        if (response.ok) {\n          const data = await response.json();\n          player = Object.assign(data.data, { ...values, authorized: true });\n        } else {\n          player = Object.assign({}, { ...values, authorized: false });\n        }\n        players.push(player);\n        const ipAddresses = players.map((player) => player.ipAddress);\n        await localforage.setItem('playerIPs', ipAddresses);\n        await localforage.setItem('players', players);\n        dispatchApp({\n          type: 'SET_PLAYERS',\n          payload: players,\n        });\n        dispatchDashboard({\n          type: 'UPDATE_PLAYERS',\n        });\n        toggle();\n        addToast('', {\n          appearance: 'success',\n          title: 'Successful',\n          info: 'Player has been added',\n        });\n      }\n    } catch (err) {\n      console.error(err);\n      if (err.message === 'timeout') {\n        dispatchDashboard({\n          type: 'UPDATE_PLAYERS',\n        });\n        addToast('', {\n          appearance: 'error',\n          title: 'Unsuccessful',\n          info: 'No player found',\n        });\n      } else {\n        addToast('', {\n          appearance: 'error',\n          title: 'Something went wrong',\n          info: 'Please try again',\n        });\n      }\n    }\n  };\n\n  // * IPv4 validation\n  Yup.addMethod(Yup.string, 'ipv4', ipv4);\n\n  const addPlayerModal = {\n    modalTitle: 'Add player',\n    modalContent: (\n      <Formik\n        initialValues={{ ipAddress: '' }}\n        validationSchema={Yup.object({\n          ipAddress: Yup.string().ipv4().required('Required'),\n        })}\n        onSubmit={(values, { setSubmitting }) => {\n          handleAddPlayer(values);\n          setSubmitting(false);\n        }}\n      >\n        <Form>\n          <FormTextInput label=\"IP address\" name=\"ipAddress\" type=\"text\" />\n          <div className=\"mt-5 sm:mt-4 flex flex-row-reverse\">\n            <Button\n              type=\"primary\"\n              title=\"Add\"\n              isProcessing={dashboardState.isProcessing}\n              icon={<PlusIcon className=\"h-5 w-5 text-white\" />}\n            />\n          </div>\n        </Form>\n      </Formik>\n    ),\n    toggle: () => {\n      toggle();\n    },\n  };\n\n  return (\n    <>\n      {!!dashboardState.isLoading && (\n        <LoadingIndicator isLoading={dashboardState.isLoading} />\n      )}\n      {!!dashboardState.isError && (\n        <ErrorAction isShowing={dashboardState.isError} />\n      )}\n\n      {!dashboardState.isLoading && (\n        <>\n          <div className=\"mb-6\">\n            <Overview players={appState.players} handleAddPlayer={toggle} />\n            {!!isArrayNotEmpty(appState.players) && (\n              <h2 className=\"text-lg leading-6 font-medium text-cool-gray-900 mt-10 mb-2\">\n                Available players\n              </h2>\n            )}\n            <div className=\"bg-white shadow sm:hidden overflow-hidden rounded-md\">\n              <ul>\n                {appState.players.map((player, index) => (\n                  <li\n                    key={player.ipAddress}\n                    className={`${\n                      index === 0 ? '' : 'border-t border-cool-gray-200'\n                    }`}\n                  >\n                    <PlayerItem {...player} index={index} />\n                  </li>\n                ))}\n              </ul>\n            </div>\n            {!!isArrayNotEmpty(appState.players) && (\n              <PlayersTable players={appState.players} />\n            )}\n          </div>\n          <NoPlayersFound\n            isShowing={!isArrayNotEmpty(appState.players)}\n            handleAddPlayer={toggle}\n            handleGoToSettings={() => history.push('/settings')}\n          />\n        </>\n      )}\n      <Modal\n        isShowing={isShowing}\n        hide={toggle}\n        modalTitle={addPlayerModal.modalTitle}\n        modalContent={addPlayerModal.modalContent}\n        icon={<PlusIcon className=\"h-6 w-6 text-indigo-700\" />}\n      />\n    </>\n  );\n};\n\nexport default Dashboard;\n","import React, { useState, useEffect, useReducer, useContext } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport {\n  Modal,\n  FormTextInput,\n  LoadingIndicator,\n  ErrorAction,\n  Button,\n} from '../../components';\nimport {\n  AppDispatch,\n  useModal,\n  formatID,\n  fetchWithTimeout,\n  formatPlayerName,\n  DownloadIcon,\n  TerminalIcon,\n  BanIcon,\n  PlayIcon,\n  PauseIcon,\n  FastForwardIcon,\n  RewindIcon,\n} from '../../utils';\nimport localforage from 'localforage';\nimport { Formik, Form } from 'formik';\nimport * as Yup from 'yup';\nimport { useToasts } from 'react-toast-notifications';\nimport { saveAs } from 'file-saver';\n\nconst PlayerHeader = ({ playerDetails, handlePlaylistStatus }) => (\n  <div className=\"border-b border-cool-gray-200 px-4 py-5 sm:px-6 w-full flex justify-between items-start sm:flex-no-wrap\">\n    <div className=\"flex flex-col items center\">\n      <div className=\"flex items-center\">\n        <h2 className=\"text-sm sm:text-base font-medium leading-5 text-gray-500 capitalize truncate\">\n          Player ID\n        </h2>\n      </div>\n      <div className=\"text-sm sm:text-base mt-1 max-w-2xl font-medium uppercase tracking-wider truncate\">\n        {formatID(playerDetails.cpuSerialNumber)}\n      </div>\n    </div>\n    <div className=\"flex flex-col items-center justify-center flex-shrink-0\">\n      {/* Toggle button */}\n      <span\n        role=\"checkbox\"\n        tabIndex={0}\n        aria-checked=\"false\"\n        onClick={() => handlePlaylistStatus()}\n        className={`${\n          playerDetails.playlistOn ? 'bg-green-400' : 'bg-red-500'\n        }  relative inline-block flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:shadow-outline`}\n      >\n        <span\n          aria-hidden=\"true\"\n          className={`${\n            playerDetails.playlistOn ? 'translate-x-5' : 'translate-x-0'\n          } inline-block h-5 w-5 rounded-full bg-white shadow transform transition ease-in-out duration-200`}\n        />\n      </span>\n      <div className=\"text-xs font-mono text-gray-400 mt-1\">Playlist</div>\n    </div>\n  </div>\n);\n\nconst PlayerInfo = ({ playerDetails }) => (\n  <div className=\"md:col-span-2\">\n    <table className=\"min-w-full divide-y divide-cool-gray-200 h-full md:border-t-0 border-t border-cool-gray-200\">\n      <tbody className=\"border-t md:border-t-0 border-cool-gray-200 divide-y divide-cool-gray-200\">\n        <tr className=\"bg-cool-gray-50\">\n          <td className=\"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-500\">\n            MAC address\n          </td>\n          <td className=\"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-cool-gray-900\">\n            {`eth: ${playerDetails.ethMac}`}\n            <br/>\n            {`wifi: ${playerDetails.wifiMac}`}\n          </td>\n        </tr>\n        <tr className=\"bg-white\">\n          <td className=\"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-500\">\n            IP address\n          </td>\n          <td className=\"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-cool-gray-900 tabular-num\">\n            {playerDetails.ipAddress}\n          </td>\n        </tr>\n        <tr className=\"bg-cool-gray-50\">\n          <td className=\"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-500\">\n            Version\n          </td>\n          <td className=\"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-cool-gray-900\">\n            {playerDetails.version}\n          </td>\n        </tr>\n        <tr className=\"bg-white\">\n          <td className=\"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-500\">\n            Temperature\n          </td>\n          <td className=\"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-cool-gray-900\">\n            N/A\n          </td>\n        </tr>\n        <tr className=\"bg-cool-gray-50\">\n          <td className=\"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-500\">\n            Uptime\n          </td>\n          <td className=\"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-cool-gray-900\">\n            N/A\n          </td>\n        </tr>\n        <tr className=\"bg-white\">\n          <td className=\"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-500\">\n            Space used\n          </td>\n          <td className=\"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-cool-gray-900\">\n            {playerDetails.diskSpaceUsed}\n          </td>\n        </tr>\n        <tr className=\"bg-cool-gray-50\">\n          <td className=\"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-500\">\n            Space available\n          </td>\n          <td className=\"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-cool-gray-900\">\n            {playerDetails.diskSpaceAvailable}\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n);\n\nconst PlayerMedia = ({ playerDetails, handleSnapshot, playerMediaControl }) => (\n  <div className=\"md:col-span-2 md:border-r border-cool-gray-200 flex items-center flex-col justify-center px-4 py-5 sm:px-8 pb-0\">\n    <div className=\"flex items-center justify-center mt-2 rounded-lg w-full cursor-pointer p-2 bg-indigo-200\">\n      {playerDetails.snapshotURL === null ? (\n        <div\n          className=\"p-4 rounded-md bg-indigo-200 w-full h-full flex items-center justify-center cursor-pointer\"\n          onClick={handleSnapshot}\n        >\n          <BanIcon className=\"h-5 w-5 sm:h-7 sm:w-7 text-gray-400\" />\n        </div>\n      ) : (\n        <img\n          src={`data:image/jpeg;base64,${playerDetails.snapshotURL}`}\n          alt=\"\"\n          className=\"w-full h-full\"\n          onClick={handleSnapshot}\n        />\n      )}\n    </div>\n    <div className=\"text-base sm:text-lg font-semibold leading-5 text-cool-gray-900 mt-6 truncate w-3/4 text-center\">\n      {playerDetails.currentPlayingFile}\n    </div>\n    <div className=\"text-xs sm:text-sm leading-5 text-cool-gray-500 mt-3 truncate max-w-full w-3/4 text-center\">\n      {playerDetails.currentPlaylist}\n    </div>\n    <div className=\"w-full flex items-center justify-center mt-6 mb-4\">\n      <button\n        type=\"button\"\n        className=\"flex items-center justify-center h-12 w-12 rounded-full focus:outline-none active:bg-gray-200 transition ease-in-out duration-150\"\n        aria-label=\"Skip start\"\n        onClick={() => playerMediaControl('backward')}\n      >\n        <RewindIcon className=\"h-6 w-6 text-cool-gray-400 hover:text-cool-gray-700\" />\n      </button>\n      <button\n        type=\"button\"\n        className=\"flex items-center justify-center rounded-full focus:outline-none active:bg-gray-200 transition ease-in-out duration-150\"\n        aria-label={`${playerDetails.isPaused} ? 'Play' : 'Pause'`}\n        onClick={() => playerMediaControl('pause')}\n      >\n        {playerDetails.isPaused ? (\n          <PlayIcon className=\"h-10 w-10 text-cool-gray-600 mx-4\" />\n        ) : (\n          <PauseIcon className=\"h-10 w-10 text-cool-gray-600 mx-4\" />\n        )}\n      </button>\n      <button\n        type=\"button\"\n        className=\"flex items-center justify-center h-12 w-12 rounded-full focus:outline-none active:bg-gray-200 transition ease-in-out duration-150\"\n        aria-label=\"Skip start\"\n        onClick={() => playerMediaControl('forward')}\n      >\n        <FastForwardIcon className=\"h-6 w-6 text-cool-gray-400 hover:text-cool-gray-700\" />\n      </button>\n    </div>\n  </div>\n);\n\nconst ButtonWithIcon = ({ icon, title, handleClick }) => (\n  <span className=\"inline-flex rounded-md shadow-sm\">\n    <button\n      type=\"button\"\n      className=\"inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs leading-4 font-medium rounded text-gray-700 bg-white hover:text-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:text-gray-800 active:bg-gray-50 transition ease-in-out duration-150\"\n      onClick={handleClick}\n    >\n      {icon}\n      {title}\n    </button>\n  </span>\n);\n\nconst PlayerFooter = ({ handleLog, handlePiShell }) => (\n  <div className=\"border-t border-cool-gray-200 px-4 py-4 sm:px-6 flex items-center justify-between\">\n    <ButtonWithIcon\n      icon={\n        <DownloadIcon className=\"h-4 sm:h-5 w-4 sm:w-5 text-black-400 mr-1\" />\n      }\n      title=\"Log\"\n      handleClick={handleLog}\n    />\n    <ButtonWithIcon\n      icon={\n        <TerminalIcon className=\"h-4 sm:h-5 w-4 sm:w-5 text-black-400 mr-1\" />\n      }\n      title=\"piShell\"\n      handleClick={handlePiShell}\n    />\n  </div>\n);\n\nconst fetchPlayerAPIs = async (type, ipAddress, url, params) => {\n  const response = await fetchWithTimeout(\n    `http://${ipAddress}:8000/api/${url}`,\n    params\n  );\n  if (\n    type === 'playlistStatus' ||\n    type === 'mediaControl' ||\n    type === 'snapshot' ||\n    type === 'shell'\n  ) {\n    const data = await response.json();\n    return data;\n  } else if (type === 'log') {\n    const blob = await response.blob();\n    return blob;\n  }\n};\n\nconst Overview = () => {\n  const dispatchApp = useContext(AppDispatch);\n  const [token, setToken] = useState(btoa('pi:pi'));\n  const location = useLocation();\n  let { playerID } = useParams();\n  const { addToast } = useToasts();\n  const [isShowing, toggle] = useModal();\n  const { ipAddress } = location.state;\n\n  const playerReducer = (state, action) => {\n    switch (action.type) {\n      case 'FETCH_INIT':\n        return {\n          ...state,\n          isLoading: true,\n          isError: false,\n        };\n      case 'FETCH_SUCCESS':\n        return {\n          ...state,\n          isError: false,\n          isLoading: false,\n          ...action.payload,\n        };\n      case 'FETCH_FAILURE':\n        return {\n          ...state,\n          isError: true,\n          isLoading: false,\n        };\n      case 'SET_PLAYER':\n        return {\n          ...state,\n          details: { ...state.details, ...action.payload },\n        };\n      case 'SET_PISHELL':\n        return {\n          ...state,\n          piShell: { ...state.piShell, ...action.payload, isProcessing: false },\n        };\n      default:\n        throw new Error();\n    }\n  };\n\n  const initialData = {\n    details: { snapshotURL: null, isPaused: false, isProcessing: true },\n    piShell: {\n      isProcessing: false,\n      type: '',\n      output: '',\n    },\n    isLoading: true,\n    isError: false,\n  };\n\n  const [playerState, dispatchPlayer] = useReducer(playerReducer, initialData);\n\n  useEffect(() => {\n    dispatchApp({\n      type: 'SET_TITLE',\n      payload: (\n        <h1 className=\"capitalize text-2xl font-semibold leading-7 text-cool-gray-900 sm:leading-9 sm:truncate\">\n          {formatPlayerName(playerID)}\n        </h1>\n      ),\n    });\n  }, [dispatchApp, playerID]);\n\n  useEffect(() => {\n    let didCancel = false;\n\n    const fetchPlayer = async () => {\n      dispatchPlayer({ type: 'FETCH_INIT' });\n      try {\n        const authToken = await localforage.getItem('authToken');\n        setToken(authToken);\n        const urls = [\n          `http://${ipAddress}:8000/api/status`,\n          `http://${ipAddress}:8000/api/snapshot`,\n        ];\n\n        const playerPromises = urls.map((url) =>\n          fetch(url, {\n            headers: new Headers({\n              Authorization: `Basic ${token}`,\n            }),\n          }).then((res) => res.json())\n        );\n\n        const responses = await Promise.allSettled(playerPromises);\n\n        const [playerData, snapshotData] = await responses\n          .filter((response) => response.status !== 'rejected')\n          .map((response) => response.value);\n\n        if (!didCancel) {\n          dispatchPlayer({\n            type: 'FETCH_SUCCESS',\n            payload: {\n              details: {\n                playerID,\n                ipAddress,\n                ...playerData.data,\n                snapshotURL: snapshotData.data.data,\n              },\n            },\n          });\n        }\n      } catch (err) {\n        if (!didCancel) {\n          console.error(err);\n          dispatchPlayer({ type: 'FETCH_FAILURE' });\n        }\n      }\n    };\n    fetchPlayer();\n\n    return () => {\n      didCancel = true;\n    };\n  }, [ipAddress, token, playerID]);\n\n  const handlePlaylistStatus = async () => {\n    try {\n      const playlistStatus = playerState.details.playlistOn;\n      console.log('handlePlaylistStatus -> playlistStatus', playlistStatus);\n      const params = playlistStatus ? { stop: true } : { play: true };\n      await fetchPlayerAPIs(\n        'playlistStatus',\n        ipAddress,\n        `play/playlists/${playerState.details.currentPlaylist}`,\n        {\n          method: 'POST',\n          headers: new Headers({\n            Authorization: `Basic ${token}`,\n            'Content-Type': 'application/json',\n          }),\n          body: JSON.stringify(params),\n        }\n      );\n\n      const storedPlayers = await localforage.getItem('players');\n      const updatedPlayers = storedPlayers.map((storedPlayer) =>\n        storedPlayer.cpuSerialNumber === playerState.details.cpuSerialNumber\n          ? { ...storedPlayer, playlistOn: !playlistStatus }\n          : storedPlayer\n      );\n      await localforage.setItem('players', updatedPlayers);\n      dispatchApp({\n        type: 'SET_PLAYERS',\n        payload: updatedPlayers,\n      });\n      if (playlistStatus) {\n        dispatchPlayer({\n          type: 'SET_PLAYER',\n          payload: { playlistOn: !playlistStatus, snapshotURL: null },\n        });\n      } else {\n        await handleSnapshot();\n        dispatchPlayer({\n          type: 'SET_PLAYER',\n          payload: { playlistOn: !playlistStatus },\n        });\n      }\n      addToast('', {\n        appearance: playlistStatus ? 'error' : 'success',\n        title: playlistStatus ? 'Playlist stopped' : 'Playlist started',\n      });\n    } catch (err) {\n      console.error(err);\n      addToast('', {\n        appearance: 'error',\n        title: 'Something went wrong! Please try again.',\n      });\n    }\n  };\n\n  const playerMediaControl = async (action) => {\n    try {\n      const data = await fetchPlayerAPIs(\n        'mediaControl',\n        ipAddress,\n        `playlistmedia/${action}`,\n        {\n          method: 'POST',\n          headers: new Headers({\n            Authorization: `Basic ${token}`,\n          }),\n        }\n      );\n      dispatchPlayer({\n        type: 'SET_PLAYER',\n        payload: { isPaused: data.data.isPaused },\n      });\n      if (\n        playerState.details.isPaused ||\n        action === 'forward' ||\n        action === 'backward'\n      ) {\n        await handleSnapshot();\n      }\n    } catch (err) {\n      console.error(err);\n      addToast('', {\n        appearance: 'error',\n        title: 'Something went wrong! Please try again.',\n      });\n    }\n  };\n\n  const handleSnapshot = async () => {\n    try {\n      const data = await fetchPlayerAPIs('snapshot', ipAddress, `snapshot`, {\n        headers: new Headers({\n          Authorization: `Basic ${token}`,\n        }),\n      });\n      if (data.success) {\n        dispatchPlayer({\n          type: 'SET_PLAYER',\n          payload: { snapshotURL: data.data.data },\n        });\n      } else {\n        addToast('', {\n          appearance: 'error',\n          title: 'Check if the player is ON and try again.',\n        });\n      }\n    } catch {\n      addToast('', {\n        appearance: 'error',\n        title: 'Something went wrong! Please try again.',\n      });\n    }\n  };\n\n  const handleLog = async () => {\n    try {\n      const data = await fetchPlayerAPIs(\n        'log',\n        ipAddress,\n        `settings/log?file=forever_out.log`,\n        {\n          method: 'GET',\n          headers: new Headers({\n            Authorization: `Basic ${token}`,\n          }),\n        }\n      );\n      saveAs(data, 'forever_out.log');\n    } catch (err) {\n      addToast('', {\n        appearance: 'error',\n        title: 'Something went wrong! Please try again.',\n      });\n    }\n  };\n\n  const handleShellCommand = async (values) => {\n    try {\n      dispatchPlayer({\n        type: 'SET_PISHELL',\n        payload: { isLoading: true },\n      });\n      const data = await fetchPlayerAPIs('shell', ipAddress, `pishell`, {\n        method: 'POST',\n        headers: new Headers({\n          Authorization: `Basic ${token}`,\n          'Content-Type': 'application/json',\n        }),\n        body: JSON.stringify(values),\n      });\n      const type = data.data.stdout ? 'success' : 'warning';\n      dispatchPlayer({\n        type: 'SET_PISHELL',\n        payload: {\n          isLoading: false,\n          type,\n          output: type === 'success' ? data.data.stdout : data.data.stderr,\n        },\n      });\n    } catch (err) {\n      addToast('', {\n        appearance: 'error',\n        title: 'Something went wrong! Please try again.',\n      });\n    }\n  };\n\n  const piShellModal = {\n    modalTitle: 'Pi Shell',\n    modalContent: (\n      <>\n        <Formik\n          initialValues={{ cmd: '' }}\n          validationSchema={Yup.object({\n            cmd: Yup.string().required('Required'),\n          })}\n          onSubmit={(values, { setSubmitting }) => {\n            handleShellCommand(values);\n            setSubmitting(false);\n          }}\n        >\n          <Form>\n            <FormTextInput label=\"Command\" name=\"cmd\" type=\"text\" />\n            <div className=\"mt-3 sm:flex sm:flex-row-reverse\">\n              <span className=\"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto\">\n                <Button\n                  type=\"primary\"\n                  title=\"Execute\"\n                  icon={<TerminalIcon className=\"h-5 w-5 text-white\" />}\n                />\n              </span>\n            </div>\n          </Form>\n        </Formik>\n        <LoadingIndicator\n          isLoading={playerState.piShell.isProcessing}\n          height={25}\n          width={25}\n        />\n        <div\n          className={`overflow-auto max-h-40 sm:max-h-60 bg-gray-100 sm:rounded-lg ${\n            playerState.piShell.output ? 'p-2' : null\n          } mt-4 font-mono whitespace-pre ${\n            playerState.piShell.type === 'success'\n              ? 'text-gray-500'\n              : 'text-yellow-300'\n          }`}\n        >\n          {playerState.piShell.output}\n        </div>\n      </>\n    ),\n    handleClose: async () => {\n      toggle();\n      dispatchPlayer({\n        type: 'SET_PISHELL',\n        payload: { output: '' },\n      });\n    },\n  };\n\n  return (\n    <>\n      {playerState.isLoading ? (\n        <LoadingIndicator isLoading={playerState.isLoading} />\n      ) : playerState.isError ? (\n        <ErrorAction isShowing={playerState.isError} />\n      ) : (\n        <div className=\"flex items-center justify-center\">\n          <div className=\"bg-white w-full overflow-hidden shadow rounded-lg mb-6\">\n            <PlayerHeader\n              playerDetails={playerState.details}\n              handlePlaylistStatus={handlePlaylistStatus}\n            />\n            <div className=\"md:grid md:grid-cols-4 bg-white\">\n              <PlayerMedia\n                playerDetails={playerState.details}\n                handleSnapshot={handleSnapshot}\n                playerMediaControl={playerMediaControl}\n              />\n              <PlayerInfo\n                playerDetails={playerState.details}\n                handleSnapshot={handleSnapshot}\n                playerMediaControl={playerMediaControl}\n              />\n            </div>\n            <PlayerFooter handleLog={handleLog} handlePiShell={toggle} />\n          </div>\n        </div>\n      )}\n      <Modal\n        isShowing={isShowing}\n        hide={toggle}\n        modalTitle={piShellModal.modalTitle}\n        modalContent={piShellModal.modalContent}\n        icon={<TerminalIcon className=\"h-6 w-6 text-gray-700\" />}\n        handleClose={piShellModal.handleClose}\n      />\n    </>\n  );\n};\n\nexport default Overview;\n","import React, { useEffect, useState, useReducer, useContext } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { SettingsLayout } from '../../layouts';\nimport {\n  FormRadioInput,\n  RadioButton,\n  FormTextInput,\n  LoadingIndicator,\n  SelectMenu,\n  Modal,\n  ErrorAction,\n  Button,\n  Breadcrumb,\n} from '../../components';\nimport {\n  AppDispatch,\n  useModal,\n  ipv4,\n  formatPlayerName,\n  WifiIcon,\n  SaveIcon,\n} from '../../utils';\nimport localforage from 'localforage';\nimport { Formik, Form, Field } from 'formik';\nimport * as Yup from 'yup';\nimport { CountryRegionData } from 'react-country-region-selector';\nimport { useToasts } from 'react-toast-notifications';\n\n// * IPv4 validation\nYup.addMethod(Yup.string, 'ipv4', ipv4);\n\nconst NetworkSettings = ({ settings, dispatch, handleNetworkSettings }) => {\n  const networkInitalValues = {\n    mode: settings.mode,\n    address: settings.data.ipsettings.address,\n    netmask: settings.data.ipsettings.netmask,\n    gateway: settings.data.ipsettings.gateway,\n    primary: settings.data.dns.primary,\n    secondary: settings.data.dns.secondary,\n  };\n\n  return (\n    <SettingsLayout\n      title=\"Network settings\"\n      info=\"Set the network settings for player ethernet interface\"\n    >\n      <Formik\n        initialValues={networkInitalValues}\n        validationSchema={Yup.object().shape({\n          mode: Yup.string().required('Network mode is required'),\n          address:\n            settings.mode === 'Static'\n              ? Yup.string().ipv4().required('Required')\n              : null,\n          netmask:\n            settings.mode === 'Static'\n              ? Yup.string().required('Required')\n              : null,\n          gateway:\n            settings.mode === 'Static'\n              ? Yup.string().required('Required')\n              : null,\n        })}\n        onSubmit={(values, actions) => {\n          let picked;\n          if (settings.mode === 'DHCP') {\n            picked = (({ mode, address, primary, secondary }) => ({\n              mode,\n              address,\n              primary,\n              secondary,\n            }))(values);\n          } else {\n            picked = values;\n          }\n          handleNetworkSettings(picked);\n          actions.setSubmitting(false);\n        }}\n      >\n        {({ setFieldValue }) => (\n          <Form>\n            <div className=\"grid grid-cols-3 gap-6\">\n              <FormRadioInput id=\"mode\" label=\"Network mode\">\n                <Field\n                  component={RadioButton}\n                  name=\"mode\"\n                  id=\"DHCP\"\n                  label=\"DHCP\"\n                  onChange={() => {\n                    dispatch({\n                      type: 'SET_NETWORK_MODE',\n                      payload: 'DHCP',\n                    });\n                    setFieldValue('mode', 'DHCP');\n                  }}\n                />\n                <Field\n                  component={RadioButton}\n                  name=\"mode\"\n                  id=\"Static\"\n                  label=\"Static\"\n                  onChange={() => {\n                    dispatch({\n                      type: 'SET_NETWORK_MODE',\n                      payload: 'Static',\n                    });\n                    setFieldValue('mode', 'Static');\n                  }}\n                />\n              </FormRadioInput>\n              <FormTextInput\n                label=\"IP Address\"\n                name=\"address\"\n                type=\"text\"\n                disabled={settings.mode === 'DHCP'}\n              />\n              {settings.mode === 'Static' && (\n                <FormTextInput label=\"Netmask\" name=\"netmask\" type=\"text\" />\n              )}\n              {settings.mode === 'Static' && (\n                <FormTextInput label=\"Gateway\" name=\"gateway\" type=\"text\" />\n              )}\n              <FormTextInput\n                label=\"Primary DNS\"\n                name=\"primary\"\n                type=\"text\"\n                helpText=\"Optional\"\n              />\n              <FormTextInput\n                label=\"Secondary DNS\"\n                name=\"secondary\"\n                type=\"text\"\n                helpText=\"Optional\"\n              />\n            </div>\n            <div className=\"pt-3 text-right\">\n              <Button\n                type=\"primary\"\n                title=\"Save\"\n                icon={<SaveIcon className=\"h-4 w-4 text-white\" />}\n              />\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </SettingsLayout>\n  );\n};\n\nconst WifiSettings = ({\n  networks,\n  isShowing,\n  toggle,\n  wifi,\n  handleScan,\n  handleWifiSettings,\n}) => {\n  return (\n    <SettingsLayout title=\"Wifi settings\" info=\"Set wifi settings\">\n      <Formik\n        initialValues={{\n          ssid: wifi.ssid,\n          pass: wifi.pass,\n          country: '',\n          assignedIPAddress: wifi.ip,\n        }}\n        validationSchema={Yup.object().shape({\n          ssid: Yup.string().required('Required'),\n          pass: Yup.string(),\n          country: Yup.string().required('Required'),\n          assignedIPAddress: Yup.string().required('Required'),\n        })}\n        onSubmit={(values, actions) => {\n          handleWifiSettings(values);\n          actions.setSubmitting(false);\n        }}\n      >\n        {({ setFieldValue }) => (\n          <>\n            <Form>\n              <div className=\"grid grid-cols-3 gap-6\">\n                <FormTextInput\n                  label=\"Network Name (SSID)\"\n                  name=\"ssid\"\n                  type=\"text\"\n                  actionName=\"Scan\"\n                  actionIcon={<WifiIcon className=\"h-5 w-5 text-gray-400\" />}\n                  handleAction={handleScan}\n                />\n                <FormTextInput label=\"Password\" name=\"pass\" type=\"password\" />\n                <SelectMenu label=\"Country\" name=\"country\">\n                  <option value=\"\">Select country</option>\n                  {CountryRegionData.map((country) => (\n                    <option key={country[1]} value={country[1]}>\n                      {country[0]}\n                    </option>\n                  ))}\n                </SelectMenu>\n                <FormTextInput\n                  label=\"Assigned IP Address\"\n                  name=\"assignedIPAddress\"\n                  type=\"text\"\n                  disabled\n                />\n              </div>\n              <div className=\"pt-3 text-right\">\n                <Button\n                  type=\"primary\"\n                  title=\"Save\"\n                  icon={<SaveIcon className=\"h-4 w-4 text-white\" />}\n                />\n              </div>\n            </Form>\n            <Modal\n              isShowing={isShowing}\n              hide={toggle}\n              modalTitle=\"Available networks\"\n              modalContent={\n                <>\n                  {networks.output && (\n                    <ul className=\"max-h-60 sm:max-h-80 overflow-auto\">\n                      {networks.output.map((network, index) => (\n                        <button\n                          key={network}\n                          className={`border ${\n                            networks.output.length - 1 === index\n                              ? ''\n                              : 'border-b-0'\n                          } border-gray-200 text-sm font-medium sm:text-base text-gray-500 hover:text-gray-900 block w-full hover:bg-gray-50 focus:outline-none focus:bg-gray-50 transition duration-150 ease-in-out`}\n                          onClick={() => {\n                            setFieldValue('ssid', network);\n                            toggle();\n                          }}\n                        >\n                          <div className=\"flex items-center px-2 py-2 sm:px-3\">\n                            {network}\n                          </div>\n                        </button>\n                      ))}\n                    </ul>\n                  )}\n                  <LoadingIndicator\n                    isLoading={networks.isLoading}\n                    height={25}\n                    width={25}\n                  />\n                </>\n              }\n              icon={<WifiIcon className=\"h-6 w-6 text-gray-700\" />}\n            />\n          </>\n        )}\n      </Formik>\n    </SettingsLayout>\n  );\n};\n\nconst ServerSettings = ({ server, handleServerCredential }) => {\n  return (\n    <SettingsLayout\n      title=\"Change server\"\n      info=\"Set the server name for the player\"\n    >\n      <Formik\n        enableReinitialize\n        initialValues={{ config: server.config }}\n        validationSchema={Yup.object({\n          config: Yup.string().required('Required'),\n        })}\n        onSubmit={(values, actions) => {\n          handleServerCredential(values);\n          actions.setSubmitting(false);\n        }}\n      >\n        <Form>\n          <div className=\"grid grid-cols-3 gap-6\">\n            <FormTextInput\n              label=\"Server name or IP Address\"\n              name=\"config\"\n              type=\"text\"\n            />\n          </div>\n          <div className=\"pt-3 text-right\">\n            <Button\n              type=\"primary\"\n              title=\"Save\"\n              icon={<SaveIcon className=\"h-4 w-4 text-white\" />}\n            />\n          </div>\n        </Form>\n      </Formik>\n    </SettingsLayout>\n  );\n};\n\nconst Settings = () => {\n  const dispatchApp = useContext(AppDispatch);\n  let { playerID } = useParams();\n  const [token, setToken] = useState(btoa('pi:pi'));\n  const [isShowing, toggle] = useModal();\n  const location = useLocation();\n  const { addToast } = useToasts();\n  const { ipAddress } = location.state;\n\n  const settingsReducer = (state, action) => {\n    switch (action.type) {\n      case 'FETCH_INIT':\n        return {\n          ...state,\n          isLoading: true,\n          isError: false,\n        };\n      case 'FETCH_SUCCESS':\n        return {\n          ...state,\n          data: action.payload,\n          isLoading: false,\n          isError: false,\n        };\n      case 'FETCH_FAILURE':\n        return {\n          ...state,\n          isLoading: false,\n          isError: true,\n        };\n      case 'SET_NETWORK_MODE':\n        return {\n          ...state,\n          mode: action.payload,\n        };\n      case 'SET_NETWORKS':\n        return {\n          ...state,\n          networks: action.payload,\n        };\n      default:\n        throw new Error();\n    }\n  };\n\n  const [settings, dispatchSettings] = useReducer(settingsReducer, {\n    mode: 'DHCP',\n    networks: {\n      isLoading: false,\n      output: [],\n      selected: null,\n    },\n    data: {},\n    isLoading: true,\n    isError: false,\n  });\n\n  const breadcrumbItems = [\n    {\n      to: { pathname: `/players/${playerID}`, state: { ipAddress } },\n      label: `${formatPlayerName(playerID)}`,\n    },\n    {\n      to: '',\n      label: `Settings`,\n    },\n  ];\n\n  useEffect(() => {\n    dispatchApp({\n      type: 'SET_TITLE',\n      payload: <Breadcrumb breadcrumbItems={breadcrumbItems} />,\n    });\n  }, [dispatchApp]);\n\n  useEffect(() => {\n    let didCancel = false;\n\n    const getSettings = async () => {\n      try {\n        dispatchSettings({ type: 'FETCH_INIT' });\n        const playerState = location.state;\n        const storedCredentials = await localforage.getItem('credentials');\n        storedCredentials &&\n          setToken(\n            btoa(`${storedCredentials.username}:${storedCredentials.password}`)\n          );\n        const response = await fetch(\n          `http://${playerState.ipAddress}:8000/api/settings`,\n          {\n            headers: new Headers({\n              Authorization: `Basic ${token}`,\n            }),\n          }\n        );\n        const data = await response.json();\n        if (!didCancel) {\n          dispatchSettings({ type: 'FETCH_SUCCESS', payload: data.data });\n        }\n      } catch (err) {\n        if (!didCancel) {\n          console.error(err);\n          dispatchSettings({ type: 'FETCH_SUCCESS' });\n        }\n      }\n    };\n    getSettings();\n\n    return () => {\n      didCancel = true;\n    };\n  }, [location.state, token]);\n\n  const handleNetworkSettings = async (values) => {\n    try {\n      const { mode, address, netmask, gateway, primary, secondary } = values;\n      const params = {\n        ipsettings: {\n          mode,\n          address,\n          netmask,\n          gateway,\n        },\n        dns: {\n          primary,\n          secondary,\n        },\n      };\n      const playerState = location.state;\n      let response = await fetch(\n        `http://${playerState.ipAddress}:8000/api/settings/ethernet`,\n        {\n          method: 'POST',\n          headers: new Headers({\n            Authorization: `Basic ${token}`,\n            'Content-Type': 'application/json',\n          }),\n          body: JSON.stringify(params),\n        }\n      );\n      await response.json();\n      addToast('', {\n        appearance: 'success',\n        title: 'Network settings updated',\n      });\n    } catch (err) {\n      console.error(err);\n      addToast('', {\n        appearance: 'error',\n        title: 'Something went wrong! Please try again.',\n      });\n    }\n  };\n\n  const handleWifiSettings = async (values) => {\n    try {\n      const { ssid, pass, country } = values;\n      const params = {\n        wifi: {\n          open: !!!pass.length,\n          ssid,\n          pass,\n          country,\n        },\n      };\n      const playerState = location.state;\n      let response = await fetch(\n        `http://${playerState.ipAddress}:8000/api/settings/wifi`,\n        {\n          method: 'POST',\n          headers: new Headers({\n            Authorization: `Basic ${token}`,\n            'Content-Type': 'application/json',\n          }),\n          body: JSON.stringify(params),\n        }\n      );\n      await response.json();\n      addToast('', {\n        appearance: 'success',\n        title: 'Wifi update successful',\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleServerCredential = async (values) => {\n    try {\n      const { config } = values;\n      const params = {\n        server: {\n          config,\n        },\n      };\n      const playerState = location.state;\n      let response = await fetch(\n        `http://${playerState.ipAddress}:8000/api/settings/servername`,\n        {\n          method: 'POST',\n          headers: new Headers({\n            Authorization: `Basic ${token}`,\n            'Content-Type': 'application/json',\n          }),\n          body: JSON.stringify(params),\n        }\n      );\n      await response.json();\n      addToast('', {\n        appearance: 'success',\n        title: 'New server name saved',\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleScan = async () => {\n    toggle();\n    const playerState = location.state;\n    try {\n      dispatchSettings({ type: 'SET_NETWORKS', payload: { isLoading: true } });\n      const response = await fetch(\n        `http://${playerState.ipAddress}:8000/api/settings/wifiscan`,\n        {\n          headers: new Headers({\n            Authorization: `Basic ${token}`,\n          }),\n        }\n      );\n      const data = await response.json();\n      dispatchSettings({\n        type: 'SET_NETWORKS',\n        payload: { isLoading: false, output: data.data },\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <>\n      {settings.isLoading ? (\n        <LoadingIndicator isLoading={settings.isLoading} />\n      ) : settings.isError ? (\n        <ErrorAction isShowing={settings.isError} />\n      ) : (\n        <>\n          <div className=\"space-y-4 mx-auto mb-6 sm:w-3/4\">\n            <NetworkSettings\n              settings={settings}\n              dispatch={dispatchSettings}\n              handleNetworkSettings={handleNetworkSettings}\n            />\n            <WifiSettings\n              networks={settings.networks}\n              isShowing={isShowing}\n              toggle={toggle}\n              wifi={settings.data.wifi}\n              handleScan={handleScan}\n              handleWifiSettings={handleWifiSettings}\n            />\n            <ServerSettings\n              server={settings.data.server}\n              handleServerCredential={handleServerCredential}\n            />\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Settings;\n","import React, { useState, useEffect, useReducer, useContext } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport {\n  Dropdown,\n  Modal,\n  LoadingIndicator,\n  LoadingOverlay,\n  ErrorAction,\n  Button,\n  AssetPopover,\n  Breadcrumb,\n  AssetForm,\n  FilesUploader,\n} from '../../components';\nimport {\n  AppDispatch,\n  fetchWithTimeout,\n  useModal,\n  pluralize,\n  formatPlayerName,\n  ChevronDownIcon,\n  SortAscendingIcon,\n  SearchIcon,\n  ExclamationCircleIcon,\n  FilterIcon,\n  DotsVerticalIcon,\n  DotsHorizontalIcon,\n  PlayIcon,\n  DocumentAddIcon,\n  TrashIcon,\n  DownloadIcon,\n  PlusIcon,\n} from '../../utils';\nimport localforage from 'localforage';\nimport { Formik, Form, Field } from 'formik';\nimport { useToasts } from 'react-toast-notifications';\n\nconst assetTypes = [\n  { type: '.tv', display: 'Live streaming or YouTube' },\n  { type: '.stream', display: 'Streaming' },\n  { type: '.radio', display: 'Audio streaming' },\n  { type: '.link', display: 'Web link (embedded)' },\n  { type: '.weblink', display: 'Web page' },\n  { type: '.mrss', display: 'Media RSS' },\n  { type: '.txt', display: 'Message' },\n  { type: '.local', display: 'Local folder/file' },\n];\n\nconst AssetsHeader = ({\n  searchTerm,\n  handleAssetSearch,\n  addModal,\n  setAssetType,\n  handleAssetUpload,\n}) => (\n  <div className=\"flex-1 px-4 flex justify-between sm:px-6 lg:max-w-6xl lg:mx-auto lg:px-8\">\n    <div className=\"flex-1 flex items-center py-3\">\n      <Formik>\n        <Form className=\"w-full flex md:ml-0\">\n          <label htmlFor=\"searchTerm\" className=\"sr-only\">\n            Search\n          </label>\n          <div className=\"relative w-full text-cool-gray-400 focus-within:text-cool-gray-600\">\n            <div className=\"absolute inset-y-0 left-0 flex items-center pointer-events-none\">\n              <SearchIcon className=\"h-5 w-5 currentColor\" />\n            </div>\n            <Field\n              name=\"searchTerm\"\n              className=\"block w-full h-full pl-8 pr-3 py-2 rounded-md text-cool-gray-900 placeholder-cool-gray-500 focus:outline-none focus:placeholder-cool-gray-400 sm:text-sm\"\n              placeholder=\"Search\"\n              type=\"search\"\n              value={searchTerm}\n              onChange={(e) => handleAssetSearch(e)}\n            />\n          </div>\n        </Form>\n      </Formik>\n      <span className=\"rounded-md shadow-sm\">\n        <Dropdown\n          button={\n            <button\n              id=\"sort-menu\"\n              type=\"button\"\n              className=\"inline-flex justify-center w-full rounded-md border border-cool-gray-300 px-4 py-2 bg-white text-sm leading-5 font-medium text-cool-gray-700 hover:text-cool-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-cool-gray-50 active:text-cool-gray-800 transition ease-in-out duration-150\"\n              aria-haspopup=\"true\"\n              aria-expanded=\"false\"\n            >\n              <DocumentAddIcon className=\"mr-3 h-5 w-5 text-cool-gray-400\" />\n              Add\n              <ChevronDownIcon className=\"ml-2.5 -mr-1.5 h-5 w-5 text-cool-gray-400\" />\n            </button>\n          }\n          options={[\n            <FilesUploader\n              className=\"w-full text-left -mx-4 -my-2 px-4 py-2 focus:outline-none\"\n              handleUpload={handleAssetUpload}\n            />,\n            'Link',\n            'Message',\n            'Local folder/file',\n          ]}\n          onOptionSelect={(option) => {\n            if (option === 'Link') {\n              setAssetType({\n                type: '.link',\n                typeDisplay: 'Web link (embedded)',\n              });\n              addModal();\n            } else if (option === 'Message') {\n              setAssetType({ type: '.txt', typeDisplay: 'Message' });\n              addModal();\n            } else if (option === 'Local folder/file') {\n              setAssetType({\n                type: '.local',\n                typeDisplay: 'Local folder/file',\n              });\n              addModal();\n            } else {\n              return;\n            }\n          }}\n          position=\"right\"\n          offset={2}\n          forceOpen\n        />\n      </span>\n    </div>\n  </div>\n);\n\nconst AssetsTable = ({\n  originalAssets,\n  assets,\n  ipAddress,\n  playerID,\n  dispatchAssets,\n  handleAssetAction,\n  deleteModal,\n}) => (\n  <div className=\"border-b border-t border-cool-gray-200\">\n    <table className=\"min-w-full divide-y divide-cool-gray-200\">\n      <thead>\n        <tr>\n          <th className=\"px-3 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider\">\n            <div className=\"flex items-center\">\n              Name\n              <Dropdown\n                button={\n                  <button\n                    type=\"button\"\n                    className=\"flex items-center justify-center h-8 w-8 rounded-md focus:outline-none text-cool-gray-400 hover:text-cool-gray-900 active:bg-cool-gray-200 transition ease-in-out duration-150\"\n                    aria-label=\"Skip start\"\n                  >\n                    <SortAscendingIcon className=\"h-5 w-5\" />\n                  </button>\n                }\n                options={['Ascending', 'Descending']}\n                onOptionSelect={(option) => {\n                  let sortedAssets;\n                  if (option === 'Ascending') {\n                    sortedAssets = [...originalAssets].sort((a, b) =>\n                      a.name.toLowerCase().localeCompare(b.name.toLowerCase())\n                    );\n                  } else {\n                    sortedAssets = [...originalAssets].sort((a, b) =>\n                      b.name.toLowerCase().localeCompare(a.name.toLowerCase())\n                    );\n                  }\n                  dispatchAssets({ type: 'SET_ASSETS', payload: sortedAssets });\n                }}\n                position=\"left\"\n              />\n            </div>\n          </th>\n          <th className=\"hidden sm:table-cell px-3 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider\">\n            <div className=\"flex items-center\">\n              Playlist\n              <Dropdown\n                button={\n                  <button\n                    type=\"button\"\n                    className=\"flex items-center justify-center h-8 w-8 rounded-md focus:outline-none active:bg-cool-gray-200 text-cool-gray-400 hover:text-cool-gray-900 transition ease-in-out duration-150\"\n                    aria-label=\"Skip start\"\n                  >\n                    <FilterIcon className=\"h-5 w-5\" />\n                  </button>\n                }\n                options={['All']}\n                onOptionSelect={(option) => {\n                  const storedAssets = [...originalAssets];\n                  if (option === 'All') {\n                    dispatchAssets({\n                      type: 'SET_ASSETS',\n                      payload: storedAssets,\n                    });\n                  } else {\n                    const filteredAssets = storedAssets.filter((asset) =>\n                      asset.playlist.includes(option)\n                    );\n                    dispatchAssets({\n                      type: 'SET_ASSETS',\n                      payload: filteredAssets,\n                    });\n                  }\n                }}\n                position=\"left\"\n              />\n            </div>\n          </th>\n          <th className=\"hidden sm:table-cell px-3 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider\">\n            Validity\n          </th>\n          <th className=\"px-3 py-3 bg-cool-gray-50\"></th>\n          <th className=\"px-3 py-3 bg-cool-gray-50\"></th>\n        </tr>\n      </thead>\n      <tbody className=\"bg-white divide-y divide-gray-200\">\n        {assets.map((asset, index) => (\n          <tr\n            key={asset.name}\n            className=\"hover:bg-cool-gray-50 focus:outline-none focus:bg-cool-gray-50 transition duration-150 ease-in-out\"\n          >\n            <td className=\"px-6 py-4 whitespace-no-wrap\">\n              <div className=\"flex flex-col\">\n                <div className=\"flex items-center\">\n                  <span className=\"hidden sm:inline-flex items-center justify-center h-8 w-8 rounded-md bg-indigo-500\">\n                    <span className=\"font-medium text-sm leading-none capitalize text-white\">\n                      {asset.name.substring(0, 2)}\n                    </span>\n                  </span>\n                  <Link\n                    to={{\n                      pathname: `/players/${playerID}/assets/${asset.name}`,\n                      state: {\n                        ipAddress,\n                        asset,\n                      },\n                    }}\n                    className=\"cursor-pointer text-sm sm:ml-4 leading-5 font-medium text-cool-gray-500 hover:text-cool-gray-600 hover:underline truncate\"\n                  >\n                    {asset.name}\n                  </Link>\n                </div>\n              </div>\n            </td>\n            <td className=\"hidden sm:table-cell px-4 py-4 whitespace-no-wrap\">\n              <div className=\"flex items-center text-sm leading-5 text-cool-gray-900\">\n                {asset.playlist[0]}\n                {asset.playlist.length > 1 && (\n                  <>\n                    ,\n                    <button\n                      type=\"button\"\n                      className=\"flex items-center justify-center -mb-2 h-8 w-8 rounded-full focus:outline-none active:bg-cool-gray-200 text-cool-gray-400 hover:text-cool-gray-900 transition ease-in-out duration-150\"\n                      aria-label=\"Skip start\"\n                    >\n                      <DotsHorizontalIcon className=\"h-5 w-5\" />\n                    </button>\n                  </>\n                )}\n              </div>\n            </td>\n            <td className=\"hidden sm:table-cell px-4 py-4 whitespace-no-wrap\">\n              <div className=\"text-sm leading-5 text-cool-gray-900\">\n                {asset.validity}\n              </div>\n            </td>\n            <td className=\"px-3 py-4 whitespace-no-wrap text-sm leading-5 font-medium\">\n              <AssetPopover\n                button={\n                  <button\n                    type=\"button\"\n                    className=\"flex items-center justify-center h-8 w-8 rounded-full focus:outline-none active:bg-cool-gray-200 text-cool-gray-400 hover:text-cool-gray-900 transition ease-in-out duration-150\"\n                    aria-label=\"Skip start\"\n                  >\n                    <PlayIcon className=\"h-6 w-6\" />\n                  </button>\n                }\n                handleAsset={handleAssetAction}\n                assets={assets}\n                asset={asset}\n                index={index}\n              />\n            </td>\n            <td className=\"px-3 py-4 whitespace-no-wrap text-sm leading-5 font-medium\">\n              <Dropdown\n                button={\n                  <button\n                    type=\"button\"\n                    className=\"flex items-center justify-center h-8 w-8 rounded-full focus:outline-none active:bg-cool-gray-200 text-cool-gray-400 hover:text-cool-gray-900 transition ease-in-out duration-150\"\n                    aria-label=\"Skip start\"\n                  >\n                    <DotsVerticalIcon className=\"h-5 w-5\" />\n                  </button>\n                }\n                options={[\n                  <a\n                    href={`http://pi:pi@${ipAddress}:8000/media/${asset.name}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    download={`${asset.name}`}\n                    className=\"flex items-center truncate space-x-2 normal-case text-left font-normal cursor-pointer px-4 py-2 text-sm leading-5 text-cool-gray-500 hover:bg-cool-gray-100 hover:text-cool-gray-900 focus:outline-none focus:bg-cool-gray-100 focus:text-cool-gray-900\"\n                  >\n                    <DownloadIcon className=\"h-5 w-5 mr-3\" />\n                    Download\n                  </a>,\n                  <div\n                    className=\"flex items-center truncate space-x-2 normal-case text-left font-normal cursor-pointer px-4 py-2 text-sm leading-5 text-cool-gray-500 hover:bg-cool-gray-100 hover:text-cool-gray-900 focus:outline-none focus:bg-cool-gray-100 focus:text-cool-gray-900\"\n                    onClick={() => deleteModal(asset.name)}\n                  >\n                    <TrashIcon className=\"h-5 w-5 mr-3\" />\n                    Delete\n                  </div>,\n                ]}\n                position=\"right\"\n              />\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  </div>\n);\n\nconst Assets = () => {\n  const dispatchApp = useContext(AppDispatch);\n  let { playerID } = useParams();\n  const [showDelete, toggleDelete] = useModal();\n  const [showAdd, toggleAdd] = useModal();\n  const { addToast } = useToasts();\n  const [ipAddress, setIpAddress] = useState('');\n  const [assetType, setAssetType] = useState({ type: '', typeDisplay: '' });\n  const [searchTerm, setSearchTerm] = useState('');\n  const [currentAsset, setCurrentAsset] = useState({\n    name: '',\n    status: 'stop',\n  });\n\n  const assetsReducer = (state, action) => {\n    switch (action.type) {\n      case 'FETCH_INIT':\n        return {\n          ...state,\n          isLoading: true,\n          isError: false,\n          ...action.payload,\n        };\n      case 'FETCH_SUCCESS':\n        return {\n          ...state,\n          isLoading: false,\n          isError: false,\n          isUploading: false,\n          ...action.payload,\n        };\n      case 'FETCH_FAILURE':\n        return {\n          ...state,\n          isLoading: false,\n          isError: true,\n        };\n      case 'SET_ASSETS':\n        return {\n          ...state,\n          assets: action.payload,\n        };\n      default:\n        throw new Error();\n    }\n  };\n\n  const initialData = {\n    assets: [],\n    originalAssets: [],\n    breadcrumbItems: [],\n    isUploading: false,\n    isLoading: true,\n    isError: false,\n  };\n\n  const [assetsState, dispatchAssets] = useReducer(assetsReducer, initialData);\n\n  useEffect(() => {\n    dispatchApp({\n      type: 'SET_TITLE',\n      payload: <Breadcrumb breadcrumbItems={assetsState.breadcrumbItems} />,\n    });\n  }, [dispatchApp, assetsState.breadcrumbItems]);\n\n  useEffect(() => {\n    let didCancel = false;\n    const fetchAssets = async () => {\n      dispatchAssets({ type: 'FETCH_INIT' });\n      let ipAddress;\n      try {\n        const token = await localforage.getItem('authToken');\n        const players = await localforage.getItem('players');\n        const playerIndex =\n          parseInt(playerID.charAt(playerID.length - 1), 10) - 1;\n        ipAddress = players.find((_, index) => index === playerIndex).ipAddress;\n        setIpAddress(ipAddress);\n\n        const response = await fetchWithTimeout(\n          `http://${ipAddress}:8000/api/files`,\n          {\n            headers: new Headers({\n              Authorization: `Basic ${token}`,\n            }),\n          }\n        );\n        const data = await response.json();\n        const assetsData = data.data.files.map((value) => ({\n          name: value,\n          playlist: ['N/A'],\n          validity: 'N/A',\n          status: 'stopped',\n        }));\n\n        const breadcrumbItems = [\n          {\n            to: { pathname: `/players/${playerID}`, state: { ipAddress } },\n            label: `${formatPlayerName(playerID)}`,\n          },\n          {\n            to: '',\n            label: `Assets`,\n          },\n        ];\n\n        if (!didCancel) {\n          dispatchAssets({ type: 'SET_ASSETS', payload: assetsData });\n          dispatchAssets({\n            type: 'FETCH_SUCCESS',\n            payload: { originalAssets: assetsData, breadcrumbItems },\n          });\n        }\n      } catch (err) {\n        console.error(err);\n        if (!didCancel) {\n          dispatchAssets({ type: 'FETCH_FAILURE' });\n        }\n      }\n    };\n\n    fetchAssets();\n\n    return () => {\n      didCancel = true;\n    };\n  }, [ipAddress, playerID]);\n\n  const assetSearch = (e) => {\n    setSearchTerm(e.target.value);\n    const storedAssets = assetsState.originalAssets.map((asset) => {\n      return { ...asset };\n    });\n    const filteredAssets = storedAssets.filter((asset) =>\n      asset['name'].toLowerCase().includes(e.target.value.toLowerCase())\n    );\n    dispatchAssets({ type: 'SET_ASSETS', payload: filteredAssets });\n  };\n\n  const deleteAsset = async (asset) => {\n    try {\n      const token = await localforage.getItem('authToken');\n      const response = await fetchWithTimeout(\n        `http://${ipAddress}:8000/api/files/${asset}`,\n        {\n          method: 'DELETE',\n          headers: new Headers({\n            Authorization: `Basic ${token}`,\n          }),\n        }\n      );\n      const data = await response.json();\n      const deletedAsset = data.data;\n      toggleDelete();\n      const updatedAssets = assetsState.assets.filter(\n        (asset) => asset.name !== deletedAsset\n      );\n      dispatchAssets({ type: 'SET_ASSETS', payload: updatedAssets });\n      addToast('', {\n        appearance: 'info',\n        title: `Asset deleted`,\n        info: `${asset} has been removed`,\n      });\n    } catch (err) {\n      console.error(err);\n      addToast('', {\n        appearance: 'error',\n        title: 'Something went wrong',\n        info: 'Please try again',\n      });\n    }\n  };\n\n  const handleAssetAction = async (assetName, action) => {\n    let mediaStatus;\n    if (action === 'play') {\n      mediaStatus = 'playing';\n    } else if (action === 'pause') {\n      mediaStatus = 'paused';\n    } else if (action === 'stop') {\n      mediaStatus = 'stopped';\n    }\n    const updatedAssets = assetsState.assets.map((asset) =>\n      asset.name === assetName ? { ...asset, status: mediaStatus } : asset\n    );\n\n    const token = await localforage.getItem('authToken');\n    const response = await fetchWithTimeout(\n      `http://${ipAddress}:8000/api/play/files/${action}?file=${assetName}`,\n      {\n        method: 'POST',\n        headers: new Headers({\n          Authorization: `Basic ${token}`,\n          'Content-Type': 'application/json',\n        }),\n      }\n    );\n\n    await response.json();\n    dispatchAssets({ type: 'SET_ASSETS', payload: updatedAssets });\n  };\n\n  let deleteAssetModal = {\n    modalContent: (\n      <>\n        <p className=\"text-sm leading-5 text-gray-500\">\n          Are you sure you want to delete this asset? It'll be permanently\n          removed. This action cannot be undone.\n        </p>\n        <div className=\"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse\">\n          <span className=\"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto\">\n            <Button\n              type=\"destructive\"\n              title=\"Delete\"\n              className=\"w-full inline-flex justify-center\"\n              icon={<TrashIcon className=\"h-5 w-5 text-white\" />}\n              onClick={() => deleteAsset(currentAsset.name)}\n            />\n          </span>\n          <span className=\"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto\">\n            <Button\n              type=\"tertiary\"\n              title=\"Cancel\"\n              className=\"w-full inline-flex justify-center\"\n              onClick={toggleDelete}\n            />\n          </span>\n        </div>\n      </>\n    ),\n    toggleModal(asset) {\n      setCurrentAsset({ name: asset, status: 'stop' });\n      toggleDelete();\n    },\n  };\n\n  const handleAssetTypeChange = (e) => {\n    const type = e.target.value;\n    const typeDisplay = assetTypes.find((assetType) => assetType.type === type)\n      .display;\n\n    setAssetType({ type, typeDisplay });\n  };\n\n  const handleAssetUpload = async (files) => {\n    let fileList = [];\n    for (let i = 0; i < files.length; i++) {\n      fileList.push(files[i]);\n    }\n\n    const formData = new FormData();\n    for (const file of fileList) {\n      formData.append(file.name, file, file.name);\n    }\n\n    try {\n      dispatchAssets({ type: 'FETCH_INIT', payload: { isUploading: true } });\n      const token = await localforage.getItem('authToken');\n      const response = await fetchWithTimeout(\n        `http://${ipAddress}:8000/api/files`,\n        {\n          method: 'POST',\n          headers: new Headers({\n            Authorization: `Basic ${token}`,\n          }),\n          body: formData,\n        }\n      );\n\n      const data = await response.json();\n      const newAssets = [];\n      for (const newData of data.data) {\n        const newAsset = Object.assign(newData, {\n          playlist: ['N/A'],\n          validity: 'N/A',\n          status: 'stopped',\n        });\n        newAssets.push(newAsset);\n      }\n\n      const updatedAssets = assetsState.assets.concat(newAssets);\n      dispatchAssets({ type: 'SET_ASSETS', payload: updatedAssets });\n      dispatchAssets({\n        type: 'FETCH_SUCCESS',\n        payload: { originalAssets: updatedAssets },\n      });\n      addToast('', {\n        appearance: 'success',\n        title: `Upload successful`,\n        info: `${pluralize(files.length, 'file')} has been uploaded`,\n      });\n    } catch (err) {\n      console.error(err);\n      addToast('', {\n        appearance: 'error',\n        title: 'Something went wrong',\n        info: 'Please try again',\n      });\n    }\n  };\n\n  const handleAssetSubmit = async (values) => {\n    try {\n      const token = await localforage.getItem('authToken');\n      const params = {\n        details: values,\n      };\n      let response = await fetch(`http://${ipAddress}:8000/api/links/`, {\n        method: 'POST',\n        headers: new Headers({\n          Authorization: `Basic ${token}`,\n          'Content-Type': 'application/json',\n        }),\n        body: JSON.stringify(params),\n      });\n      await response.json();\n      const asset = Object.assign(values, {\n        name: `${values.name}${values.type}`,\n        playlist: ['N/A'],\n        validity: 'N/A',\n        status: 'stopped',\n      });\n      const updatedAssets = assetsState.assets;\n      updatedAssets.push(asset);\n      dispatchAssets({ type: 'SET_ASSETS', payload: updatedAssets });\n      dispatchAssets({\n        type: 'FETCH_SUCCESS',\n        payload: { originalAssets: updatedAssets },\n      });\n      toggleAdd();\n      addToast('', {\n        appearance: 'success',\n        title: `Successfully added`,\n        info: `${values.name} has been added`,\n      });\n    } catch (err) {\n      console.error(err);\n      addToast('', {\n        appearance: 'error',\n        title: 'Something went wrong! Please try again.',\n      });\n    }\n  };\n\n  let addAssetModal = {\n    modalTitle: 'Add Asset',\n    modalContent: (\n      <AssetForm\n        type={assetType.type}\n        typeDisplay={assetType.typeDisplay}\n        handleAssetTypeChange={handleAssetTypeChange}\n        handleAssetSubmit={handleAssetSubmit}\n      />\n    ),\n    toggleModal() {\n      toggleAdd();\n    },\n  };\n\n  return (\n    <>\n      {!!assetsState.isUploading && (\n        <LoadingOverlay\n          isLoading={assetsState.isUploading}\n          loadingIcon=\"Grid\"\n          loadingTitle=\"Uploading assets\"\n        />\n      )}\n      {assetsState.isLoading ? (\n        <LoadingIndicator isLoading={assetsState.isLoading} />\n      ) : assetsState.isError ? (\n        <ErrorAction isShowing={assetsState.isError} />\n      ) : (\n        <>\n          <div className=\"bg-white shadow overflow-visible rounded-md mb-6\">\n            <AssetsHeader\n              searchTerm={searchTerm}\n              handleAssetSearch={assetSearch}\n              addModal={addAssetModal.toggleModal}\n              setAssetType={setAssetType}\n              handleAssetUpload={handleAssetUpload}\n            />\n            <AssetsTable\n              originalAssets={assetsState.originalAssets}\n              assets={assetsState.assets}\n              dispatchAssets={dispatchAssets}\n              playerID={playerID}\n              ipAddress={ipAddress}\n              handleAssetAction={handleAssetAction}\n              deleteModal={deleteAssetModal.toggleModal}\n            />\n          </div>\n          <Modal\n            isShowing={showDelete}\n            hide={toggleDelete}\n            modalTitle={`Delete ${currentAsset.name}`}\n            modalContent={deleteAssetModal.modalContent}\n            icon={<ExclamationCircleIcon className=\"h-6 w-6 text-red-600\" />}\n            color=\"red\"\n          />\n          <Modal\n            isShowing={showAdd}\n            hide={toggleAdd}\n            modalTitle={addAssetModal.modalTitle}\n            modalContent={addAssetModal.modalContent}\n            icon={<PlusIcon className=\"h-6 w-6 text-gray-700\" />}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Assets;\n","import React, { useState, useEffect, useReducer, useContext } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport {\n  AppDispatch,\n  formatPlayerName,\n  TrashIcon,\n  PlusIcon,\n  SearchIcon,\n  DocumentAddIcon,\n  ChevronDownIcon,\n  ExclamationCircleIcon,\n  getFileName,\n  useModal,\n  fetchWithTimeout,\n  isSubset,\n} from '../../utils';\nimport {\n  Button,\n  Breadcrumb,\n  AssetForm,\n  LoadingIndicator,\n  ErrorAction,\n  Dropdown,\n  Modal,\n} from '../../components';\nimport { useToasts } from 'react-toast-notifications';\nimport { Formik, Form, Field } from 'formik';\nimport localforage from 'localforage';\n\nconst assetTypes = [\n  { extension: '.tv', type: 'Live streaming or YouTube' },\n  { extension: '.stream', type: 'Streaming' },\n  { extension: '.radio', type: 'Audio streaming' },\n  { extension: '.link', type: 'Web link (embedded)' },\n  { extension: '.weblink', type: 'Web page' },\n  { extension: '.mrss', type: 'Media RSS' },\n  { extension: '.txt', type: 'Message' },\n  { extension: '.local', type: 'Local folder/file' },\n];\n\nconst AssetHeader = ({ asset, toggleAssign, toggleDelete }) => (\n  <div className=\"border-b border-gray-200 px-4 py-5 sm:px-6\">\n    <div className=\"-ml-4 -mt-4 flex justify-between items-center flex-wrap sm:flex-no-wrap\">\n      <div className=\"ml-4 mt-4\">\n        <h3 className=\"text-lg leading-6 font-medium text-gray-900 truncate\">\n          {asset.name}\n        </h3>\n        <p className=\"mt-1 text-sm leading-5 text-gray-500\">\n          Associated playlists:\n          <span className=\"font-medium text-gray-600\"> N/A</span>\n        </p>\n      </div>\n      <div className=\"ml-4 mt-4 flex-shrink-0 space-x-3\">\n        <Button\n          type=\"tertiary\"\n          title=\"Assign\"\n          icon={<PlusIcon className=\"h-5 w-5 text-gray-700\" />}\n          onClick={toggleAssign}\n        />\n        <Button\n          type=\"destructive\"\n          title=\"Delete\"\n          icon={<TrashIcon className=\"h-5 w-5 text-white\" />}\n          onClick={toggleDelete}\n        />\n      </div>\n    </div>\n  </div>\n);\n\nconst AssetBody = ({\n  asset,\n  ipAddress,\n  handleAssetTypeChange,\n  assetType,\n  handleAssetUpdate,\n  isProcessing,\n}) => {\n  const previewSource = `http://pi:pi@${ipAddress}:8000${asset.path}`;\n  let preview;\n  if (asset.type === 'image') {\n    preview = (\n      <img className=\"max-w-full h-auto\" src={previewSource} alt={asset.name} />\n    );\n  } else if (asset.type === 'audio') {\n    preview = (\n      <audio controls src={previewSource}>\n        Your browser does not support the\n        <code>audio</code> element.\n      </audio>\n    );\n  } else if (asset.type === 'video') {\n    preview = (\n      <video controls className=\"w-full h-full\">\n        <source src={previewSource} />\n        Sorry, your browser doesn't support embedded videos.\n      </video>\n    );\n  } else if (asset.type === 'pdf') {\n    preview = (\n      <div className=\"w-full h-full flex items-center justify-center\">\n        <embed\n          title={asset.name}\n          src={previewSource}\n          className=\"w-full\"\n          height=\"500\"\n        />\n      </div>\n    );\n  } else {\n    return (\n      <AssetForm\n        asset={asset}\n        type={assetType.type}\n        typeDisplay={assetType.typeDisplay}\n        handleAssetTypeChange={handleAssetTypeChange}\n        handleAssetSubmit={handleAssetUpdate}\n        isProcessing={isProcessing}\n        preview\n      />\n    );\n  }\n\n  return (\n    <div className=\"px-4 py-5 sm:p-6 flex items-center justify-center w-full h-full\">\n      {preview}\n    </div>\n  );\n};\n\nconst Asset = () => {\n  const dispatchApp = useContext(AppDispatch);\n  let { playerID, assetName } = useParams();\n  let history = useHistory();\n  const { addToast } = useToasts();\n  const [showAssign, toggleAssign] = useModal();\n  const [showDelete, toggleDelete] = useModal();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectAll, setSelectAll] = useState(false);\n  const [assetType, setAssetType] = useState({ type: '', typeDisplay: '' });\n\n  const assetReducer = (state, action) => {\n    switch (action.type) {\n      case 'FETCH_INIT':\n        return {\n          ...state,\n          isError: false,\n          ...action.payload,\n        };\n      case 'FETCH_SUCCESS':\n        return {\n          ...state,\n          isLoading: false,\n          isError: false,\n          ...action.payload,\n        };\n      case 'UPDATE_DATA':\n        return {\n          ...state,\n          isProcessing: false,\n          ...action.payload,\n        };\n      case 'FETCH_FAILURE':\n        return {\n          ...state,\n          isLoading: false,\n          isError: true,\n          isProcessing: false,\n        };\n      default:\n        throw new Error();\n    }\n  };\n\n  const initialData = {\n    asset: {},\n    playlists: [],\n    originalPlaylists: [],\n    breadcrumbItems: [],\n    isLoading: true,\n    isError: false,\n    isProcessing: false,\n  };\n\n  const [assetState, dispatchAsset] = useReducer(assetReducer, initialData);\n\n  useEffect(() => {\n    let didCancel = false;\n\n    const fetchAsset = async () => {\n      dispatchAsset({ type: 'FETCH_INIT' });\n      let ipAddress;\n      try {\n        const token = await localforage.getItem('authToken');\n        const players = await localforage.getItem('players');\n        const playerIndex =\n          parseInt(playerID.charAt(playerID.length - 1), 10) - 1;\n        ipAddress = players.find((_, index) => index === playerIndex).ipAddress;\n\n        let assetData;\n        const fileResponse = await fetchWithTimeout(\n          `http://${ipAddress}:8000/api/files/${assetName}`,\n          {\n            headers: new Headers({\n              Authorization: `Basic ${token}`,\n            }),\n          }\n        );\n        const fileData = await fileResponse.json();\n        if (fileData.success) {\n          if (fileData.data.type === 'notice') {\n            history.push({\n              pathname: `/players/${playerID}/assets`,\n              state: {\n                ipAddress,\n              },\n            });\n            addToast('', {\n              appearance: 'info',\n              title: `Preview unvailable`,\n              info: `${assetName} not yet supported`,\n            });\n          } else if (fileData.data.type !== 'html') {\n            assetData = { ...fileData.data, ipAddress };\n          } else {\n            const linkResponse = await fetchWithTimeout(\n              `http://${ipAddress}:8000/api/links/${assetName}`,\n              {\n                headers: new Headers({\n                  Authorization: `Basic ${token}`,\n                }),\n              }\n            );\n            const linkString = await linkResponse.json();\n            const linkData = JSON.parse(linkString.data.data);\n            const typeDisplay = assetTypes.find(\n              (assetType) => assetType.extension === linkData.type\n            ).type;\n            setAssetType({ type: linkData.type, typeDisplay });\n            assetData = { ...linkData, ipAddress };\n          }\n        } else {\n          history.push({\n            pathname: `/players/${playerID}/assets`,\n            state: {\n              ipAddress,\n            },\n          });\n          addToast('', {\n            appearance: 'info',\n            title: `Asset not found`,\n            info: `${assetName} does not exist`,\n          });\n        }\n\n        const playlistsResponse = await fetchWithTimeout(\n          `http://${ipAddress}:8000/api/playlists`,\n          {\n            headers: new Headers({\n              Authorization: `Basic ${token}`,\n            }),\n          }\n        );\n        const playlistsData = await playlistsResponse.json();\n        const initialPlaylists = playlistsData.data.map((playlist) => ({\n          ...playlist,\n          isAssigned: !!playlist.assets.filter(\n            (playlistAsset) => playlistAsset.filename === assetName\n          ).length,\n        }));\n        const playlists = initialPlaylists.filter(\n          (playlist) => playlist.name !== 'TV_OFF'\n        );\n\n        const breadcrumbItems = [\n          {\n            to: {\n              pathname: `/players/${playerID}/overview`,\n              state: { ipAddress },\n            },\n            label: `${formatPlayerName(playerID)}`,\n          },\n          {\n            to: {\n              pathname: `/players/${playerID}/assets`,\n              state: { ipAddress },\n            },\n            label: `Assets`,\n          },\n          { to: '', label: `${getFileName(assetName)}` },\n        ];\n\n        if (!didCancel) {\n          dispatchAsset({\n            type: 'FETCH_SUCCESS',\n            payload: {\n              asset: { ...assetData },\n              playlists,\n              originalPlaylists: playlists,\n              breadcrumbItems,\n            },\n          });\n        }\n      } catch (err) {\n        console.error(err);\n        history.push({\n          pathname: `/players/${playerID}/assets`,\n          state: {\n            ipAddress,\n          },\n        });\n        addToast('', {\n          appearance: 'error',\n          title: `Preview unvailable`,\n          info: `${assetName} is not supported`,\n        });\n        if (!didCancel) {\n          dispatchAsset({ type: 'FETCH_FAILURE' });\n        }\n      }\n    };\n\n    fetchAsset();\n\n    return () => {\n      didCancel = true;\n    };\n  }, [assetName, addToast, history, playerID]);\n\n  useEffect(() => {\n    dispatchApp({\n      type: 'SET_TITLE',\n      payload: <Breadcrumb breadcrumbItems={assetState.breadcrumbItems} />,\n    });\n  }, [dispatchApp, assetState.breadcrumbItems]);\n\n  const handleAssetTypeChange = (e) => {\n    const type = e.target.value;\n    const typeDisplay = assetTypes.find(\n      (assetType) => assetType.extension === type\n    ).type;\n    setAssetType({ type, typeDisplay });\n  };\n\n  const handleAssetUpdate = async (values) => {\n    try {\n      const token = await localforage.getItem('authToken');\n      const { ipAddress } = assetState.asset;\n      const params = {\n        details: values,\n      };\n      if (isSubset(assetState.asset, values)) {\n        return;\n      } else {\n        dispatchAsset({ type: 'FETCH_INIT', payload: { isProcessing: true } });\n        let response = await fetch(`http://${ipAddress}:8000/api/links`, {\n          method: 'POST',\n          headers: new Headers({\n            Authorization: `Basic ${token}`,\n            'Content-Type': 'application/json',\n          }),\n          body: JSON.stringify(params),\n        });\n        await response.json();\n        dispatchAsset({\n          type: 'UPDATE_DATA',\n          payload: { asset: { ...assetState.asset, ...values } },\n        });\n        addToast('', {\n          appearance: 'success',\n          title: `Asset updated`,\n          info: `New ${values.name} information saved`,\n        });\n      }\n    } catch (err) {\n      console.error(err);\n      dispatchAsset({ type: 'FETCH_FAILURE' });\n      addToast('', {\n        appearance: 'error',\n        title: 'Something went wrong',\n        info: 'Please try again',\n      });\n    }\n  };\n\n  const playlistsSearch = (e) => {\n    setSearchTerm(e.target.value);\n    const storedPlaylists = assetState.originalPlaylists.map((playlist) => {\n      return { ...playlist };\n    });\n    const filteredPlaylists = storedPlaylists.filter((playlist) =>\n      playlist['name'].toLowerCase().includes(e.target.value.toLowerCase())\n    );\n    dispatchAsset({\n      type: 'UPDATE_DATA',\n      payload: { playlists: filteredPlaylists },\n    });\n  };\n\n  const handleCheckboxes = (e) => {\n    const name = e.target.name;\n    const playlists = assetState.playlists;\n    let updatedPlaylists;\n    if (name === 'selectAll') {\n      setSelectAll(!selectAll);\n      updatedPlaylists = playlists.map((playlist) => ({\n        ...playlist,\n        isAssigned: !selectAll,\n      }));\n    } else {\n      setSelectAll(false);\n      updatedPlaylists = playlists.map((playlist) =>\n        playlist.name === name\n          ? { ...playlist, isAssigned: !playlist.isAssigned }\n          : playlist\n      );\n    }\n    dispatchAsset({\n      type: 'UPDATE_DATA',\n      payload: { playlists: updatedPlaylists },\n    });\n  };\n\n  const handleAssignAsset = async (type) => {\n    const token = await localforage.getItem('authToken');\n    const { ipAddress } = assetState.asset;\n    const selectedPlaylists = assetState.playlists.filter(\n      (playlist) => playlist.isAssigned\n    );\n    const currentAsset = {\n      filename: assetState.asset.name,\n      ...assetState.asset,\n    };\n    if (type === 'append') {\n      try {\n        for (const playlist of selectedPlaylists) {\n          const assets = playlist.assets;\n          const assetNames = playlist.assets.map((asset) => asset['filename']);\n          if (assetNames.includes(assetName)) {\n            addToast('', {\n              appearance: 'info',\n              title: 'Duplicate asset',\n              info: `${assetName} is already present in ${playlist.name}`,\n            });\n          } else {\n            assets.push(currentAsset);\n            let playlistResponse = await fetch(\n              `http://${ipAddress}:8000/api/playlists/${playlist.name}`,\n              {\n                method: 'POST',\n                headers: new Headers({\n                  Authorization: `Basic ${token}`,\n                  'Content-Type': 'application/json',\n                }),\n                body: JSON.stringify({ assets }),\n              }\n            );\n            await playlistResponse.json();\n\n            assetNames.push(assetName);\n            const params = {\n              playlist: playlist.name,\n              assets: assetNames,\n            };\n            let response = await fetch(\n              `http://${ipAddress}:8000/api/playlistfiles`,\n              {\n                method: 'POST',\n                headers: new Headers({\n                  Authorization: `Basic ${token}`,\n                  'Content-Type': 'application/json',\n                }),\n                body: JSON.stringify(params),\n              }\n            );\n            await response.json();\n            addToast('', {\n              appearance: 'success',\n              title: `Assign successful`,\n              info: `${assetName} has been appended`,\n            });\n          }\n        }\n        toggleAssign();\n      } catch (err) {\n        console.error(err);\n        addToast('', {\n          appearance: 'error',\n          title: 'Something went wrong',\n          info: 'Please try again',\n        });\n      }\n    } else {\n      try {\n        for (const playlist of selectedPlaylists) {\n          let assets = playlist.assets.map((asset) => asset['filename']);\n          assets = [currentAsset];\n          let playlistResponse = await fetch(\n            `http://${ipAddress}:8000/api/playlists/${playlist.name}`,\n            {\n              method: 'POST',\n              headers: new Headers({\n                Authorization: `Basic ${token}`,\n                'Content-Type': 'application/json',\n              }),\n              body: JSON.stringify({ assets }),\n            }\n          );\n          await playlistResponse.json();\n\n          const params = {\n            playlist: playlist.name,\n            assets,\n          };\n          let response = await fetch(\n            `http://${ipAddress}:8000/api/playlistfiles`,\n            {\n              method: 'POST',\n              headers: new Headers({\n                Authorization: `Basic ${token}`,\n                'Content-Type': 'application/json',\n              }),\n              body: JSON.stringify(params),\n            }\n          );\n          await response.json();\n          toggleAssign();\n          addToast('', {\n            appearance: 'success',\n            title: `Purge and assign successful`,\n            info: `${assetName} has been assigned`,\n          });\n        }\n      } catch (err) {\n        console.error(err);\n        addToast('', {\n          appearance: 'error',\n          title: 'Something went wrong',\n          info: 'Please try again',\n        });\n      }\n    }\n  };\n\n  const assignAssetModal = {\n    modalTitle: 'Assign asset',\n    modalContent: (\n      <div className=\"overflow-visible\">\n        <div className=\"flex-1 flex justify-between\">\n          <div className=\"flex-1 flex items-center py-3\">\n            <Formik>\n              <Form className=\"w-full flex md:ml-0\">\n                <label htmlFor=\"searchTerm\" className=\"sr-only\">\n                  Search\n                </label>\n                <div className=\"relative w-full text-cool-gray-400 focus-within:text-cool-gray-600\">\n                  <div className=\"absolute inset-y-0 left-0 flex items-center pointer-events-none\">\n                    <SearchIcon className=\"h-5 w-5 currentColor\" />\n                  </div>\n                  <Field\n                    name=\"searchTerm\"\n                    className=\"block w-full h-full pl-8 pr-3 py-2 rounded-md text-cool-gray-900 placeholder-cool-gray-500 focus:outline-none focus:placeholder-cool-gray-400 sm:text-sm\"\n                    placeholder=\"Search\"\n                    type=\"search\"\n                    value={searchTerm}\n                    onChange={(e) => playlistsSearch(e)}\n                  />\n                </div>\n              </Form>\n            </Formik>\n            <span className=\"rounded-md shadow-sm\">\n              <Dropdown\n                button={\n                  <button\n                    id=\"sort-menu\"\n                    type=\"button\"\n                    className=\"inline-flex justify-center w-full rounded-md border border-cool-gray-300 px-4 py-2 bg-white text-sm leading-5 font-medium text-cool-gray-700 hover:text-cool-gray-500 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-50 active:text-cool-gray-800 transition ease-in-out duration-150\"\n                    aria-haspopup=\"true\"\n                    aria-expanded=\"false\"\n                  >\n                    <DocumentAddIcon className=\"mr-3 h-5 w-5 text-cool-gray-400\" />\n                    Assign\n                    <ChevronDownIcon className=\"ml-2.5 -mr-1.5 h-5 w-5 text-cool-gray-400\" />\n                  </button>\n                }\n                options={['Append to playlist', 'Purge playlist and add']}\n                onOptionSelect={(option) => {\n                  if (option === 'Append to playlist') {\n                    handleAssignAsset('append');\n                  } else {\n                    handleAssignAsset('purge');\n                  }\n                }}\n                position=\"right\"\n                offset={2}\n              />\n            </span>\n          </div>\n        </div>\n        <div className=\"flex-1 border border-cool-gray-200 h-full rounded-lg overflow-hidden\">\n          <table className=\"min-w-full divide-y divide-cool-gray-200\">\n            <thead>\n              <tr>\n                <th className=\"px-6 py-3 bg-cool-gray-50 text-left text-xs leading-4 font-medium text-cool-gray-500 uppercase tracking-wider\">\n                  Playlist\n                </th>\n                <th className=\"px-4 py-3 bg-cool-gray-50\">\n                  <input\n                    id=\"selectAll\"\n                    name=\"selectAll\"\n                    type=\"checkbox\"\n                    value={selectAll}\n                    checked={selectAll}\n                    onChange={(e) => handleCheckboxes(e)}\n                    className={`form-checkbox cursor-pointer h-4 w-4 text-indigo-600 transition duration-150 ease-in-out`}\n                  />\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200 overflow-scroll\">\n              {assetState.playlists.map((playlist) => (\n                <tr\n                  key={playlist.name}\n                  className=\"hover:bg-cool-gray-50 focus:outline-none focus:bg-cool-gray-50 transition duration-150 ease-in-out\"\n                >\n                  <td className=\"table-cell px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-cool-gray-900\">\n                    {playlist.name}\n                  </td>\n                  <td className=\"table-cell px-4 py-4 text-center\">\n                    <input\n                      id={playlist.name}\n                      name={playlist.name}\n                      type=\"checkbox\"\n                      value={playlist.isAssigned}\n                      checked={playlist.isAssigned}\n                      onChange={(e) => handleCheckboxes(e)}\n                      className={`form-checkbox cursor-pointer h-4 w-4 text-indigo-600 transition duration-150 ease-in-out`}\n                    />\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    ),\n    toggle: () => {\n      setSelectAll(false);\n      const initialPlaylists = assetState.playlists.map((playlist) => ({\n        ...playlist,\n        isAssigned: !!playlist.assets.filter(\n          (playlistAsset) => playlistAsset.filename === assetName\n        ).length,\n      }));\n      const playlists = initialPlaylists.filter(\n        (playlist) => playlist.name !== 'TV_OFF'\n      );\n      dispatchAsset({\n        type: 'UPDATE_DATA',\n        payload: { playlists },\n      });\n      toggleAssign();\n    },\n  };\n\n  const deleteAsset = async (asset) => {\n    try {\n      const token = await localforage.getItem('authToken');\n      const { ipAddress } = assetState.asset;\n      const response = await fetch(\n        `http://${ipAddress}:8000/api/files/${asset}`,\n        {\n          method: 'DELETE',\n          headers: new Headers({\n            Authorization: `Basic ${token}`,\n          }),\n        }\n      );\n      await response.json();\n      history.goBack();\n      addToast('', {\n        appearance: 'info',\n        title: `Asset deleted`,\n        info: `${asset} has been removed`,\n      });\n    } catch (err) {\n      console.error(err);\n      addToast('', {\n        appearance: 'error',\n        title: 'Something went wrong',\n        info: 'Please try again',\n      });\n    }\n  };\n\n  let deleteAssetModal = {\n    modalContent: (\n      <>\n        <p className=\"text-sm leading-5 text-gray-500\">\n          Are you sure you want to delete this asset? This action cannot be\n          undone.\n        </p>\n        <div className=\"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse\">\n          <span className=\"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto\">\n            <Button\n              type=\"destructive\"\n              title=\"Delete\"\n              className=\"w-full inline-flex justify-center\"\n              icon={<TrashIcon className=\"h-5 w-5 text-white\" />}\n              onClick={() => deleteAsset(assetName)}\n            />\n          </span>\n          <span className=\"mt-3 flex w-full rounded-md shadow-sm sm:mt-0 sm:w-auto\">\n            <Button\n              type=\"tertiary\"\n              title=\"Cancel\"\n              className=\"w-full inline-flex justify-center\"\n              onClick={toggleDelete}\n            />\n          </span>\n        </div>\n      </>\n    ),\n  };\n\n  return (\n    <>\n      {assetState.isLoading ? (\n        <LoadingIndicator isLoading={assetState.isLoading} />\n      ) : assetState.isError ? (\n        <ErrorAction isShowing={assetState.isError} />\n      ) : (\n        <div className=\"bg-white overflow-hidden shadow rounded-lg mb-6\">\n          <AssetHeader\n            asset={assetState.asset}\n            toggleAssign={toggleAssign}\n            toggleDelete={toggleDelete}\n          />\n          <AssetBody\n            asset={assetState.asset}\n            ipAddress={assetState.asset.ipAddress}\n            assetType={assetType}\n            handleAssetTypeChange={handleAssetTypeChange}\n            handleAssetUpdate={handleAssetUpdate}\n            isProcessing={assetState.isProcessing}\n          />\n        </div>\n      )}\n      <Modal\n        isShowing={showAssign}\n        hide={assignAssetModal.toggle}\n        modalTitle={assignAssetModal.modalTitle}\n        modalContent={assignAssetModal.modalContent}\n        icon={<PlusIcon className=\"h-6 w-6 text-indigo-600\" />}\n      />\n      <Modal\n        isShowing={showDelete}\n        hide={toggleDelete}\n        modalTitle={`Delete ${assetName}`}\n        modalContent={deleteAssetModal.modalContent}\n        icon={<ExclamationCircleIcon className=\"h-6 w-6 text-red-600\" />}\n        color=\"red\"\n      />\n    </>\n  );\n};\n\nexport default Asset;\n","import React, { useReducer, useEffect } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { MainLayout } from './layouts';\nimport {\n  Settings,\n  Dashboard,\n  PlayerOverview,\n  PlayerSettings,\n  PlayerAssets,\n  PlayerAsset,\n} from './pages';\nimport { Toast } from './components';\nimport { AppState, AppDispatch, Router } from './utils';\nimport { ToastProvider } from 'react-toast-notifications';\nimport localforage from 'localforage';\n\nconst App = () => {\n  const appReducer = (state, action) => {\n    switch (action.type) {\n      case 'SET_PLAYERS':\n        return {\n          ...state,\n          players: action.payload,\n        };\n      case 'SET_TITLE':\n        return {\n          ...state,\n          title: action.payload,\n        };\n      default:\n        throw new Error('Error encountered in App');\n    }\n  };\n\n  const initialData = {\n    players: [],\n    title: '',\n  };\n\n  const [appState, dispatchApp] = useReducer(appReducer, initialData);\n\n  useEffect(() => {\n    let didCancel = false;\n\n    const fetchPlayers = async () => {\n      try {\n        const players = (await localforage.getItem('players')) || [];\n        if (!didCancel) {\n          dispatchApp({\n            type: 'SET_PLAYERS',\n            payload: players,\n          });\n        }\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    fetchPlayers();\n    return () => {\n      didCancel = true;\n    };\n  }, []);\n\n  return (\n    <Router>\n      <AppState.Provider value={appState}>\n        <AppDispatch.Provider value={dispatchApp}>\n          <ToastProvider autoDismiss components={{ Toast: Toast }}>\n            <MainLayout>\n              <Switch>\n                <Route path=\"/settings\" exact component={Settings} />\n                <Route path=\"/dashboard\" exact component={Dashboard} />\n                <Route\n                  path=\"/players/:playerID/overview\"\n                  exact\n                  component={PlayerOverview}\n                />\n                <Route\n                  path=\"/players/:playerID/settings\"\n                  exact\n                  component={PlayerSettings}\n                />\n                <Route\n                  path=\"/players/:playerID/assets\"\n                  exact\n                  component={PlayerAssets}\n                />\n                <Route\n                  path=\"/players/:playerID/assets/:assetName\"\n                  exact\n                  component={PlayerAsset}\n                />\n                <Redirect to=\"/settings\" />\n              </Switch>\n            </MainLayout>\n          </ToastProvider>\n        </AppDispatch.Provider>\n      </AppState.Provider>\n    </Router>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './tailwind.output.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}